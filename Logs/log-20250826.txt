2025-08-26 08:43:05.061 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-26 08:43:05.205 +01:00 [DBG] Hosting starting
2025-08-26 08:43:05.249 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-26 08:43:05.266 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-08-26 08:43:05.288 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-08-26 08:43:05.336 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-08-26 08:43:05.347 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 08:43:05.353 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-26 08:43:05.357 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 08:43:05.369 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-26 08:43:05.372 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-26 08:43:05.377 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-08-26 08:43:05.383 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-08-26 08:43:05.398 +01:00 [DBG] Middleware loaded
2025-08-26 08:43:05.405 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-08-26 08:43:05.408 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-26 08:43:05.564 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-26 08:43:05.569 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-26 08:43:05.589 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-26 08:43:05.804 +01:00 [INF] Now listening on: https://localhost:7258
2025-08-26 08:43:05.807 +01:00 [INF] Now listening on: http://localhost:5191
2025-08-26 08:43:05.809 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-08-26 08:43:05.811 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-26 08:43:05.813 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-26 08:43:05.816 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-26 08:43:05.827 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 08:43:05.834 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 08:43:05.872 +01:00 [DBG] Connection id "0HNF4EGOS76K7" accepted.
2025-08-26 08:43:05.876 +01:00 [DBG] Connection id "0HNF4EGOS76K7" started.
2025-08-26 08:43:05.924 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-26 08:43:05.927 +01:00 [INF] Hosting environment: Development
2025-08-26 08:43:05.931 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-08-26 08:43:05.933 +01:00 [DBG] Hosting started
2025-08-26 08:43:05.954 +01:00 [DBG] Connection 0HNF4EGOS76K7 established using the following protocol: "Tls13"
2025-08-26 08:43:06.044 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-08-26 08:43:06.404 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-26 08:43:06.409 +01:00 [DBG] Request did not match any endpoints
2025-08-26 08:43:06.482 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-26 08:43:06.487 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-26 08:43:06.500 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-26 08:43:06.503 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-26 08:43:06.509 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 474.6662ms
2025-08-26 08:43:06.512 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-08-26 08:43:06.512 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-08-26 08:43:06.549 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-08-26 08:43:06.552 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 39.7175ms
2025-08-26 08:43:06.673 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 161.013ms
2025-08-26 08:43:06.711 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-08-26 08:43:06.725 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-26 08:43:06.727 +01:00 [DBG] Request did not match any endpoints
2025-08-26 08:43:06.763 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 51.7566ms
2025-08-26 08:43:20.209 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Dept - null null
2025-08-26 08:43:20.230 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept'
2025-08-26 08:43:20.237 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.GetAll (CMSApi)' with route pattern 'api/Dept' is valid for the request path '/api/Dept'
2025-08-26 08:43:20.244 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.GetAll (CMSApi)'
2025-08-26 08:43:20.442 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 08:43:20.451 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.GetAll (CMSApi)'
2025-08-26 08:43:20.484 +01:00 [INF] Route matched with {action = "GetAll", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.DeptDto.ResponseDto]]] GetAll() on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 08:43:20.492 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 08:43:20.495 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 08:43:20.499 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 08:43:20.501 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 08:43:20.503 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 08:43:20.506 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 08:43:20.517 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.GetAll (CMSApi) in 9.167ms
2025-08-26 08:43:20.521 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.GetAll (CMSApi)'
2025-08-26 08:43:20.523 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'CMSApi.Application.Interfaces.IDeptService' while attempting to activate 'CMSApi.Presentation.Controllers.DeptController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-26 08:43:20.560 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Dept - 500 null text/plain; charset=utf-8 351.2193ms
2025-08-26 08:45:30.160 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Dept - null null
2025-08-26 08:45:30.206 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept'
2025-08-26 08:45:30.211 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.GetAll (CMSApi)' with route pattern 'api/Dept' is valid for the request path '/api/Dept'
2025-08-26 08:45:30.217 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.GetAll (CMSApi)'
2025-08-26 08:45:30.223 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 08:45:30.238 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.GetAll (CMSApi)'
2025-08-26 08:45:30.243 +01:00 [INF] Route matched with {action = "GetAll", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.DeptDto.ResponseDto]]] GetAll() on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 08:45:30.251 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 08:45:30.258 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 08:45:30.265 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 08:45:30.275 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 08:45:30.282 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 08:45:30.289 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 08:45:30.298 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.GetAll (CMSApi) in 8.2447ms
2025-08-26 08:45:30.304 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.GetAll (CMSApi)'
2025-08-26 08:45:30.311 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'CMSApi.Application.Interfaces.IDeptService' while attempting to activate 'CMSApi.Presentation.Controllers.DeptController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-26 08:45:30.327 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Dept - 500 null text/plain; charset=utf-8 167.3215ms
2025-08-26 08:45:36.849 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-08-26 08:45:36.874 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-26 08:45:36.879 +01:00 [DBG] Request did not match any endpoints
2025-08-26 08:45:36.885 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-26 08:45:36.889 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-26 08:45:36.893 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-26 08:45:36.897 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-26 08:45:36.902 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 53.2803ms
2025-08-26 08:45:36.930 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-08-26 08:45:36.941 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-08-26 08:45:36.960 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-08-26 08:45:36.967 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 26.8096ms
2025-08-26 08:45:36.968 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.866ms
2025-08-26 08:45:37.074 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-08-26 08:45:37.093 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-26 08:45:37.102 +01:00 [DBG] Request did not match any endpoints
2025-08-26 08:45:37.123 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 49.3176ms
2025-08-26 08:45:41.077 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Dept - null null
2025-08-26 08:45:41.087 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept'
2025-08-26 08:45:41.093 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.GetAll (CMSApi)' with route pattern 'api/Dept' is valid for the request path '/api/Dept'
2025-08-26 08:45:41.100 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.GetAll (CMSApi)'
2025-08-26 08:45:41.110 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 08:45:41.116 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.GetAll (CMSApi)'
2025-08-26 08:45:41.121 +01:00 [INF] Route matched with {action = "GetAll", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.DeptDto.ResponseDto]]] GetAll() on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 08:45:41.130 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 08:45:41.138 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 08:45:41.145 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 08:45:41.154 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 08:45:41.161 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 08:45:41.169 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 08:45:41.176 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.GetAll (CMSApi) in 6.9676ms
2025-08-26 08:45:41.183 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.GetAll (CMSApi)'
2025-08-26 08:45:41.190 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'CMSApi.Application.Interfaces.IDeptService' while attempting to activate 'CMSApi.Presentation.Controllers.DeptController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-26 08:45:41.211 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Dept - 500 null text/plain; charset=utf-8 133.8503ms
2025-08-26 08:53:30.558 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-26 08:53:30.724 +01:00 [DBG] Hosting starting
2025-08-26 08:53:30.776 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-26 08:53:30.794 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-08-26 08:53:30.825 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-08-26 08:53:30.839 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-08-26 08:53:30.844 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 08:53:30.849 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-26 08:53:30.853 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 08:53:30.861 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-26 08:53:30.864 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-26 08:53:30.868 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-08-26 08:53:30.871 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-08-26 08:53:30.879 +01:00 [DBG] Middleware loaded
2025-08-26 08:53:30.882 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-08-26 08:53:30.885 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-26 08:53:31.189 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-26 08:53:31.195 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-26 08:53:31.213 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-26 08:53:31.379 +01:00 [INF] Now listening on: https://localhost:7258
2025-08-26 08:53:31.384 +01:00 [INF] Now listening on: http://localhost:5191
2025-08-26 08:53:31.388 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-08-26 08:53:31.391 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-26 08:53:31.396 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-26 08:53:31.399 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-26 08:53:31.415 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 08:53:31.421 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 08:53:31.673 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-26 08:53:31.674 +01:00 [INF] Hosting environment: Development
2025-08-26 08:53:31.677 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-08-26 08:53:31.679 +01:00 [DBG] Hosting started
2025-08-26 08:53:48.143 +01:00 [DBG] Connection id "0HNF4EMO9CFQS" accepted.
2025-08-26 08:53:48.149 +01:00 [DBG] Connection id "0HNF4EMO9CFQS" started.
2025-08-26 08:53:48.245 +01:00 [DBG] Connection 0HNF4EMO9CFQS established using the following protocol: "Tls13"
2025-08-26 08:53:48.378 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-08-26 08:53:48.603 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-26 08:53:48.610 +01:00 [DBG] Request did not match any endpoints
2025-08-26 08:53:48.769 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-26 08:53:48.777 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-26 08:53:48.800 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-26 08:53:48.807 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-26 08:53:48.818 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 453.5674ms
2025-08-26 08:53:48.829 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-08-26 08:53:48.835 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-08-26 08:53:48.896 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-08-26 08:53:48.901 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 66.3164ms
2025-08-26 08:53:48.927 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 97.9452ms
2025-08-26 08:53:49.103 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-08-26 08:53:49.113 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-26 08:53:49.116 +01:00 [DBG] Request did not match any endpoints
2025-08-26 08:53:49.150 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 47.1435ms
2025-08-26 08:53:54.321 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Dept - null null
2025-08-26 08:53:54.340 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept'
2025-08-26 08:53:54.347 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.GetAll (CMSApi)' with route pattern 'api/Dept' is valid for the request path '/api/Dept'
2025-08-26 08:53:54.355 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.GetAll (CMSApi)'
2025-08-26 08:53:54.520 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 08:53:54.530 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.GetAll (CMSApi)'
2025-08-26 08:53:54.565 +01:00 [INF] Route matched with {action = "GetAll", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.DeptDto.ResponseDto]]] GetAll() on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 08:53:54.576 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 08:53:54.583 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 08:53:54.590 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 08:53:54.599 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 08:53:54.606 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 08:53:54.614 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 08:53:54.951 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-26 08:53:55.211 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 08:53:56.707 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 08:53:56.824 +01:00 [DBG] Compiling query expression: 
'DbSet<Department>()'
2025-08-26 08:53:57.408 +01:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Department>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.DeptId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
        SELECT d.DeptId, d.CreatedAt, d.DeptName, d.UpdatedAt
        FROM Departments AS d) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.DeptId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
        SELECT d.DeptId, d.CreatedAt, d.DeptName, d.UpdatedAt
        FROM Departments AS d, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Department entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Department instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Department);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Department.DeptId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Department)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]: 
                        {
                            return 
                            {
                                Department instance;
                                instance = new Department();
                                instance.<DeptId>k__BackingField = dataReader.GetInt32(0);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                instance.<DeptName>k__BackingField = dataReader.GetString(2);
                                instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(3);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Department)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-26 08:53:57.493 +01:00 [DBG] Creating DbConnection.
2025-08-26 08:53:57.555 +01:00 [DBG] Created DbConnection. (57ms).
2025-08-26 08:53:57.568 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 08:53:58.110 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 08:53:58.128 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 08:53:58.176 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (44ms).
2025-08-26 08:53:58.186 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (61ms).
2025-08-26 08:53:58.207 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-08-26 08:53:58.316 +01:00 [ERR] Failed executing DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-08-26 08:53:58.334 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 08:53:58.360 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (18ms).
2025-08-26 08:53:58.418 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CMSApi.Infrastructure.Data.CMSDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Departments'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:eb5bb3e8-69e9-498e-a29d-f9112e06a0e8
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Departments'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:eb5bb3e8-69e9-498e-a29d-f9112e06a0e8
Error Number:208,State:1,Class:16
2025-08-26 09:03:03.486 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-26 09:03:04.061 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 09:03:04.193 +01:00 [DBG] Creating DbConnection.
2025-08-26 09:03:04.227 +01:00 [DBG] Created DbConnection. (31ms).
2025-08-26 09:03:04.230 +01:00 [DBG] Migrating using database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:03:04.235 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:03:04.379 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:03:04.384 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-26 09:03:04.390 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2025-08-26 09:03:04.391 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (8ms).
2025-08-26 09:03:04.396 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-26 09:03:04.424 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-26 09:03:04.426 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:03:04.432 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (3ms).
2025-08-26 09:03:04.433 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:03:04.434 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:03:04.435 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-26 09:03:04.436 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-26 09:03:04.436 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-08-26 09:03:04.437 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-08-26 09:03:04.437 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-26 09:03:04.472 +01:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-26 09:03:04.535 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-08-26 09:03:04.541 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-08-26 09:03:04.542 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-26 09:03:04.542 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-26 09:03:04.543 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-26 09:03:04.543 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-26 09:03:04.545 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-26 09:03:04.546 +01:00 [DBG] Committing transaction.
2025-08-26 09:03:04.548 +01:00 [DBG] Committed transaction.
2025-08-26 09:03:04.549 +01:00 [DBG] Disposing transaction.
2025-08-26 09:03:04.551 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-08-26 09:03:04.551 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-08-26 09:03:04.553 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-26 09:03:04.553 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-26 09:03:04.553 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-26 09:03:04.553 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-26 09:03:04.554 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-26 09:03:04.554 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-26 09:03:04.554 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-08-26 09:03:04.554 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-08-26 09:03:04.554 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-26 09:03:04.555 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-26 09:03:04.557 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 09:03:04.557 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-26 09:03:04.557 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-08-26 09:03:04.558 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-26 09:03:04.563 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-26 09:03:04.664 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:03:04.666 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-08-26 09:03:04.675 +01:00 [INF] Applying migration '20250825125326_AddDepartmentEntity'.
2025-08-26 09:03:04.694 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-26 09:03:04.694 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-26 09:03:04.694 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-26 09:03:04.694 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Departments] (
    [DeptId] int NOT NULL IDENTITY,
    [DeptName] nvarchar(max) NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [UpdatedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([DeptId])
);
2025-08-26 09:03:04.700 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Departments] (
    [DeptId] int NOT NULL IDENTITY,
    [DeptName] nvarchar(max) NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [UpdatedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([DeptId])
);
2025-08-26 09:03:04.700 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-26 09:03:04.701 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-26 09:03:04.701 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-26 09:03:04.701 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Employees] (
    [Id] int NOT NULL IDENTITY,
    [Firstname] nvarchar(max) NOT NULL,
    [Middlename] nvarchar(max) NULL,
    [Lastname] nvarchar(max) NOT NULL,
    [Gender] nvarchar(max) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Phone] nvarchar(max) NOT NULL,
    [DOB] date NOT NULL,
    [Role] nvarchar(max) NOT NULL,
    [IsActive] bit NOT NULL,
    [PasswordHash] nvarchar(max) NOT NULL,
    [RefreshToken] nvarchar(max) NULL,
    [RefreshTokenExpiryTime] datetime2 NOT NULL,
    [DeptId] int NULL,
    [CreatedAt] datetime2 NOT NULL,
    [UpdatedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_Employees] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Employees_Departments_DeptId] FOREIGN KEY ([DeptId]) REFERENCES [Departments] ([DeptId]) ON DELETE NO ACTION
);
2025-08-26 09:03:04.729 +01:00 [ERR] Failed executing DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Employees] (
    [Id] int NOT NULL IDENTITY,
    [Firstname] nvarchar(max) NOT NULL,
    [Middlename] nvarchar(max) NULL,
    [Lastname] nvarchar(max) NOT NULL,
    [Gender] nvarchar(max) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Phone] nvarchar(max) NOT NULL,
    [DOB] date NOT NULL,
    [Role] nvarchar(max) NOT NULL,
    [IsActive] bit NOT NULL,
    [PasswordHash] nvarchar(max) NOT NULL,
    [RefreshToken] nvarchar(max) NULL,
    [RefreshTokenExpiryTime] datetime2 NOT NULL,
    [DeptId] int NULL,
    [CreatedAt] datetime2 NOT NULL,
    [UpdatedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_Employees] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Employees_Departments_DeptId] FOREIGN KEY ([DeptId]) REFERENCES [Departments] ([DeptId]) ON DELETE NO ACTION
);
2025-08-26 09:03:04.729 +01:00 [DBG] Disposing transaction.
2025-08-26 09:03:04.734 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-26 09:03:04.734 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-08-26 09:03:04.734 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-08-26 09:03:04.734 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-26 09:03:04.737 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-26 09:03:04.738 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:03:04.738 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (0ms).
2025-08-26 09:03:04.740 +01:00 [DBG] 'CMSDbContext' disposed.
2025-08-26 09:03:04.742 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:03:07.832 +01:00 [DBG] Disposed connection to database '' on server '' (3088ms).
2025-08-26 09:05:50.347 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-26 09:05:50.763 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 09:05:50.863 +01:00 [DBG] Creating DbConnection.
2025-08-26 09:05:50.893 +01:00 [DBG] Created DbConnection. (28ms).
2025-08-26 09:05:50.897 +01:00 [DBG] Migrating using database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:05:50.901 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:05:51.040 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:05:51.045 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-26 09:05:51.050 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-08-26 09:05:51.051 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (7ms).
2025-08-26 09:05:51.056 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-26 09:05:51.083 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-26 09:05:51.084 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:05:51.091 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (3ms).
2025-08-26 09:05:51.091 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:05:51.092 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:05:51.092 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-26 09:05:51.094 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-26 09:05:51.094 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-08-26 09:05:51.094 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-08-26 09:05:51.094 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-26 09:05:51.106 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-26 09:05:51.157 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-08-26 09:05:51.162 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-08-26 09:05:51.163 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-26 09:05:51.163 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-26 09:05:51.164 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-08-26 09:05:51.164 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-26 09:05:51.165 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-26 09:05:51.167 +01:00 [DBG] Committing transaction.
2025-08-26 09:05:51.169 +01:00 [DBG] Committed transaction.
2025-08-26 09:05:51.170 +01:00 [DBG] Disposing transaction.
2025-08-26 09:05:51.171 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-08-26 09:05:51.172 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-08-26 09:05:51.173 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-26 09:05:51.173 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-26 09:05:51.173 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-26 09:05:51.173 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-26 09:05:51.174 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-26 09:05:51.174 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-26 09:05:51.174 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-08-26 09:05:51.174 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-08-26 09:05:51.174 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-26 09:05:51.174 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-26 09:05:51.176 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 09:05:51.176 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-26 09:05:51.176 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-08-26 09:05:51.176 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-26 09:05:51.182 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-26 09:05:51.286 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:05:51.288 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-08-26 09:05:51.297 +01:00 [INF] Applying migration '20250825125326_AddDepartmentEntity'.
2025-08-26 09:05:51.317 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-26 09:05:51.317 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-26 09:05:51.317 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-26 09:05:51.317 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Departments] (
    [DeptId] int NOT NULL IDENTITY,
    [DeptName] nvarchar(max) NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [UpdatedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([DeptId])
);
2025-08-26 09:05:51.320 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Departments] (
    [DeptId] int NOT NULL IDENTITY,
    [DeptName] nvarchar(max) NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [UpdatedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([DeptId])
);
2025-08-26 09:05:51.320 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-26 09:05:51.320 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-26 09:05:51.320 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-26 09:05:51.320 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Employees_DeptId] ON [Employees] ([DeptId]);
2025-08-26 09:05:51.352 +01:00 [ERR] Failed executing DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Employees_DeptId] ON [Employees] ([DeptId]);
2025-08-26 09:05:51.352 +01:00 [DBG] Disposing transaction.
2025-08-26 09:05:51.356 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-26 09:05:51.356 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-08-26 09:05:51.356 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-08-26 09:05:51.357 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-26 09:05:51.359 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-26 09:05:51.359 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:05:51.360 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (0ms).
2025-08-26 09:05:51.362 +01:00 [DBG] 'CMSDbContext' disposed.
2025-08-26 09:05:51.365 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:05:51.366 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-26 09:26:52.180 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-26 09:26:52.327 +01:00 [DBG] Hosting starting
2025-08-26 09:26:52.382 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-26 09:26:52.412 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-08-26 09:26:52.430 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-08-26 09:26:52.446 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-08-26 09:26:52.453 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 09:26:52.458 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-26 09:26:52.462 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 09:26:52.468 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-26 09:26:52.471 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-26 09:26:52.474 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-08-26 09:26:52.476 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-08-26 09:26:52.484 +01:00 [DBG] Middleware loaded
2025-08-26 09:26:52.488 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-08-26 09:26:52.492 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-26 09:26:52.595 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-26 09:26:52.601 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-26 09:26:52.617 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-26 09:26:52.809 +01:00 [INF] Now listening on: https://localhost:7258
2025-08-26 09:26:52.813 +01:00 [INF] Now listening on: http://localhost:5191
2025-08-26 09:26:52.815 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-08-26 09:26:52.816 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-26 09:26:52.818 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-26 09:26:52.819 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-26 09:26:52.833 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 09:26:52.836 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 09:26:53.027 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-26 09:26:53.029 +01:00 [INF] Hosting environment: Development
2025-08-26 09:26:53.032 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-08-26 09:26:53.036 +01:00 [DBG] Hosting started
2025-08-26 09:27:21.712 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-26 09:27:22.142 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 09:27:22.563 +01:00 [DBG] Creating DbConnection.
2025-08-26 09:27:22.591 +01:00 [DBG] Created DbConnection. (26ms).
2025-08-26 09:27:22.597 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:27:22.769 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:27:22.774 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-26 09:27:22.780 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2025-08-26 09:27:22.781 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (8ms).
2025-08-26 09:27:22.786 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-26 09:27:22.815 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-26 09:27:22.817 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:27:22.824 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (4ms).
2025-08-26 09:27:22.827 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-26 09:27:22.827 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-08-26 09:27:22.827 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-08-26 09:27:22.827 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:27:22.828 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:27:22.828 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-26 09:27:22.839 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-26 09:27:22.839 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:27:22.839 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (0ms).
2025-08-26 09:27:22.847 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:27:22.847 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:27:22.847 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 09:27:22.848 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-26 09:27:22.848 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-08-26 09:27:22.848 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-26 09:27:22.853 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-26 09:27:22.855 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:27:22.856 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-26 09:27:22.856 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:27:22.856 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (0ms).
2025-08-26 09:27:22.922 +01:00 [DBG] 'CMSDbContext' disposed.
2025-08-26 09:27:22.924 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:27:22.925 +01:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-26 09:28:05.010 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-26 09:28:05.440 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 09:28:05.906 +01:00 [DBG] 'CMSDbContext' disposed.
2025-08-26 09:28:40.986 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-26 09:28:41.405 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 09:28:41.518 +01:00 [DBG] Creating DbConnection.
2025-08-26 09:28:41.560 +01:00 [DBG] Created DbConnection. (39ms).
2025-08-26 09:28:41.564 +01:00 [DBG] Migrating using database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:28:41.569 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:28:41.740 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:28:41.748 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-26 09:28:41.754 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2025-08-26 09:28:41.756 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2025-08-26 09:28:41.761 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-26 09:28:41.787 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-26 09:28:41.789 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:28:41.794 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (3ms).
2025-08-26 09:28:41.795 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:28:41.795 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:28:41.796 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-26 09:28:41.798 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-26 09:28:41.798 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-08-26 09:28:41.798 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-08-26 09:28:41.798 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-26 09:28:41.810 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-26 09:28:41.862 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-08-26 09:28:41.867 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-08-26 09:28:41.867 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-26 09:28:41.867 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-26 09:28:41.868 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-26 09:28:41.868 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-26 09:28:41.870 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-26 09:28:41.871 +01:00 [DBG] Committing transaction.
2025-08-26 09:28:41.873 +01:00 [DBG] Committed transaction.
2025-08-26 09:28:41.874 +01:00 [DBG] Disposing transaction.
2025-08-26 09:28:41.875 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-08-26 09:28:41.876 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-08-26 09:28:41.877 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-26 09:28:41.877 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-26 09:28:41.877 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-26 09:28:41.877 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-26 09:28:41.878 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-26 09:28:41.878 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-26 09:28:41.878 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-08-26 09:28:41.878 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-08-26 09:28:41.878 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-26 09:28:41.879 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-26 09:28:41.881 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 09:28:41.881 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-26 09:28:41.881 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-08-26 09:28:41.882 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-26 09:28:41.885 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-26 09:28:41.986 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:28:41.988 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-08-26 09:28:41.999 +01:00 [INF] Applying migration '20250826082805_AddDepartment'.
2025-08-26 09:28:42.023 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-26 09:28:42.024 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-26 09:28:42.024 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-26 09:28:42.024 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Employees] ADD [CreatedAt] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';
2025-08-26 09:28:42.064 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Employees] ADD [CreatedAt] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';
2025-08-26 09:28:42.064 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-26 09:28:42.064 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-26 09:28:42.064 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-26 09:28:42.065 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Employees] ADD [DeptId] int NULL;
2025-08-26 09:28:42.067 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Employees] ADD [DeptId] int NULL;
2025-08-26 09:28:42.067 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-26 09:28:42.067 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-26 09:28:42.067 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-26 09:28:42.067 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Employees] ADD [UpdatedAt] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';
2025-08-26 09:28:42.072 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Employees] ADD [UpdatedAt] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';
2025-08-26 09:28:42.073 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-26 09:28:42.073 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-26 09:28:42.073 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-26 09:28:42.073 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Departments] (
    [DeptId] int NOT NULL IDENTITY,
    [DeptName] nvarchar(max) NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [UpdatedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([DeptId])
);
2025-08-26 09:28:42.076 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Departments] (
    [DeptId] int NOT NULL IDENTITY,
    [DeptName] nvarchar(max) NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [UpdatedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([DeptId])
);
2025-08-26 09:28:42.076 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-26 09:28:42.076 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-26 09:28:42.076 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-26 09:28:42.076 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Employees_DeptId] ON [Employees] ([DeptId]);
2025-08-26 09:28:42.103 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Employees_DeptId] ON [Employees] ([DeptId]);
2025-08-26 09:28:42.103 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-26 09:28:42.103 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-26 09:28:42.103 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-26 09:28:42.104 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Employees] ADD CONSTRAINT [FK_Employees_Departments_DeptId] FOREIGN KEY ([DeptId]) REFERENCES [Departments] ([DeptId]) ON DELETE NO ACTION;
2025-08-26 09:28:42.111 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Employees] ADD CONSTRAINT [FK_Employees_Departments_DeptId] FOREIGN KEY ([DeptId]) REFERENCES [Departments] ([DeptId]) ON DELETE NO ACTION;
2025-08-26 09:28:42.111 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-26 09:28:42.111 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-26 09:28:42.111 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-26 09:28:44.798 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250826082805_AddDepartment', N'9.0.8');
2025-08-26 09:28:44.802 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250826082805_AddDepartment', N'9.0.8');
2025-08-26 09:28:44.803 +01:00 [DBG] Committing transaction.
2025-08-26 09:28:44.806 +01:00 [DBG] Committed transaction.
2025-08-26 09:28:44.806 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-26 09:28:44.807 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-08-26 09:28:44.807 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-08-26 09:28:44.807 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-26 09:28:44.811 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-26 09:28:44.811 +01:00 [DBG] Disposing transaction.
2025-08-26 09:28:44.811 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:28:44.812 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (0ms).
2025-08-26 09:28:44.815 +01:00 [DBG] 'CMSDbContext' disposed.
2025-08-26 09:28:44.818 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:28:44.820 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-26 09:29:42.011 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-26 09:29:42.133 +01:00 [DBG] Hosting starting
2025-08-26 09:29:42.169 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-26 09:29:42.200 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-08-26 09:29:42.226 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-08-26 09:29:42.257 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-08-26 09:29:42.272 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 09:29:42.284 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-26 09:29:42.292 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 09:29:42.312 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-26 09:29:42.323 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-26 09:29:42.333 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-08-26 09:29:42.346 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-08-26 09:29:42.370 +01:00 [DBG] Middleware loaded
2025-08-26 09:29:42.379 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-08-26 09:29:42.382 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-26 09:29:42.515 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-26 09:29:42.519 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-26 09:29:42.537 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-26 09:29:42.728 +01:00 [INF] Now listening on: https://localhost:7258
2025-08-26 09:29:42.734 +01:00 [INF] Now listening on: http://localhost:5191
2025-08-26 09:29:42.740 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-08-26 09:29:42.744 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-26 09:29:42.749 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-26 09:29:42.753 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-26 09:29:42.771 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 09:29:42.781 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 09:29:43.043 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-26 09:29:43.044 +01:00 [INF] Hosting environment: Development
2025-08-26 09:29:43.048 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-08-26 09:29:43.049 +01:00 [DBG] Hosting started
2025-08-26 09:29:52.052 +01:00 [DBG] Connection id "0HNF4FAT61EV5" accepted.
2025-08-26 09:29:52.058 +01:00 [DBG] Connection id "0HNF4FAT61EV5" started.
2025-08-26 09:29:52.160 +01:00 [DBG] Connection 0HNF4FAT61EV5 established using the following protocol: "Tls13"
2025-08-26 09:29:52.271 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-08-26 09:29:52.439 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-26 09:29:52.444 +01:00 [DBG] Request did not match any endpoints
2025-08-26 09:29:52.508 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-26 09:29:52.515 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-26 09:29:52.524 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-26 09:29:52.527 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-26 09:29:52.534 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 267.2249ms
2025-08-26 09:29:52.544 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-08-26 09:29:52.544 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-08-26 09:29:52.599 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-08-26 09:29:52.604 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 59.1233ms
2025-08-26 09:29:52.625 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 80.3883ms
2025-08-26 09:29:52.781 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-08-26 09:29:52.790 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-26 09:29:52.793 +01:00 [DBG] Request did not match any endpoints
2025-08-26 09:29:52.815 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 33.967ms
2025-08-26 09:29:59.649 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Dept - null null
2025-08-26 09:29:59.684 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept'
2025-08-26 09:29:59.693 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.GetAll (CMSApi)' with route pattern 'api/Dept' is valid for the request path '/api/Dept'
2025-08-26 09:29:59.701 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.GetAll (CMSApi)'
2025-08-26 09:29:59.997 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 09:30:00.010 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.GetAll (CMSApi)'
2025-08-26 09:30:00.058 +01:00 [INF] Route matched with {action = "GetAll", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.DeptDto.ResponseDto]]] GetAll() on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 09:30:00.067 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 09:30:00.074 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 09:30:00.082 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 09:30:00.092 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 09:30:00.099 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 09:30:00.109 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 09:30:00.413 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-26 09:30:00.644 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 09:30:02.014 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 09:30:02.161 +01:00 [DBG] Compiling query expression: 
'DbSet<Department>()'
2025-08-26 09:30:02.736 +01:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Department>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.DeptId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
        SELECT d.DeptId, d.CreatedAt, d.DeptName, d.UpdatedAt
        FROM Departments AS d) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.DeptId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
        SELECT d.DeptId, d.CreatedAt, d.DeptName, d.UpdatedAt
        FROM Departments AS d, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Department entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Department instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Department);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Department.DeptId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Department)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]: 
                        {
                            return 
                            {
                                Department instance;
                                instance = new Department();
                                instance.<DeptId>k__BackingField = dataReader.GetInt32(0);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                instance.<DeptName>k__BackingField = dataReader.GetString(2);
                                instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(3);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Department)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-26 09:30:02.823 +01:00 [DBG] Creating DbConnection.
2025-08-26 09:30:02.885 +01:00 [DBG] Created DbConnection. (54ms).
2025-08-26 09:30:02.899 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:30:03.587 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:30:03.603 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 09:30:03.623 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (15ms).
2025-08-26 09:30:03.635 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (33ms).
2025-08-26 09:30:03.663 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-08-26 09:30:03.790 +01:00 [INF] Executed DbCommand (125ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-08-26 09:30:03.829 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:30:03.847 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 36ms reading results.
2025-08-26 09:30:03.861 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:30:03.879 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (18ms).
2025-08-26 09:36:47.114 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-26 09:36:47.337 +01:00 [DBG] Hosting starting
2025-08-26 09:36:47.394 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-26 09:36:47.416 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-08-26 09:36:47.428 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-08-26 09:36:47.441 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-08-26 09:36:47.448 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 09:36:47.452 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-26 09:36:47.455 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 09:36:47.464 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-26 09:36:47.468 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-26 09:36:47.472 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-08-26 09:36:47.476 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-08-26 09:36:47.486 +01:00 [DBG] Middleware loaded
2025-08-26 09:36:47.490 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-08-26 09:36:47.495 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-26 09:36:47.606 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-26 09:36:47.611 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-26 09:36:47.623 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-26 09:36:47.760 +01:00 [INF] Now listening on: https://localhost:7258
2025-08-26 09:36:47.764 +01:00 [INF] Now listening on: http://localhost:5191
2025-08-26 09:36:47.768 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-08-26 09:36:47.773 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-26 09:36:47.778 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-26 09:36:47.783 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-26 09:36:47.805 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 09:36:47.815 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 09:36:48.268 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-26 09:36:48.272 +01:00 [INF] Hosting environment: Development
2025-08-26 09:36:48.276 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-08-26 09:36:48.279 +01:00 [DBG] Hosting started
2025-08-26 09:36:49.296 +01:00 [DBG] Connection id "0HNF4FEPH609I" accepted.
2025-08-26 09:36:49.301 +01:00 [DBG] Connection id "0HNF4FEPH609I" started.
2025-08-26 09:36:49.367 +01:00 [DBG] Connection 0HNF4FEPH609I established using the following protocol: "Tls13"
2025-08-26 09:36:49.451 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Dept - null null
2025-08-26 09:36:49.521 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept'
2025-08-26 09:36:49.527 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.GetAll (CMSApi)' with route pattern 'api/Dept' is valid for the request path '/api/Dept'
2025-08-26 09:36:49.533 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.GetAll (CMSApi)'
2025-08-26 09:36:49.716 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 09:36:49.727 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.GetAll (CMSApi)'
2025-08-26 09:36:49.757 +01:00 [INF] Route matched with {action = "GetAll", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.DeptDto.ResponseDto]]] GetAll() on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 09:36:49.764 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 09:36:49.767 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 09:36:49.769 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 09:36:49.774 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 09:36:49.778 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 09:36:49.782 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 09:36:49.943 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-26 09:36:50.146 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 09:36:50.796 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 09:36:50.865 +01:00 [DBG] Compiling query expression: 
'DbSet<Department>()'
2025-08-26 09:36:51.154 +01:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Department>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.DeptId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
        SELECT d.DeptId, d.CreatedAt, d.DeptName, d.UpdatedAt
        FROM Departments AS d) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.DeptId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
        SELECT d.DeptId, d.CreatedAt, d.DeptName, d.UpdatedAt
        FROM Departments AS d, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Department entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Department instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Department);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Department.DeptId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Department)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]: 
                        {
                            return 
                            {
                                Department instance;
                                instance = new Department();
                                instance.<DeptId>k__BackingField = dataReader.GetInt32(0);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                instance.<DeptName>k__BackingField = dataReader.GetString(2);
                                instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(3);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Department)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-26 09:36:51.192 +01:00 [DBG] Creating DbConnection.
2025-08-26 09:36:51.215 +01:00 [DBG] Created DbConnection. (21ms).
2025-08-26 09:36:51.229 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:36:51.523 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:36:51.531 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 09:36:51.541 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-08-26 09:36:51.547 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-08-26 09:36:51.555 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-08-26 09:36:51.615 +01:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-08-26 09:36:51.634 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:36:51.644 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 16ms reading results.
2025-08-26 09:36:51.650 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:36:51.669 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (16ms).
2025-08-26 09:36:51.681 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 09:36:51.690 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-08-26 09:36:51.696 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-08-26 09:36:51.699 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-26 09:36:51.700 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-26 09:36:51.702 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-26 09:36:51.707 +01:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-26 09:36:51.720 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.GetAll (CMSApi) in 1936.1453ms
2025-08-26 09:36:51.726 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.GetAll (CMSApi)'
2025-08-26 09:36:51.735 +01:00 [DBG] 'CMSDbContext' disposed.
2025-08-26 09:36:51.742 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 09:36:51.746 +01:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-26 09:36:51.751 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Dept - 404 null application/json; charset=utf-8 2306.3694ms
2025-08-26 09:42:17.832 +01:00 [DBG] Connection id "0HNF4FEPH609I" received FIN.
2025-08-26 09:42:17.907 +01:00 [DBG] Connection id "0HNF4FEPH609I" is closed. The last processed stream ID was 1.
2025-08-26 09:42:17.912 +01:00 [DBG] The connection queue processing loop for 0HNF4FEPH609I completed.
2025-08-26 09:42:17.917 +01:00 [DBG] Connection id "0HNF4FEPH609I" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-26 09:42:17.934 +01:00 [DBG] Connection id "0HNF4FEPH609I" stopped.
2025-08-26 10:15:01.045 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-26 10:15:01.187 +01:00 [DBG] Hosting starting
2025-08-26 10:15:01.323 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-26 10:15:01.375 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-08-26 10:15:01.418 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-08-26 10:15:01.460 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-08-26 10:15:01.474 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 10:15:01.482 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-26 10:15:01.488 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 10:15:01.501 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-26 10:15:01.507 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-26 10:15:01.514 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-08-26 10:15:01.520 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-08-26 10:15:01.529 +01:00 [DBG] Middleware loaded
2025-08-26 10:15:01.534 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-08-26 10:15:01.538 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-26 10:15:01.646 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-26 10:15:01.651 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-26 10:15:01.669 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-26 10:15:01.925 +01:00 [INF] Now listening on: https://localhost:7258
2025-08-26 10:15:01.933 +01:00 [INF] Now listening on: http://localhost:5191
2025-08-26 10:15:01.938 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-08-26 10:15:01.942 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-26 10:15:01.948 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-26 10:15:01.953 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-26 10:15:01.973 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 10:15:01.984 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 10:15:02.126 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-26 10:15:02.130 +01:00 [INF] Hosting environment: Development
2025-08-26 10:15:02.135 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-08-26 10:15:02.140 +01:00 [DBG] Hosting started
2025-08-26 10:16:35.295 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-26 10:16:35.432 +01:00 [DBG] Hosting starting
2025-08-26 10:16:35.480 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-26 10:16:35.504 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-08-26 10:16:35.524 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-08-26 10:16:35.543 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-08-26 10:16:35.552 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 10:16:35.556 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-26 10:16:35.559 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 10:16:35.569 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-26 10:16:35.573 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-26 10:16:35.578 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-08-26 10:16:35.583 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-08-26 10:16:35.608 +01:00 [DBG] Middleware loaded
2025-08-26 10:16:35.616 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-08-26 10:16:35.620 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-26 10:16:35.779 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-26 10:16:35.786 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-26 10:16:35.800 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-26 10:16:35.951 +01:00 [INF] Now listening on: https://localhost:7258
2025-08-26 10:16:35.956 +01:00 [INF] Now listening on: http://localhost:5191
2025-08-26 10:16:35.959 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-08-26 10:16:35.961 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-26 10:16:35.963 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-26 10:16:35.964 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-26 10:16:35.972 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 10:16:35.976 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 10:16:36.039 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-26 10:16:36.040 +01:00 [INF] Hosting environment: Development
2025-08-26 10:16:36.042 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-08-26 10:16:36.044 +01:00 [DBG] Hosting started
2025-08-26 10:16:38.006 +01:00 [DBG] Connection id "0HNF4G51DMH7G" accepted.
2025-08-26 10:16:38.011 +01:00 [DBG] Connection id "0HNF4G51DMH7G" started.
2025-08-26 10:16:38.071 +01:00 [DBG] Connection 0HNF4G51DMH7G established using the following protocol: "Tls13"
2025-08-26 10:16:38.147 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-08-26 10:16:38.273 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-26 10:16:38.277 +01:00 [DBG] Request did not match any endpoints
2025-08-26 10:16:38.402 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-26 10:16:38.407 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-26 10:16:38.416 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-26 10:16:38.419 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-26 10:16:38.425 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 282.67ms
2025-08-26 10:16:38.435 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-08-26 10:16:38.435 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-08-26 10:16:38.485 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-08-26 10:16:38.492 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 56.6869ms
2025-08-26 10:16:38.522 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 87.0301ms
2025-08-26 10:16:38.667 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-08-26 10:16:38.676 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-26 10:16:38.680 +01:00 [DBG] Request did not match any endpoints
2025-08-26 10:16:38.701 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 33.2388ms
2025-08-26 10:16:43.826 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Dept - null null
2025-08-26 10:16:43.851 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept'
2025-08-26 10:16:43.857 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)' with route pattern 'api/Dept' is valid for the request path '/api/Dept'
2025-08-26 10:16:43.866 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)'
2025-08-26 10:16:44.057 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 10:16:44.068 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)'
2025-08-26 10:16:44.118 +01:00 [INF] Route matched with {action = "GetDepartments", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartments() on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 10:16:44.131 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 10:16:44.141 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 10:16:44.148 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 10:16:44.158 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 10:16:44.165 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 10:16:44.178 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 10:16:44.457 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-26 10:16:44.695 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 10:16:46.079 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 10:16:46.173 +01:00 [DBG] Compiling query expression: 
'DbSet<Department>()'
2025-08-26 10:16:46.704 +01:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Department>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.DeptId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
        SELECT d.DeptId, d.CreatedAt, d.DeptName, d.UpdatedAt
        FROM Departments AS d) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.DeptId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
        SELECT d.DeptId, d.CreatedAt, d.DeptName, d.UpdatedAt
        FROM Departments AS d, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Department entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Department instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Department);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Department.DeptId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Department)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]: 
                        {
                            return 
                            {
                                Department instance;
                                instance = new Department();
                                instance.<DeptId>k__BackingField = dataReader.GetInt32(0);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                instance.<DeptName>k__BackingField = dataReader.GetString(2);
                                instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(3);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Department)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-26 10:16:46.792 +01:00 [DBG] Creating DbConnection.
2025-08-26 10:16:46.835 +01:00 [DBG] Created DbConnection. (41ms).
2025-08-26 10:16:46.849 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 10:16:47.300 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 10:16:47.314 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 10:16:47.333 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (12ms).
2025-08-26 10:16:47.342 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (29ms).
2025-08-26 10:16:47.362 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-08-26 10:16:47.490 +01:00 [INF] Executed DbCommand (119ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-08-26 10:16:47.539 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 10:16:47.559 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 46ms reading results.
2025-08-26 10:16:47.569 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 10:16:47.586 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (16ms).
2025-08-26 10:16:47.608 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 10:16:47.622 +01:00 [DBG] No information found on request to perform content negotiation.
2025-08-26 10:16:47.626 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-26 10:16:47.630 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-26 10:16:47.635 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-26 10:16:47.641 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'CMSApi.Application.DTO.DeptDto.DepartmentResponseDto'.
2025-08-26 10:16:47.663 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi) in 3484.2931ms
2025-08-26 10:16:47.669 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)'
2025-08-26 10:16:47.681 +01:00 [DBG] 'CMSDbContext' disposed.
2025-08-26 10:16:47.695 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 10:16:47.704 +01:00 [DBG] Disposed connection to database '' on server '' (9ms).
2025-08-26 10:16:47.712 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Dept - 404 null application/json; charset=utf-8 3886.2781ms
2025-08-26 10:23:22.360 +01:00 [DBG] Connection id "0HNF4G51DMH7G" received FIN.
2025-08-26 10:23:22.810 +01:00 [DBG] Connection id "0HNF4G51DMH7G" is closed. The last processed stream ID was 9.
2025-08-26 10:23:22.980 +01:00 [DBG] Connection id "0HNF4G51DMH7G" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-26 10:23:23.750 +01:00 [DBG] The connection queue processing loop for 0HNF4G51DMH7G completed.
2025-08-26 10:23:23.954 +01:00 [DBG] Connection id "0HNF4G51DMH7G" stopped.
2025-08-26 11:16:47.611 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-26 11:16:47.743 +01:00 [DBG] Hosting starting
2025-08-26 11:16:47.783 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-26 11:16:47.795 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-08-26 11:16:47.808 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-08-26 11:16:47.823 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-08-26 11:16:47.830 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 11:16:47.836 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-26 11:16:47.839 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 11:16:47.845 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-26 11:16:47.850 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-26 11:16:47.856 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-08-26 11:16:47.859 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-08-26 11:16:47.867 +01:00 [DBG] Middleware loaded
2025-08-26 11:16:47.871 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-08-26 11:16:47.876 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-26 11:16:47.974 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-26 11:16:47.980 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-26 11:16:47.992 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-26 11:16:48.157 +01:00 [INF] Now listening on: https://localhost:7258
2025-08-26 11:16:48.163 +01:00 [INF] Now listening on: http://localhost:5191
2025-08-26 11:16:48.166 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-08-26 11:16:48.168 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-26 11:16:48.169 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-26 11:16:48.170 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-26 11:16:48.177 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 11:16:48.179 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 11:16:48.354 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-26 11:16:48.356 +01:00 [INF] Hosting environment: Development
2025-08-26 11:16:48.358 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-08-26 11:16:48.361 +01:00 [DBG] Hosting started
2025-08-26 11:16:59.430 +01:00 [DBG] Connection id "0HNF4H6OM92KQ" accepted.
2025-08-26 11:16:59.442 +01:00 [DBG] Connection id "0HNF4H6OM92KQ" started.
2025-08-26 11:16:59.625 +01:00 [DBG] Connection 0HNF4H6OM92KQ established using the following protocol: "Tls13"
2025-08-26 11:16:59.766 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-08-26 11:17:00.075 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-26 11:17:00.082 +01:00 [DBG] Request did not match any endpoints
2025-08-26 11:17:00.214 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-26 11:17:00.221 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-26 11:17:00.238 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-26 11:17:00.241 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-26 11:17:00.248 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 494.7264ms
2025-08-26 11:17:00.265 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-08-26 11:17:00.265 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-08-26 11:17:00.298 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-08-26 11:17:00.302 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 37.1416ms
2025-08-26 11:17:00.322 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.7132ms
2025-08-26 11:17:00.485 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-08-26 11:17:00.493 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-26 11:17:00.496 +01:00 [DBG] Request did not match any endpoints
2025-08-26 11:17:00.529 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 44.0483ms
2025-08-26 11:17:58.796 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7258/api/Dept - application/json 39
2025-08-26 11:17:58.834 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept'
2025-08-26 11:17:58.841 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)' with route pattern 'api/Dept' is valid for the request path '/api/Dept'
2025-08-26 11:17:58.850 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-08-26 11:17:58.880 +01:00 [INF] No CORS policy found for the specified request.
2025-08-26 11:17:59.054 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 11:17:59.063 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-08-26 11:17:59.114 +01:00 [INF] Route matched with {action = "CreateDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateDepartment(CMSApi.Application.DTO.DeptDto.CreateDeptDto) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 11:17:59.126 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 11:17:59.134 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 11:17:59.142 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 11:17:59.151 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 11:17:59.158 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 11:17:59.169 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 11:17:59.489 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-26 11:17:59.748 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 11:17:59.811 +01:00 [DBG] Attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' ...
2025-08-26 11:17:59.824 +01:00 [DBG] Attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' using the name '' in request data ...
2025-08-26 11:17:59.833 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-26 11:17:59.861 +01:00 [DBG] Connection id "0HNF4H6OM92KQ", Request id "0HNF4H6OM92KQ:00000009": started reading request body.
2025-08-26 11:17:59.868 +01:00 [DBG] Connection id "0HNF4H6OM92KQ", Request id "0HNF4H6OM92KQ:00000009": done reading request body.
2025-08-26 11:17:59.898 +01:00 [DBG] JSON input formatter threw an exception: The JSON object contains a trailing comma at the end which is not supported in this mode. Change the reader options. Path: $ | LineNumber: 3 | BytePositionInLine: 0.
2025-08-26 11:17:59.903 +01:00 [DBG] Done attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-08-26 11:17:59.910 +01:00 [DBG] Done attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-08-26 11:17:59.916 +01:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' ...
2025-08-26 11:17:59.938 +01:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-08-26 11:17:59.949 +01:00 [DBG] The request has model state errors, returning an error response.
2025-08-26 11:17:59.956 +01:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-08-26 11:17:59.967 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 11:17:59.983 +01:00 [DBG] No information found on request to perform content negotiation.
2025-08-26 11:17:59.988 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-08-26 11:18:00.001 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-08-26 11:18:00.008 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-26 11:18:00.058 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi) in 885.7261ms
2025-08-26 11:18:00.065 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-08-26 11:18:00.075 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7258/api/Dept - 400 null application/problem+json; charset=utf-8 1279.0085ms
2025-08-26 11:22:10.087 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-26 11:22:10.230 +01:00 [DBG] Hosting starting
2025-08-26 11:22:10.269 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-26 11:22:10.284 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-08-26 11:22:10.298 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-08-26 11:22:10.310 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-08-26 11:22:10.319 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 11:22:10.323 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-26 11:22:10.326 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 11:22:10.336 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-26 11:22:10.340 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-26 11:22:10.343 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-08-26 11:22:10.348 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-08-26 11:22:10.358 +01:00 [DBG] Middleware loaded
2025-08-26 11:22:10.364 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-08-26 11:22:10.369 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-26 11:22:10.475 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-26 11:22:10.482 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-26 11:22:10.495 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-26 11:22:10.641 +01:00 [INF] Now listening on: https://localhost:7258
2025-08-26 11:22:10.645 +01:00 [INF] Now listening on: http://localhost:5191
2025-08-26 11:22:10.649 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-08-26 11:22:10.651 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-26 11:22:10.652 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-26 11:22:10.653 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-26 11:22:10.662 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 11:22:10.667 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 11:22:10.873 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-26 11:22:10.876 +01:00 [INF] Hosting environment: Development
2025-08-26 11:22:10.881 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-08-26 11:22:10.885 +01:00 [DBG] Hosting started
2025-08-26 11:22:15.517 +01:00 [DBG] Connection id "0HNF4H9MSNA7I" accepted.
2025-08-26 11:22:15.530 +01:00 [DBG] Connection id "0HNF4H9MSNA7I" started.
2025-08-26 11:22:15.721 +01:00 [DBG] Connection 0HNF4H9MSNA7I established using the following protocol: "Tls13"
2025-08-26 11:22:15.866 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-08-26 11:22:16.162 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-26 11:22:16.169 +01:00 [DBG] Request did not match any endpoints
2025-08-26 11:22:16.322 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-26 11:22:16.331 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-26 11:22:16.351 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-26 11:22:16.358 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-26 11:22:16.366 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 514.181ms
2025-08-26 11:22:16.377 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-08-26 11:22:16.377 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-08-26 11:22:16.402 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-08-26 11:22:16.406 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 29.4383ms
2025-08-26 11:22:16.443 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 66.9766ms
2025-08-26 11:22:16.618 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-08-26 11:22:16.634 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-26 11:22:16.637 +01:00 [DBG] Request did not match any endpoints
2025-08-26 11:22:16.684 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 65.5767ms
2025-08-26 11:22:37.371 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7258/api/Dept - application/json 35
2025-08-26 11:22:37.426 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept'
2025-08-26 11:22:37.434 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)' with route pattern 'api/Dept' is valid for the request path '/api/Dept'
2025-08-26 11:22:37.443 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-08-26 11:22:37.469 +01:00 [INF] No CORS policy found for the specified request.
2025-08-26 11:22:37.646 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 11:22:37.657 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-08-26 11:22:37.703 +01:00 [INF] Route matched with {action = "CreateDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateDepartment(CMSApi.Application.DTO.DeptDto.CreateDeptDto) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 11:22:37.715 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 11:22:37.723 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 11:22:37.731 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 11:22:37.741 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 11:22:37.750 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 11:22:37.761 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 11:22:38.008 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-26 11:22:38.230 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 11:22:38.256 +01:00 [DBG] Attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' ...
2025-08-26 11:22:38.269 +01:00 [DBG] Attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' using the name '' in request data ...
2025-08-26 11:22:38.279 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-26 11:22:38.298 +01:00 [DBG] Connection id "0HNF4H9MSNA7I", Request id "0HNF4H9MSNA7I:00000009": started reading request body.
2025-08-26 11:22:38.304 +01:00 [DBG] Connection id "0HNF4H9MSNA7I", Request id "0HNF4H9MSNA7I:00000009": done reading request body.
2025-08-26 11:22:38.323 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'
2025-08-26 11:22:38.329 +01:00 [DBG] Done attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-08-26 11:22:38.335 +01:00 [DBG] Done attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-08-26 11:22:38.341 +01:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' ...
2025-08-26 11:22:38.361 +01:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-08-26 11:22:39.666 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 11:22:39.772 +01:00 [DBG] 'CMSDbContext' generated a temporary value for the property 'Department.DeptId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 11:22:39.905 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 11:22:39.920 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-08-26 11:22:39.935 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-08-26 11:22:39.966 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-08-26 11:22:40.261 +01:00 [DBG] Creating DbConnection.
2025-08-26 11:22:40.320 +01:00 [DBG] Created DbConnection. (55ms).
2025-08-26 11:22:40.333 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 11:22:40.827 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 11:22:40.851 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 11:22:40.870 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (12ms).
2025-08-26 11:22:40.901 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (49ms).
2025-08-26 11:22:40.925 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Departments] ([CreatedAt], [DeptName], [UpdatedAt])
OUTPUT INSERTED.[DeptId]
VALUES (@p0, @p1, @p2);
2025-08-26 11:22:41.099 +01:00 [INF] Executed DbCommand (174ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Departments] ([CreatedAt], [DeptName], [UpdatedAt])
OUTPUT INSERTED.[DeptId]
VALUES (@p0, @p1, @p2);
2025-08-26 11:22:41.153 +01:00 [DBG] The foreign key property 'Department.DeptId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-26 11:22:41.181 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 11:22:41.203 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 84ms reading results.
2025-08-26 11:22:41.219 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 11:22:41.236 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (17ms).
2025-08-26 11:22:41.270 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 11:22:41.281 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 1 entities written to the database.
2025-08-26 11:31:07.285 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-26 11:31:07.415 +01:00 [DBG] Hosting starting
2025-08-26 11:31:07.461 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-26 11:31:07.479 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-08-26 11:31:07.493 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-08-26 11:31:07.506 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-08-26 11:31:07.515 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 11:31:07.520 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-26 11:31:07.523 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 11:31:07.531 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-26 11:31:07.534 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-26 11:31:07.537 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-08-26 11:31:07.539 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-08-26 11:31:07.547 +01:00 [DBG] Middleware loaded
2025-08-26 11:31:07.550 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-08-26 11:31:07.553 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-26 11:31:07.712 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-26 11:31:07.718 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-26 11:31:07.743 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-26 11:31:07.871 +01:00 [INF] Now listening on: https://localhost:7258
2025-08-26 11:31:07.875 +01:00 [INF] Now listening on: http://localhost:5191
2025-08-26 11:31:07.878 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-08-26 11:31:07.880 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-26 11:31:07.882 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-26 11:31:07.883 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-26 11:31:07.900 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 11:31:07.905 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 11:31:08.088 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-26 11:31:08.090 +01:00 [INF] Hosting environment: Development
2025-08-26 11:31:08.093 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-08-26 11:31:08.095 +01:00 [DBG] Hosting started
2025-08-26 11:31:18.718 +01:00 [DBG] Connection id "0HNF4HEOP30HI" accepted.
2025-08-26 11:31:18.725 +01:00 [DBG] Connection id "0HNF4HEOP30HI" started.
2025-08-26 11:31:18.847 +01:00 [DBG] Connection 0HNF4HEOP30HI established using the following protocol: "Tls13"
2025-08-26 11:31:18.968 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7258/api/Dept - application/json 35
2025-08-26 11:31:19.081 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept'
2025-08-26 11:31:19.089 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)' with route pattern 'api/Dept' is valid for the request path '/api/Dept'
2025-08-26 11:31:19.100 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-08-26 11:31:19.134 +01:00 [INF] No CORS policy found for the specified request.
2025-08-26 11:31:19.293 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 11:31:19.305 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-08-26 11:31:19.362 +01:00 [INF] Route matched with {action = "CreateDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateDepartment(CMSApi.Application.DTO.DeptDto.CreateDeptDto) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 11:31:19.374 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 11:31:19.382 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 11:31:19.389 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 11:31:19.395 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 11:31:19.403 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 11:31:19.410 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 11:31:19.699 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-26 11:31:19.971 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 11:31:19.999 +01:00 [DBG] Attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' ...
2025-08-26 11:31:20.012 +01:00 [DBG] Attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' using the name '' in request data ...
2025-08-26 11:31:20.022 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-26 11:31:20.049 +01:00 [DBG] Connection id "0HNF4HEOP30HI", Request id "0HNF4HEOP30HI:00000001": started reading request body.
2025-08-26 11:31:20.056 +01:00 [DBG] Connection id "0HNF4HEOP30HI", Request id "0HNF4HEOP30HI:00000001": done reading request body.
2025-08-26 11:31:20.078 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'
2025-08-26 11:31:20.084 +01:00 [DBG] Done attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-08-26 11:31:20.090 +01:00 [DBG] Done attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-08-26 11:31:20.098 +01:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' ...
2025-08-26 11:31:20.121 +01:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-08-26 11:31:21.659 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 11:31:21.761 +01:00 [DBG] 'CMSDbContext' generated a temporary value for the property 'Department.DeptId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 11:31:21.903 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 11:31:21.934 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-08-26 11:31:21.949 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-08-26 11:31:21.991 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-08-26 11:31:22.305 +01:00 [DBG] Creating DbConnection.
2025-08-26 11:31:22.362 +01:00 [DBG] Created DbConnection. (54ms).
2025-08-26 11:31:22.376 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 11:31:22.913 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 11:31:22.944 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 11:31:22.971 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (18ms).
2025-08-26 11:31:23.002 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (58ms).
2025-08-26 11:31:23.033 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Departments] ([CreatedAt], [DeptName], [UpdatedAt])
OUTPUT INSERTED.[DeptId]
VALUES (@p0, @p1, @p2);
2025-08-26 11:31:23.209 +01:00 [INF] Executed DbCommand (174ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Departments] ([CreatedAt], [DeptName], [UpdatedAt])
OUTPUT INSERTED.[DeptId]
VALUES (@p0, @p1, @p2);
2025-08-26 11:31:23.263 +01:00 [DBG] The foreign key property 'Department.DeptId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-26 11:31:23.295 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 11:31:23.321 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 87ms reading results.
2025-08-26 11:31:23.336 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 11:31:23.356 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (20ms).
2025-08-26 11:31:23.395 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 11:31:23.411 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 1 entities written to the database.
2025-08-26 11:31:23.450 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 11:31:23.465 +01:00 [DBG] No information found on request to perform content negotiation.
2025-08-26 11:31:23.470 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-26 11:31:23.474 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-26 11:31:23.481 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-26 11:31:23.489 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'CMSApi.Application.DTO.DeptDto.ResponseDto'.
2025-08-26 11:31:23.537 +01:00 [DBG] Found the endpoints ["CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)"] for address (name=[Marketing],action=[GetDepartments],controller=[Dept])
2025-08-26 11:31:23.551 +01:00 [DBG] Successfully processed template api/Dept for CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi) resulting in /api/Dept and ?name=Marketing
2025-08-26 11:31:23.563 +01:00 [DBG] Link generation succeeded for endpoints ["CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)"] with result /api/Dept?name=Marketing
2025-08-26 11:31:23.597 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi) in 4177.7915ms
2025-08-26 11:31:23.615 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-08-26 11:31:23.636 +01:00 [DBG] 'CMSDbContext' disposed.
2025-08-26 11:31:23.649 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 11:31:23.660 +01:00 [DBG] Disposed connection to database '' on server '' (9ms).
2025-08-26 11:31:23.670 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7258/api/Dept - 201 null application/json; charset=utf-8 4714.9357ms
2025-08-26 11:32:28.565 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee/1 - null null
2025-08-26 11:32:28.580 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee/1'
2025-08-26 11:32:28.586 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetEmployeeById (CMSApi)' with route pattern 'api/Employee/{id}' is valid for the request path '/api/Employee/1'
2025-08-26 11:32:28.595 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetEmployeeById (CMSApi)'
2025-08-26 11:32:28.607 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 11:32:28.620 +01:00 [DBG] Policy authentication schemes  did not succeed
2025-08-26 11:32:28.632 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-26 11:32:28.647 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-26 11:32:28.654 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee/1 - 401 0 null 159.2354ms
2025-08-26 11:32:58.179 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee - null null
2025-08-26 11:32:58.201 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-08-26 11:32:58.205 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-08-26 11:32:58.212 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-08-26 11:32:58.221 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 11:32:58.227 +01:00 [DBG] Policy authentication schemes  did not succeed
2025-08-26 11:32:58.232 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-26 11:32:58.237 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-26 11:32:58.242 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee - 401 0 null 63.1115ms
2025-08-26 11:37:46.442 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-08-26 11:37:46.902 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-26 11:37:46.908 +01:00 [DBG] Request did not match any endpoints
2025-08-26 11:37:47.056 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-26 11:37:47.064 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-26 11:37:47.090 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-26 11:37:47.094 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-26 11:37:47.098 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 656.7317ms
2025-08-26 11:37:47.112 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-08-26 11:37:47.123 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-08-26 11:37:47.160 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-08-26 11:37:47.169 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 56.4876ms
2025-08-26 11:37:47.216 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 93.5656ms
2025-08-26 11:37:47.373 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-08-26 11:37:47.382 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-26 11:37:47.385 +01:00 [DBG] Request did not match any endpoints
2025-08-26 11:37:47.410 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 37.4288ms
2025-08-26 12:05:11.813 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-26 12:05:12.073 +01:00 [DBG] Hosting starting
2025-08-26 12:05:12.155 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-26 12:05:12.188 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-08-26 12:05:12.209 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-08-26 12:05:12.233 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-08-26 12:05:12.248 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 12:05:12.259 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-26 12:05:12.267 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 12:05:12.283 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-26 12:05:12.295 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-26 12:05:12.308 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-08-26 12:05:12.319 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-08-26 12:05:12.345 +01:00 [DBG] Middleware loaded
2025-08-26 12:05:12.358 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-08-26 12:05:12.371 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-26 12:05:12.626 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-26 12:05:12.634 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-26 12:05:12.656 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-26 12:05:13.031 +01:00 [INF] Now listening on: https://localhost:7258
2025-08-26 12:05:13.040 +01:00 [INF] Now listening on: http://localhost:5191
2025-08-26 12:05:13.048 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-08-26 12:05:13.055 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-26 12:05:13.062 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-26 12:05:13.069 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-26 12:05:13.100 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 12:05:13.112 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 12:05:13.115 +01:00 [DBG] Connection id "0HNF4I1N2JO9V" accepted.
2025-08-26 12:05:13.133 +01:00 [DBG] Connection id "0HNF4I1N2JO9V" started.
2025-08-26 12:05:13.137 +01:00 [DBG] Connection id "0HNF4I1N2JOA0" accepted.
2025-08-26 12:05:13.146 +01:00 [DBG] Connection id "0HNF4I1N2JOA0" started.
2025-08-26 12:05:13.279 +01:00 [DBG] Connection id "0HNF4I1N2JOA0" received FIN.
2025-08-26 12:05:13.377 +01:00 [DBG] Connection 0HNF4I1N2JOA0 established using the following protocol: "Tls13"
2025-08-26 12:05:13.377 +01:00 [DBG] Connection 0HNF4I1N2JO9V established using the following protocol: "Tls13"
2025-08-26 12:05:13.458 +01:00 [DBG] Connection id "0HNF4I1N2JOA0" is closed. The last processed stream ID was 0.
2025-08-26 12:05:13.470 +01:00 [DBG] Connection id "0HNF4I1N2JOA0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-26 12:05:13.487 +01:00 [DBG] The connection queue processing loop for 0HNF4I1N2JOA0 completed.
2025-08-26 12:05:13.504 +01:00 [DBG] Connection id "0HNF4I1N2JOA0" stopped.
2025-08-26 12:05:13.557 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-08-26 12:05:13.819 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-26 12:05:13.823 +01:00 [INF] Hosting environment: Development
2025-08-26 12:05:13.826 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-26 12:05:13.827 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-08-26 12:05:13.833 +01:00 [DBG] Request did not match any endpoints
2025-08-26 12:05:13.836 +01:00 [DBG] Hosting started
2025-08-26 12:05:13.998 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-26 12:05:14.006 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-26 12:05:14.023 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-26 12:05:14.029 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-26 12:05:14.038 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 492.522ms
2025-08-26 12:05:14.062 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/swagger-ui.css - null null
2025-08-26 12:05:14.063 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/swagger-ui-bundle.js - null null
2025-08-26 12:05:14.063 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.css - null null
2025-08-26 12:05:14.063 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/swagger-ui-standalone-preset.js - null null
2025-08-26 12:05:14.063 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-08-26 12:05:14.107 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.js - null null
2025-08-26 12:05:14.108 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-08-26 12:05:14.118 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2025-08-26 12:05:14.112 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2025-08-26 12:05:14.124 +01:00 [DBG] No candidates found for the request path '/swagger/index.css'
2025-08-26 12:05:14.179 +01:00 [DBG] Request did not match any endpoints
2025-08-26 12:05:14.183 +01:00 [DBG] Request did not match any endpoints
2025-08-26 12:05:14.128 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2025-08-26 12:05:14.196 +01:00 [DBG] Request did not match any endpoints
2025-08-26 12:05:14.178 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-08-26 12:05:14.223 +01:00 [DBG] Request did not match any endpoints
2025-08-26 12:05:14.139 +01:00 [DBG] No candidates found for the request path '/swagger/index.js'
2025-08-26 12:05:14.232 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 169.3467ms
2025-08-26 12:05:14.238 +01:00 [DBG] Request did not match any endpoints
2025-08-26 12:05:14.249 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.css - 304 null null 186.2691ms
2025-08-26 12:05:14.249 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/swagger-ui.css - 304 null null 186.9987ms
2025-08-26 12:05:14.249 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/swagger-ui-bundle.js - 304 null null 185.4244ms
2025-08-26 12:05:14.249 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/swagger-ui-standalone-preset.js - 304 null null 186.0737ms
2025-08-26 12:05:14.257 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.js - 200 null application/javascript;charset=utf-8 184.7789ms
2025-08-26 12:05:14.280 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 172.6199ms
2025-08-26 12:05:14.816 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-08-26 12:05:14.837 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-26 12:05:14.844 +01:00 [DBG] Request did not match any endpoints
2025-08-26 12:05:14.898 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/favicon-32x32.png - null null
2025-08-26 12:05:14.921 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 105.5355ms
2025-08-26 12:05:14.922 +01:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2025-08-26 12:05:14.959 +01:00 [DBG] Request did not match any endpoints
2025-08-26 12:05:14.968 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/favicon-32x32.png - 304 null null 69.689ms
2025-08-26 12:05:26.638 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Dept/1 - null null
2025-08-26 12:05:26.673 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept/1'
2025-08-26 12:05:26.683 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartment (CMSApi)' with route pattern 'api/Dept/{id}' is valid for the request path '/api/Dept/1'
2025-08-26 12:05:26.695 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartment (CMSApi)'
2025-08-26 12:05:26.949 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 12:05:26.964 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartment (CMSApi)'
2025-08-26 12:05:27.030 +01:00 [INF] Route matched with {action = "GetDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartment(Int32) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 12:05:27.047 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 12:05:27.058 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 12:05:27.070 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 12:05:27.083 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 12:05:27.096 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 12:05:27.112 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 12:05:27.485 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-26 12:05:27.733 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 12:05:27.792 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-26 12:05:27.807 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-26 12:05:27.821 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 12:05:27.831 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 12:05:27.842 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-26 12:05:27.857 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-26 12:05:29.301 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 12:05:29.576 +01:00 [DBG] Compiling query expression: 
'DbSet<Department>()
    .FirstOrDefault(e => EF.Property<int>(e, "DeptId") == __p_0)'
2025-08-26 12:05:30.780 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Department>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Department>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.DeptId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
            SELECT TOP(1) d.DeptId, d.CreatedAt, d.DeptName, d.UpdatedAt
            FROM Departments AS d
            WHERE d.DeptId == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.DeptId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
            SELECT TOP(1) d.DeptId, d.CreatedAt, d.DeptName, d.UpdatedAt
            FROM Departments AS d
            WHERE d.DeptId == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Department entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Department instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Department);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Department.DeptId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Department)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]: 
                            {
                                return 
                                {
                                    Department instance;
                                    instance = new Department();
                                    instance.<DeptId>k__BackingField = dataReader.GetInt32(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<DeptName>k__BackingField = dataReader.GetString(2);
                                    instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(3);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Department)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-26 12:05:31.008 +01:00 [DBG] Creating DbConnection.
2025-08-26 12:05:31.121 +01:00 [DBG] Created DbConnection. (104ms).
2025-08-26 12:05:31.145 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 12:05:32.245 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 12:05:32.272 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 12:05:32.300 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (27ms).
2025-08-26 12:05:32.348 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (79ms).
2025-08-26 12:05:32.404 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 12:05:32.744 +01:00 [INF] Executed DbCommand (350ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 12:05:32.990 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 12:05:33.055 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 12:05:33.079 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 303ms reading results.
2025-08-26 12:05:33.107 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 12:05:33.141 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (34ms).
2025-08-26 12:05:33.206 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 12:05:33.236 +01:00 [DBG] No information found on request to perform content negotiation.
2025-08-26 12:05:33.243 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-26 12:05:33.252 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-26 12:05:33.266 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-26 12:05:33.281 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.DeptDto.DepartmentResponseDto'.
2025-08-26 12:05:33.346 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.GetDepartment (CMSApi) in 6226.0156ms
2025-08-26 12:05:33.361 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartment (CMSApi)'
2025-08-26 12:05:33.385 +01:00 [DBG] 'CMSDbContext' disposed.
2025-08-26 12:05:33.416 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 12:05:33.433 +01:00 [DBG] Disposed connection to database '' on server '' (18ms).
2025-08-26 12:05:33.447 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Dept/1 - 200 null application/json; charset=utf-8 6808.7432ms
2025-08-26 12:05:46.211 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Dept/2 - null null
2025-08-26 12:05:46.229 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept/2'
2025-08-26 12:05:46.237 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartment (CMSApi)' with route pattern 'api/Dept/{id}' is valid for the request path '/api/Dept/2'
2025-08-26 12:05:46.248 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartment (CMSApi)'
2025-08-26 12:05:46.257 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 12:05:46.263 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartment (CMSApi)'
2025-08-26 12:05:46.272 +01:00 [INF] Route matched with {action = "GetDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartment(Int32) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 12:05:46.283 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 12:05:46.293 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 12:05:46.303 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 12:05:46.314 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 12:05:46.323 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 12:05:46.333 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 12:05:46.343 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 12:05:46.352 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-26 12:05:46.361 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-26 12:05:46.371 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 12:05:46.379 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 12:05:46.387 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-26 12:05:46.395 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-26 12:05:46.410 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 12:05:46.433 +01:00 [DBG] Creating DbConnection.
2025-08-26 12:05:46.439 +01:00 [DBG] Created DbConnection. (6ms).
2025-08-26 12:05:46.446 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 12:05:46.456 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 12:05:46.464 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 12:05:46.471 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-08-26 12:05:46.479 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2025-08-26 12:05:46.488 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 12:05:46.505 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 12:05:46.518 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 12:05:46.526 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 9ms reading results.
2025-08-26 12:05:46.535 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 12:05:46.544 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (8ms).
2025-08-26 12:05:46.554 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 12:05:46.571 +01:00 [DBG] No information found on request to perform content negotiation.
2025-08-26 12:05:46.576 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-26 12:05:46.581 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-26 12:05:46.586 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-26 12:05:46.594 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'CMSApi.Application.DTO.DeptDto.DepartmentResponseDto'.
2025-08-26 12:05:46.603 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.GetDepartment (CMSApi) in 270.8437ms
2025-08-26 12:05:46.611 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartment (CMSApi)'
2025-08-26 12:05:46.621 +01:00 [DBG] 'CMSDbContext' disposed.
2025-08-26 12:05:46.627 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 12:05:46.635 +01:00 [DBG] Disposed connection to database '' on server '' (7ms).
2025-08-26 12:05:46.644 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Dept/2 - 404 null application/json; charset=utf-8 432.9546ms
2025-08-26 13:29:06.250 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-26 13:29:06.473 +01:00 [DBG] Hosting starting
2025-08-26 13:29:06.552 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-26 13:29:06.580 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-08-26 13:29:06.605 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-08-26 13:29:06.634 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-08-26 13:29:06.650 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 13:29:06.662 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-26 13:29:06.668 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 13:29:06.681 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-26 13:29:06.686 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-26 13:29:06.690 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-08-26 13:29:06.695 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-08-26 13:29:06.705 +01:00 [DBG] Middleware loaded
2025-08-26 13:29:06.713 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-08-26 13:29:06.718 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-26 13:29:06.913 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-26 13:29:06.922 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-26 13:29:06.950 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-26 13:29:07.202 +01:00 [INF] Now listening on: https://localhost:7258
2025-08-26 13:29:07.210 +01:00 [INF] Now listening on: http://localhost:5191
2025-08-26 13:29:07.215 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-08-26 13:29:07.222 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-26 13:29:07.228 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-26 13:29:07.233 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-26 13:29:07.253 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 13:29:07.264 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 13:29:07.602 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-26 13:29:07.607 +01:00 [INF] Hosting environment: Development
2025-08-26 13:29:07.610 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-08-26 13:29:07.613 +01:00 [DBG] Hosting started
2025-08-26 13:29:32.432 +01:00 [DBG] Connection id "0HNF4JGQS0MKS" accepted.
2025-08-26 13:29:32.502 +01:00 [DBG] Connection id "0HNF4JGQS0MKS" started.
2025-08-26 13:29:32.715 +01:00 [DBG] Connection 0HNF4JGQS0MKS established using the following protocol: "Tls13"
2025-08-26 13:29:32.903 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-08-26 13:29:33.315 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-26 13:29:33.327 +01:00 [DBG] Request did not match any endpoints
2025-08-26 13:29:33.563 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-26 13:29:33.576 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-26 13:29:33.646 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-26 13:29:33.654 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-26 13:29:33.677 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 788.4393ms
2025-08-26 13:29:33.737 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-08-26 13:29:33.737 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-08-26 13:29:33.773 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-08-26 13:29:33.784 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 46.8408ms
2025-08-26 13:29:33.827 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 90.0838ms
2025-08-26 13:29:33.950 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-08-26 13:29:33.963 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-26 13:29:33.968 +01:00 [DBG] Request did not match any endpoints
2025-08-26 13:29:34.012 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 62.4346ms
2025-08-26 13:40:39.503 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-26 13:40:39.634 +01:00 [DBG] Hosting starting
2025-08-26 13:40:39.675 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-26 13:40:39.687 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-08-26 13:40:39.694 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-08-26 13:40:39.707 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-08-26 13:40:39.712 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 13:40:39.718 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-26 13:40:39.721 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 13:40:39.728 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-26 13:40:39.731 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-26 13:40:39.734 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-08-26 13:40:39.736 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-08-26 13:40:39.745 +01:00 [DBG] Middleware loaded
2025-08-26 13:40:39.749 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-08-26 13:40:39.752 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-26 13:40:39.857 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-26 13:40:39.860 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-26 13:40:39.872 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-26 13:40:39.969 +01:00 [INF] Now listening on: https://localhost:7258
2025-08-26 13:40:39.972 +01:00 [INF] Now listening on: http://localhost:5191
2025-08-26 13:40:39.973 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-08-26 13:40:39.975 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-26 13:40:39.976 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-26 13:40:39.977 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-26 13:40:39.993 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 13:40:39.995 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 13:40:40.196 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-26 13:40:40.198 +01:00 [INF] Hosting environment: Development
2025-08-26 13:40:40.201 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-08-26 13:40:40.203 +01:00 [DBG] Hosting started
2025-08-26 13:40:53.896 +01:00 [DBG] Connection id "0HNF4JN5UVDCC" accepted.
2025-08-26 13:40:53.900 +01:00 [DBG] Connection id "0HNF4JN5UVDCC" started.
2025-08-26 13:40:53.951 +01:00 [DBG] Connection 0HNF4JN5UVDCC established using the following protocol: "Tls13"
2025-08-26 13:40:54.061 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-08-26 13:40:54.413 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-26 13:40:54.420 +01:00 [DBG] Request did not match any endpoints
2025-08-26 13:40:54.556 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-26 13:40:54.561 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-26 13:40:54.576 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-26 13:40:54.580 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-26 13:40:54.593 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 535.5707ms
2025-08-26 13:40:54.611 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-08-26 13:40:54.611 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-08-26 13:40:54.649 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-08-26 13:40:54.660 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 48.9065ms
2025-08-26 13:40:54.696 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 84.9599ms
2025-08-26 13:40:54.923 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-08-26 13:40:54.932 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-26 13:40:54.936 +01:00 [DBG] Request did not match any endpoints
2025-08-26 13:40:54.986 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 63.5093ms
2025-08-26 13:41:44.050 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-26 13:41:44.488 +01:00 [DBG] Hosting starting
2025-08-26 13:41:44.554 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-26 13:41:44.594 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-08-26 13:41:44.611 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-08-26 13:41:44.635 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-08-26 13:41:44.643 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 13:41:44.666 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-26 13:41:44.670 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 13:41:44.680 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-26 13:41:44.684 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-26 13:41:44.689 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-08-26 13:41:44.692 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-08-26 13:41:44.708 +01:00 [DBG] Middleware loaded
2025-08-26 13:41:44.716 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-08-26 13:41:44.719 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-26 13:41:44.926 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-26 13:41:44.929 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-26 13:41:44.938 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-26 13:41:45.099 +01:00 [INF] Now listening on: https://localhost:7258
2025-08-26 13:41:45.101 +01:00 [INF] Now listening on: http://localhost:5191
2025-08-26 13:41:45.104 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-08-26 13:41:45.106 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-26 13:41:45.107 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-26 13:41:45.108 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-26 13:41:45.120 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 13:41:45.124 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 13:41:45.303 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-26 13:41:45.305 +01:00 [INF] Hosting environment: Development
2025-08-26 13:41:45.307 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-08-26 13:41:45.308 +01:00 [DBG] Hosting started
2025-08-26 13:41:50.486 +01:00 [DBG] Connection id "0HNF4JNMQL3BH" accepted.
2025-08-26 13:41:50.497 +01:00 [DBG] Connection id "0HNF4JNMQL3BH" started.
2025-08-26 13:41:50.561 +01:00 [DBG] Connection 0HNF4JNMQL3BH established using the following protocol: "Tls13"
2025-08-26 13:41:50.631 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-08-26 13:41:50.764 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-26 13:41:50.767 +01:00 [DBG] Request did not match any endpoints
2025-08-26 13:41:50.832 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-26 13:41:50.836 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-26 13:41:50.847 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-26 13:41:50.849 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-26 13:41:50.855 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 230.0121ms
2025-08-26 13:41:50.867 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-08-26 13:41:50.868 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-08-26 13:41:50.891 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-08-26 13:41:50.899 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 30.5496ms
2025-08-26 13:41:50.932 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 65.4086ms
2025-08-26 13:41:51.005 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-08-26 13:41:51.027 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-26 13:41:51.029 +01:00 [DBG] Request did not match any endpoints
2025-08-26 13:41:51.061 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 57.2795ms
2025-08-26 13:42:17.967 +01:00 [DBG] Connection id "0HNF4JNMQL3BH" received FIN.
2025-08-26 13:42:17.980 +01:00 [DBG] Connection id "0HNF4JNMQL3BH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-26 13:42:17.984 +01:00 [DBG] Connection id "0HNF4JNMQL3BH" is closed. The last processed stream ID was 7.
2025-08-26 13:42:17.988 +01:00 [DBG] The connection queue processing loop for 0HNF4JNMQL3BH completed.
2025-08-26 13:42:17.991 +01:00 [DBG] Connection id "0HNF4JNMQL3BH" stopped.
2025-08-26 13:42:27.628 +01:00 [DBG] Connection id "0HNF4JNMQL3BI" accepted.
2025-08-26 13:42:27.631 +01:00 [DBG] Connection id "0HNF4JNMQL3BI" started.
2025-08-26 13:42:27.637 +01:00 [DBG] Connection 0HNF4JNMQL3BI established using the following protocol: "Tls13"
2025-08-26 13:42:27.641 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7258/api/Dept/1 - application/json 142
2025-08-26 13:42:27.650 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept/1'
2025-08-26 13:42:27.653 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)' with route pattern 'api/Dept/{id}' is valid for the request path '/api/Dept/1'
2025-08-26 13:42:27.655 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 13:42:27.667 +01:00 [INF] No CORS policy found for the specified request.
2025-08-26 13:42:27.948 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 13:42:27.955 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 13:42:27.987 +01:00 [INF] Route matched with {action = "UpdateDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.DeptDto.DepartmentResponseDto]] UpdateDepartment(Int32, CMSApi.Application.DTO.DeptDto.UpdateDept) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 13:42:27.995 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 13:42:28.001 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 13:42:28.005 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 13:42:28.011 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 13:42:28.018 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 13:42:28.024 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 13:42:28.209 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-26 13:42:28.357 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 13:42:28.376 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-26 13:42:28.382 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-26 13:42:28.388 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 13:42:28.390 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 13:42:28.391 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-26 13:42:28.395 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-26 13:42:28.400 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-08-26 13:42:28.404 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' using the name '' in request data ...
2025-08-26 13:42:28.407 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-26 13:42:28.424 +01:00 [DBG] Connection id "0HNF4JNMQL3BI", Request id "0HNF4JNMQL3BI:00000001": started reading request body.
2025-08-26 13:42:28.428 +01:00 [DBG] Connection id "0HNF4JNMQL3BI", Request id "0HNF4JNMQL3BI:00000001": done reading request body.
2025-08-26 13:42:28.443 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.DeptDto.UpdateDept'
2025-08-26 13:42:28.446 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 13:42:28.451 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 13:42:28.454 +01:00 [DBG] Attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-08-26 13:42:28.465 +01:00 [DBG] Done attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 13:42:29.233 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 13:42:29.331 +01:00 [DBG] Compiling query expression: 
'DbSet<Department>()
    .FirstOrDefault(e => EF.Property<int>(e, "DeptId") == __p_0)'
2025-08-26 13:42:29.607 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Department>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Department>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.DeptId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
            SELECT TOP(1) d.DeptId, d.CreatedAt, d.DeptName, d.UpdatedAt
            FROM Departments AS d
            WHERE d.DeptId == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.DeptId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
            SELECT TOP(1) d.DeptId, d.CreatedAt, d.DeptName, d.UpdatedAt
            FROM Departments AS d
            WHERE d.DeptId == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Department entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Department instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Department);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Department.DeptId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Department)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]: 
                            {
                                return 
                                {
                                    Department instance;
                                    instance = new Department();
                                    instance.<DeptId>k__BackingField = dataReader.GetInt32(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<DeptName>k__BackingField = dataReader.GetString(2);
                                    instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(3);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Department)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-26 13:42:29.658 +01:00 [DBG] Creating DbConnection.
2025-08-26 13:42:29.739 +01:00 [DBG] Created DbConnection. (34ms).
2025-08-26 13:42:29.767 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:42:30.392 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:42:30.404 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 13:42:30.419 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (13ms).
2025-08-26 13:42:30.438 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (34ms).
2025-08-26 13:42:30.458 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 13:42:30.620 +01:00 [INF] Executed DbCommand (159ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 13:42:30.723 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 13:42:30.781 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:42:30.807 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 164ms reading results.
2025-08-26 13:42:30.823 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:42:30.855 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (28ms).
2025-08-26 13:42:30.910 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 13:42:30.925 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-08-26 13:42:30.937 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-08-26 13:42:30.974 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-08-26 13:42:31.137 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:42:31.147 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:42:31.156 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 13:42:31.158 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-26 13:42:31.167 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-08-26 13:42:31.171 +01:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Departments] SET [CreatedAt] = @p0, [DeptName] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [DeptId] = @p3;
2025-08-26 13:42:31.222 +01:00 [INF] Executed DbCommand (51ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Departments] SET [CreatedAt] = @p0, [DeptName] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [DeptId] = @p3;
2025-08-26 13:42:31.344 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:42:31.351 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 77ms reading results.
2025-08-26 13:42:31.357 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:42:31.361 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (4ms).
2025-08-26 13:42:31.371 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 13:42:31.381 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 1 entities written to the database.
2025-08-26 13:42:31.409 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 13:42:31.423 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-08-26 13:42:31.432 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-08-26 13:42:31.438 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-26 13:42:31.441 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-26 13:42:31.446 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-26 13:42:31.452 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.DeptDto.DepartmentResponseDto'.
2025-08-26 13:42:31.475 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi) in 3445.8945ms
2025-08-26 13:42:31.482 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 13:42:31.500 +01:00 [DBG] 'CMSDbContext' disposed.
2025-08-26 13:42:31.518 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:42:31.529 +01:00 [DBG] Disposed connection to database '' on server '' (10ms).
2025-08-26 13:42:31.537 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7258/api/Dept/1 - 200 null application/json; charset=utf-8 3895.2888ms
2025-08-26 13:44:31.781 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7258/api/Dept - application/json 33
2025-08-26 13:44:31.793 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept'
2025-08-26 13:44:31.795 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)' with route pattern 'api/Dept' is valid for the request path '/api/Dept'
2025-08-26 13:44:31.798 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-08-26 13:44:31.800 +01:00 [INF] No CORS policy found for the specified request.
2025-08-26 13:44:31.801 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 13:44:31.803 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-08-26 13:44:31.808 +01:00 [INF] Route matched with {action = "CreateDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateDepartment(CMSApi.Application.DTO.DeptDto.CreateDeptDto) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 13:44:31.814 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 13:44:31.817 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 13:44:31.820 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 13:44:31.823 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 13:44:31.825 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 13:44:31.831 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 13:44:31.834 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 13:44:31.836 +01:00 [DBG] Attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' ...
2025-08-26 13:44:31.839 +01:00 [DBG] Attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' using the name '' in request data ...
2025-08-26 13:44:31.841 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-26 13:44:31.848 +01:00 [DBG] Connection id "0HNF4JNMQL3BI", Request id "0HNF4JNMQL3BI:00000003": started reading request body.
2025-08-26 13:44:31.851 +01:00 [DBG] Connection id "0HNF4JNMQL3BI", Request id "0HNF4JNMQL3BI:00000003": done reading request body.
2025-08-26 13:44:31.855 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'
2025-08-26 13:44:31.858 +01:00 [DBG] Done attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-08-26 13:44:31.863 +01:00 [DBG] Done attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-08-26 13:44:31.867 +01:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' ...
2025-08-26 13:44:31.873 +01:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-08-26 13:44:31.903 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 13:44:31.934 +01:00 [DBG] 'CMSDbContext' generated a temporary value for the property 'Department.DeptId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 13:44:31.945 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 13:44:31.950 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-08-26 13:44:31.953 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-08-26 13:44:31.958 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-08-26 13:44:31.984 +01:00 [DBG] Creating DbConnection.
2025-08-26 13:44:31.987 +01:00 [DBG] Created DbConnection. (2ms).
2025-08-26 13:44:31.990 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:44:31.994 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:44:31.998 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 13:44:32.000 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-26 13:44:32.003 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-26 13:44:32.005 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Departments] ([CreatedAt], [DeptName], [UpdatedAt])
OUTPUT INSERTED.[DeptId]
VALUES (@p0, @p1, @p2);
2025-08-26 13:44:32.017 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Departments] ([CreatedAt], [DeptName], [UpdatedAt])
OUTPUT INSERTED.[DeptId]
VALUES (@p0, @p1, @p2);
2025-08-26 13:44:32.032 +01:00 [DBG] The foreign key property 'Department.DeptId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-26 13:44:32.041 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:44:32.045 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 24ms reading results.
2025-08-26 13:44:32.051 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:44:32.054 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (3ms).
2025-08-26 13:44:32.065 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 13:44:32.070 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 1 entities written to the database.
2025-08-26 13:44:32.077 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 13:44:32.084 +01:00 [DBG] No information found on request to perform content negotiation.
2025-08-26 13:44:32.086 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-26 13:44:32.089 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-26 13:44:32.091 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-26 13:44:32.094 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'CMSApi.Application.DTO.DeptDto.ResponseDto'.
2025-08-26 13:44:32.119 +01:00 [DBG] Found the endpoints ["CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)"] for address (name=[Finance],action=[GetDepartments],controller=[Dept])
2025-08-26 13:44:32.126 +01:00 [DBG] Successfully processed template api/Dept for CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi) resulting in /api/Dept and ?name=Finance
2025-08-26 13:44:32.133 +01:00 [DBG] Link generation succeeded for endpoints ["CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)"] with result /api/Dept?name=Finance
2025-08-26 13:44:32.138 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi) in 307.8706ms
2025-08-26 13:44:32.142 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-08-26 13:44:32.146 +01:00 [DBG] 'CMSDbContext' disposed.
2025-08-26 13:44:32.149 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:44:32.151 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-26 13:44:32.153 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7258/api/Dept - 201 null application/json; charset=utf-8 372.8245ms
2025-08-26 13:44:59.807 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Dept/2 - null null
2025-08-26 13:44:59.823 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept/2'
2025-08-26 13:44:59.825 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartment (CMSApi)' with route pattern 'api/Dept/{id}' is valid for the request path '/api/Dept/2'
2025-08-26 13:44:59.828 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartment (CMSApi)'
2025-08-26 13:44:59.836 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 13:44:59.838 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartment (CMSApi)'
2025-08-26 13:44:59.844 +01:00 [INF] Route matched with {action = "GetDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartment(Int32) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 13:44:59.850 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 13:44:59.854 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 13:44:59.856 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 13:44:59.861 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 13:44:59.867 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 13:44:59.870 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 13:44:59.877 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 13:44:59.883 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-26 13:44:59.886 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-26 13:44:59.889 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 13:44:59.892 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 13:44:59.895 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-26 13:44:59.900 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-26 13:44:59.993 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 13:45:00.002 +01:00 [DBG] Creating DbConnection.
2025-08-26 13:45:00.004 +01:00 [DBG] Created DbConnection. (1ms).
2025-08-26 13:45:00.006 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:45:00.009 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:45:00.011 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 13:45:00.013 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-26 13:45:00.018 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-08-26 13:45:00.020 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 13:45:00.033 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 13:45:00.038 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:45:00.041 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-26 13:45:00.043 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:45:00.046 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (2ms).
2025-08-26 13:45:00.051 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 13:45:00.055 +01:00 [DBG] No information found on request to perform content negotiation.
2025-08-26 13:45:00.056 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-26 13:45:00.058 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-26 13:45:00.059 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-26 13:45:00.062 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'CMSApi.Application.DTO.DeptDto.DepartmentResponseDto'.
2025-08-26 13:45:00.067 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.GetDepartment (CMSApi) in 197.2935ms
2025-08-26 13:45:00.070 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartment (CMSApi)'
2025-08-26 13:45:00.072 +01:00 [DBG] 'CMSDbContext' disposed.
2025-08-26 13:45:00.073 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:45:00.076 +01:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-26 13:45:00.078 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Dept/2 - 404 null application/json; charset=utf-8 271.3338ms
2025-08-26 13:45:06.310 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-08-26 13:45:06.332 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-26 13:45:06.335 +01:00 [DBG] Request did not match any endpoints
2025-08-26 13:45:06.337 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-26 13:45:06.339 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-26 13:45:06.341 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-26 13:45:06.344 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-26 13:45:06.346 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 36.6202ms
2025-08-26 13:45:06.361 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-08-26 13:45:06.364 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-08-26 13:45:06.381 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-08-26 13:45:06.393 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 29.0626ms
2025-08-26 13:45:06.394 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.1801ms
2025-08-26 13:45:06.436 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-08-26 13:45:06.441 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-26 13:45:06.444 +01:00 [DBG] Request did not match any endpoints
2025-08-26 13:45:06.453 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.1696ms
2025-08-26 13:45:43.528 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Dept/2 - null null
2025-08-26 13:45:43.541 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept/2'
2025-08-26 13:45:43.543 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartment (CMSApi)' with route pattern 'api/Dept/{id}' is valid for the request path '/api/Dept/2'
2025-08-26 13:45:43.546 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartment (CMSApi)'
2025-08-26 13:45:43.548 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 13:45:43.550 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartment (CMSApi)'
2025-08-26 13:45:43.553 +01:00 [INF] Route matched with {action = "GetDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartment(Int32) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 13:45:43.557 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 13:45:43.560 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 13:45:43.563 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 13:45:43.566 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 13:45:43.570 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 13:45:43.572 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 13:45:43.574 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 13:45:43.576 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-26 13:45:43.579 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-26 13:45:43.582 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 13:45:43.586 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 13:45:43.588 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-26 13:45:43.590 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-26 13:45:43.593 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 13:45:43.597 +01:00 [DBG] Creating DbConnection.
2025-08-26 13:45:43.600 +01:00 [DBG] Created DbConnection. (3ms).
2025-08-26 13:45:43.603 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:45:43.605 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:45:43.607 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 13:45:43.609 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-26 13:45:43.612 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-26 13:45:43.614 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 13:45:43.621 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 13:45:43.626 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:45:43.628 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-26 13:45:43.631 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:45:43.636 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (4ms).
2025-08-26 13:45:43.639 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 13:45:43.643 +01:00 [DBG] No information found on request to perform content negotiation.
2025-08-26 13:45:43.644 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-26 13:45:43.645 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-26 13:45:43.647 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-26 13:45:43.651 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'CMSApi.Application.DTO.DeptDto.DepartmentResponseDto'.
2025-08-26 13:45:43.654 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.GetDepartment (CMSApi) in 81.9995ms
2025-08-26 13:45:43.657 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartment (CMSApi)'
2025-08-26 13:45:43.659 +01:00 [DBG] 'CMSDbContext' disposed.
2025-08-26 13:45:43.661 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:45:43.664 +01:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-26 13:45:43.670 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Dept/2 - 404 null application/json; charset=utf-8 142.0152ms
2025-08-26 13:45:54.814 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Dept/3 - null null
2025-08-26 13:45:54.819 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept/3'
2025-08-26 13:45:54.822 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartment (CMSApi)' with route pattern 'api/Dept/{id}' is valid for the request path '/api/Dept/3'
2025-08-26 13:45:54.824 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartment (CMSApi)'
2025-08-26 13:45:54.825 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 13:45:54.826 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartment (CMSApi)'
2025-08-26 13:45:54.828 +01:00 [INF] Route matched with {action = "GetDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartment(Int32) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 13:45:54.830 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 13:45:54.832 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 13:45:54.833 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 13:45:54.836 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 13:45:54.841 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 13:45:54.844 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 13:45:54.846 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 13:45:54.848 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-26 13:45:54.851 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-26 13:45:54.859 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 13:45:54.862 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 13:45:54.865 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-26 13:45:54.868 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-26 13:45:54.873 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 13:45:54.877 +01:00 [DBG] Creating DbConnection.
2025-08-26 13:45:54.878 +01:00 [DBG] Created DbConnection. (1ms).
2025-08-26 13:45:54.880 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:45:54.883 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:45:54.886 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 13:45:54.890 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-26 13:45:54.892 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-08-26 13:45:54.895 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 13:45:54.899 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 13:45:54.908 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 13:45:54.911 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:45:54.914 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-08-26 13:45:54.917 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:45:54.919 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (2ms).
2025-08-26 13:45:54.925 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 13:45:54.929 +01:00 [DBG] No information found on request to perform content negotiation.
2025-08-26 13:45:54.931 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-26 13:45:54.932 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-26 13:45:54.934 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-26 13:45:54.937 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.DeptDto.DepartmentResponseDto'.
2025-08-26 13:45:54.941 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.GetDepartment (CMSApi) in 97.765ms
2025-08-26 13:45:54.944 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartment (CMSApi)'
2025-08-26 13:45:54.946 +01:00 [DBG] 'CMSDbContext' disposed.
2025-08-26 13:45:54.948 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:45:54.950 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-26 13:45:54.952 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Dept/3 - 200 null application/json; charset=utf-8 137.4484ms
2025-08-26 13:47:06.100 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7258/api/Dept/3 - application/json 140
2025-08-26 13:47:06.113 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept/3'
2025-08-26 13:47:06.115 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)' with route pattern 'api/Dept/{id}' is valid for the request path '/api/Dept/3'
2025-08-26 13:47:06.118 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 13:47:06.120 +01:00 [INF] No CORS policy found for the specified request.
2025-08-26 13:47:06.122 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 13:47:06.124 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 13:47:06.128 +01:00 [INF] Route matched with {action = "UpdateDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.DeptDto.DepartmentResponseDto]] UpdateDepartment(Int32, CMSApi.Application.DTO.DeptDto.UpdateDept) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 13:47:06.131 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 13:47:06.133 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 13:47:06.136 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 13:47:06.139 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 13:47:06.143 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 13:47:06.147 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 13:47:06.149 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 13:47:06.152 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-26 13:47:06.154 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-26 13:47:06.157 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 13:47:06.161 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 13:47:06.164 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-26 13:47:06.166 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-26 13:47:06.168 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-08-26 13:47:06.171 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' using the name '' in request data ...
2025-08-26 13:47:06.173 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-26 13:47:06.178 +01:00 [DBG] Connection id "0HNF4JNMQL3BI", Request id "0HNF4JNMQL3BI:00000013": started reading request body.
2025-08-26 13:47:06.181 +01:00 [DBG] Connection id "0HNF4JNMQL3BI", Request id "0HNF4JNMQL3BI:00000013": done reading request body.
2025-08-26 13:47:06.183 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.DeptDto.UpdateDept'
2025-08-26 13:47:06.185 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 13:47:06.187 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 13:47:06.189 +01:00 [DBG] Attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-08-26 13:47:06.195 +01:00 [DBG] Done attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 13:47:06.198 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 13:47:06.201 +01:00 [DBG] Creating DbConnection.
2025-08-26 13:47:06.202 +01:00 [DBG] Created DbConnection. (1ms).
2025-08-26 13:47:06.204 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:47:06.206 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:47:06.210 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 13:47:06.213 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-26 13:47:06.215 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-26 13:47:06.217 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 13:47:06.229 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 13:47:06.234 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 13:47:06.236 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:47:06.239 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-08-26 13:47:06.242 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:47:06.246 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (4ms).
2025-08-26 13:47:06.249 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 13:47:06.252 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-08-26 13:47:06.254 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-08-26 13:47:06.256 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-08-26 13:47:06.261 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:47:06.264 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:47:06.266 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 13:47:06.268 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-26 13:47:06.271 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-26 13:47:06.273 +01:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Departments] SET [CreatedAt] = @p0, [DeptName] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [DeptId] = @p3;
2025-08-26 13:47:06.284 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Departments] SET [CreatedAt] = @p0, [DeptName] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [DeptId] = @p3;
2025-08-26 13:47:06.290 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:47:06.295 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-08-26 13:47:06.299 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:47:06.302 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (3ms).
2025-08-26 13:47:06.306 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 13:47:06.312 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 1 entities written to the database.
2025-08-26 13:47:06.315 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 13:47:06.319 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-08-26 13:47:06.321 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-08-26 13:47:06.323 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-26 13:47:06.325 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-26 13:47:06.328 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-26 13:47:06.330 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.DeptDto.DepartmentResponseDto'.
2025-08-26 13:47:06.332 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi) in 185.4564ms
2025-08-26 13:47:06.335 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 13:47:06.336 +01:00 [DBG] 'CMSDbContext' disposed.
2025-08-26 13:47:06.339 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:47:06.341 +01:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-26 13:47:06.345 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7258/api/Dept/3 - 200 null application/json; charset=utf-8 244.9792ms
2025-08-26 13:49:00.162 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-26 13:49:00.309 +01:00 [DBG] Hosting starting
2025-08-26 13:49:00.341 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-26 13:49:00.359 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-08-26 13:49:00.372 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-08-26 13:49:00.385 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-08-26 13:49:00.391 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 13:49:00.393 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-26 13:49:00.396 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 13:49:00.405 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-26 13:49:00.407 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-26 13:49:00.410 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-08-26 13:49:00.412 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-08-26 13:49:00.426 +01:00 [DBG] Middleware loaded
2025-08-26 13:49:00.431 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-08-26 13:49:00.434 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-26 13:49:00.554 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-26 13:49:00.558 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-26 13:49:00.575 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-26 13:49:00.716 +01:00 [INF] Now listening on: https://localhost:7258
2025-08-26 13:49:00.718 +01:00 [INF] Now listening on: http://localhost:5191
2025-08-26 13:49:00.721 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-08-26 13:49:00.723 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-26 13:49:00.725 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-26 13:49:00.730 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-26 13:49:00.742 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 13:49:00.745 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 13:49:00.906 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-26 13:49:00.908 +01:00 [INF] Hosting environment: Development
2025-08-26 13:49:00.909 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-08-26 13:49:00.911 +01:00 [DBG] Hosting started
2025-08-26 13:49:04.057 +01:00 [DBG] Connection id "0HNF4JRO1GJQJ" accepted.
2025-08-26 13:49:04.061 +01:00 [DBG] Connection id "0HNF4JRO1GJQJ" started.
2025-08-26 13:49:04.112 +01:00 [DBG] Connection 0HNF4JRO1GJQJ established using the following protocol: "Tls13"
2025-08-26 13:49:04.166 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-08-26 13:49:04.281 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-26 13:49:04.285 +01:00 [DBG] Request did not match any endpoints
2025-08-26 13:49:04.342 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-26 13:49:04.349 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-26 13:49:04.357 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-26 13:49:04.360 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-26 13:49:04.368 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 205.9544ms
2025-08-26 13:49:04.375 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-08-26 13:49:04.377 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-08-26 13:49:04.408 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-08-26 13:49:04.411 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 34.4577ms
2025-08-26 13:49:04.432 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.1297ms
2025-08-26 13:49:04.485 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-08-26 13:49:04.494 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-26 13:49:04.501 +01:00 [DBG] Request did not match any endpoints
2025-08-26 13:49:04.534 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 48.5543ms
2025-08-26 13:50:03.975 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7258/api/Dept - application/json 77
2025-08-26 13:50:04.026 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept'
2025-08-26 13:50:04.029 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)' with route pattern 'api/Dept' is valid for the request path '/api/Dept'
2025-08-26 13:50:04.034 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-08-26 13:50:04.046 +01:00 [INF] No CORS policy found for the specified request.
2025-08-26 13:50:04.112 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 13:50:04.118 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-08-26 13:50:04.145 +01:00 [INF] Route matched with {action = "CreateDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateDepartment(CMSApi.Application.DTO.DeptDto.CreateDeptDto) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 13:50:04.151 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 13:50:04.154 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 13:50:04.157 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 13:50:04.160 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 13:50:04.162 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 13:50:04.168 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 13:50:04.294 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-26 13:50:04.400 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 13:50:04.413 +01:00 [DBG] Attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' ...
2025-08-26 13:50:04.419 +01:00 [DBG] Attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' using the name '' in request data ...
2025-08-26 13:50:04.423 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-26 13:50:04.435 +01:00 [DBG] Connection id "0HNF4JRO1GJQJ", Request id "0HNF4JRO1GJQJ:00000009": started reading request body.
2025-08-26 13:50:04.439 +01:00 [DBG] Connection id "0HNF4JRO1GJQJ", Request id "0HNF4JRO1GJQJ:00000009": done reading request body.
2025-08-26 13:50:04.453 +01:00 [DBG] JSON input formatter threw an exception: The JSON value could not be converted to System.DateTime. Path: $.createdAt | LineNumber: 2 | BytePositionInLine: 40.
2025-08-26 13:50:04.456 +01:00 [DBG] Done attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-08-26 13:50:04.458 +01:00 [DBG] Done attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-08-26 13:50:04.460 +01:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' ...
2025-08-26 13:50:04.470 +01:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-08-26 13:50:04.473 +01:00 [DBG] The request has model state errors, returning an error response.
2025-08-26 13:50:04.475 +01:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-08-26 13:50:04.478 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 13:50:04.486 +01:00 [DBG] No information found on request to perform content negotiation.
2025-08-26 13:50:04.489 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-08-26 13:50:04.492 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-08-26 13:50:04.494 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-26 13:50:04.528 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi) in 359.5463ms
2025-08-26 13:50:04.531 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-08-26 13:50:04.537 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7258/api/Dept - 400 null application/problem+json; charset=utf-8 562.2614ms
2025-08-26 13:50:39.263 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7258/api/Dept - application/json 77
2025-08-26 13:50:39.279 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept'
2025-08-26 13:50:39.281 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)' with route pattern 'api/Dept' is valid for the request path '/api/Dept'
2025-08-26 13:50:39.283 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-08-26 13:50:39.284 +01:00 [INF] No CORS policy found for the specified request.
2025-08-26 13:50:39.286 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 13:50:39.288 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-08-26 13:50:39.289 +01:00 [INF] Route matched with {action = "CreateDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateDepartment(CMSApi.Application.DTO.DeptDto.CreateDeptDto) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 13:50:39.292 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 13:50:39.294 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 13:50:39.296 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 13:50:39.298 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 13:50:39.300 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 13:50:39.302 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 13:50:39.312 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 13:50:39.315 +01:00 [DBG] Attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' ...
2025-08-26 13:50:39.316 +01:00 [DBG] Attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' using the name '' in request data ...
2025-08-26 13:50:39.318 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-26 13:50:39.320 +01:00 [DBG] Connection id "0HNF4JRO1GJQJ", Request id "0HNF4JRO1GJQJ:0000000B": started reading request body.
2025-08-26 13:50:39.321 +01:00 [DBG] Connection id "0HNF4JRO1GJQJ", Request id "0HNF4JRO1GJQJ:0000000B": done reading request body.
2025-08-26 13:50:39.323 +01:00 [DBG] JSON input formatter threw an exception: The JSON value could not be converted to System.DateTime. Path: $.createdAt | LineNumber: 2 | BytePositionInLine: 40.
2025-08-26 13:50:39.325 +01:00 [DBG] Done attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-08-26 13:50:39.329 +01:00 [DBG] Done attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-08-26 13:50:39.330 +01:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' ...
2025-08-26 13:50:39.332 +01:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-08-26 13:50:39.333 +01:00 [DBG] The request has model state errors, returning an error response.
2025-08-26 13:50:39.334 +01:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-08-26 13:50:39.335 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 13:50:39.338 +01:00 [DBG] No information found on request to perform content negotiation.
2025-08-26 13:50:39.339 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-08-26 13:50:39.342 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-08-26 13:50:39.345 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-26 13:50:39.347 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi) in 45.1257ms
2025-08-26 13:50:39.349 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-08-26 13:50:39.350 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7258/api/Dept - 400 null application/problem+json; charset=utf-8 87.432ms
2025-08-26 13:50:56.460 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7258/api/Dept - application/json 78
2025-08-26 13:50:56.473 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept'
2025-08-26 13:50:56.475 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)' with route pattern 'api/Dept' is valid for the request path '/api/Dept'
2025-08-26 13:50:56.478 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-08-26 13:50:56.480 +01:00 [INF] No CORS policy found for the specified request.
2025-08-26 13:50:56.482 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 13:50:56.484 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-08-26 13:50:56.486 +01:00 [INF] Route matched with {action = "CreateDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateDepartment(CMSApi.Application.DTO.DeptDto.CreateDeptDto) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 13:50:56.489 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 13:50:56.491 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 13:50:56.494 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 13:50:56.497 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 13:50:56.499 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 13:50:56.500 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 13:50:56.506 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 13:50:56.509 +01:00 [DBG] Attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' ...
2025-08-26 13:50:56.511 +01:00 [DBG] Attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' using the name '' in request data ...
2025-08-26 13:50:56.513 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-26 13:50:56.514 +01:00 [DBG] Connection id "0HNF4JRO1GJQJ", Request id "0HNF4JRO1GJQJ:0000000D": started reading request body.
2025-08-26 13:50:56.515 +01:00 [DBG] Connection id "0HNF4JRO1GJQJ", Request id "0HNF4JRO1GJQJ:0000000D": done reading request body.
2025-08-26 13:50:56.518 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'
2025-08-26 13:50:56.519 +01:00 [DBG] Done attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-08-26 13:50:56.521 +01:00 [DBG] Done attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-08-26 13:50:56.523 +01:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' ...
2025-08-26 13:50:56.529 +01:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-08-26 13:50:57.082 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 13:50:57.129 +01:00 [DBG] 'CMSDbContext' generated a temporary value for the property 'Department.DeptId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 13:50:57.187 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 13:50:57.197 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-08-26 13:50:57.202 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-08-26 13:50:57.216 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-08-26 13:50:57.349 +01:00 [DBG] Creating DbConnection.
2025-08-26 13:50:57.385 +01:00 [DBG] Created DbConnection. (33ms).
2025-08-26 13:50:57.393 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:50:57.977 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:50:57.992 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 13:50:58.001 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-08-26 13:50:58.016 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (24ms).
2025-08-26 13:50:58.035 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Departments] ([CreatedAt], [DeptName], [UpdatedAt])
OUTPUT INSERTED.[DeptId]
VALUES (@p0, @p1, @p2);
2025-08-26 13:50:58.135 +01:00 [INF] Executed DbCommand (105ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Departments] ([CreatedAt], [DeptName], [UpdatedAt])
OUTPUT INSERTED.[DeptId]
VALUES (@p0, @p1, @p2);
2025-08-26 13:50:58.168 +01:00 [DBG] The foreign key property 'Department.DeptId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-26 13:50:58.192 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:50:58.205 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 56ms reading results.
2025-08-26 13:50:58.216 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:50:58.230 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (12ms).
2025-08-26 13:50:58.253 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 13:50:58.264 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 1 entities written to the database.
2025-08-26 13:50:58.291 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 13:50:58.300 +01:00 [DBG] No information found on request to perform content negotiation.
2025-08-26 13:50:58.304 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-26 13:50:58.311 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-26 13:50:58.314 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-26 13:50:58.318 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'CMSApi.Application.DTO.DeptDto.ResponseDto'.
2025-08-26 13:50:58.359 +01:00 [DBG] Found the endpoints ["CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)"] for address (name=[Technical],action=[GetDepartments],controller=[Dept])
2025-08-26 13:50:58.365 +01:00 [DBG] Successfully processed template api/Dept for CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi) resulting in /api/Dept and ?name=Technical
2025-08-26 13:50:58.369 +01:00 [DBG] Link generation succeeded for endpoints ["CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)"] with result /api/Dept?name=Technical
2025-08-26 13:50:58.375 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi) in 1874.8395ms
2025-08-26 13:50:58.378 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-08-26 13:50:58.383 +01:00 [DBG] 'CMSDbContext' disposed.
2025-08-26 13:50:58.390 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:50:58.398 +01:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-08-26 13:50:58.401 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7258/api/Dept - 201 null application/json; charset=utf-8 1941.2549ms
2025-08-26 13:52:34.644 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7258/api/Dept/4 - application/json 77
2025-08-26 13:52:34.651 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept/4'
2025-08-26 13:52:34.654 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)' with route pattern 'api/Dept/{id}' is valid for the request path '/api/Dept/4'
2025-08-26 13:52:34.656 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 13:52:34.658 +01:00 [INF] No CORS policy found for the specified request.
2025-08-26 13:52:34.659 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 13:52:34.661 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 13:52:34.671 +01:00 [INF] Route matched with {action = "UpdateDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.DeptDto.DepartmentResponseDto]] UpdateDepartment(Int32, CMSApi.Application.DTO.DeptDto.UpdateDept) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 13:52:34.674 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 13:52:34.677 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 13:52:34.681 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 13:52:34.687 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 13:52:34.690 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 13:52:34.693 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 13:52:34.697 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 13:52:34.702 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-26 13:52:34.705 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-26 13:52:34.709 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 13:52:34.711 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 13:52:34.713 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-26 13:52:34.718 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-26 13:52:34.721 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-08-26 13:52:34.724 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' using the name '' in request data ...
2025-08-26 13:52:34.727 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-26 13:52:34.737 +01:00 [DBG] Connection id "0HNF4JRO1GJQJ", Request id "0HNF4JRO1GJQJ:0000000F": started reading request body.
2025-08-26 13:52:34.741 +01:00 [DBG] Connection id "0HNF4JRO1GJQJ", Request id "0HNF4JRO1GJQJ:0000000F": done reading request body.
2025-08-26 13:52:34.747 +01:00 [DBG] JSON input formatter threw an exception: The JSON value could not be converted to System.Nullable`1[System.DateTime]. Path: $.updatedAt | LineNumber: 2 | BytePositionInLine: 40.
2025-08-26 13:52:34.749 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 13:52:34.753 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 13:52:34.755 +01:00 [DBG] Attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-08-26 13:52:34.758 +01:00 [DBG] Done attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 13:52:34.760 +01:00 [DBG] The request has model state errors, returning an error response.
2025-08-26 13:52:34.761 +01:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-08-26 13:52:34.763 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 13:52:34.770 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-08-26 13:52:34.775 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-08-26 13:52:34.777 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-08-26 13:52:34.781 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-08-26 13:52:34.785 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-26 13:52:34.787 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi) in 93.7935ms
2025-08-26 13:52:34.790 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 13:52:34.791 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7258/api/Dept/4 - 400 null application/problem+json; charset=utf-8 147.4947ms
2025-08-26 13:53:53.128 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7258/api/Dept/4 - application/json 96
2025-08-26 13:53:53.139 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept/4'
2025-08-26 13:53:53.141 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)' with route pattern 'api/Dept/{id}' is valid for the request path '/api/Dept/4'
2025-08-26 13:53:53.143 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 13:53:53.144 +01:00 [INF] No CORS policy found for the specified request.
2025-08-26 13:53:53.145 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 13:53:53.147 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 13:53:53.150 +01:00 [INF] Route matched with {action = "UpdateDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.DeptDto.DepartmentResponseDto]] UpdateDepartment(Int32, CMSApi.Application.DTO.DeptDto.UpdateDept) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 13:53:53.153 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 13:53:53.155 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 13:53:53.157 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 13:53:53.160 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 13:53:53.163 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 13:53:53.168 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 13:53:53.171 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 13:53:53.174 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-26 13:53:53.177 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-26 13:53:53.184 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 13:53:53.187 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 13:53:53.191 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-26 13:53:53.194 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-26 13:53:53.198 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-08-26 13:53:53.201 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' using the name '' in request data ...
2025-08-26 13:53:53.204 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-26 13:53:53.206 +01:00 [DBG] Connection id "0HNF4JRO1GJQJ", Request id "0HNF4JRO1GJQJ:00000011": started reading request body.
2025-08-26 13:53:53.208 +01:00 [DBG] Connection id "0HNF4JRO1GJQJ", Request id "0HNF4JRO1GJQJ:00000011": done reading request body.
2025-08-26 13:53:53.211 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.DeptDto.UpdateDept'
2025-08-26 13:53:53.213 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 13:53:53.217 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 13:53:53.219 +01:00 [DBG] Attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-08-26 13:53:53.222 +01:00 [DBG] Done attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 13:53:53.294 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 13:53:53.407 +01:00 [DBG] Compiling query expression: 
'DbSet<Department>()
    .FirstOrDefault(e => EF.Property<int>(e, "DeptId") == __p_0)'
2025-08-26 13:53:53.691 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Department>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Department>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.DeptId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
            SELECT TOP(1) d.DeptId, d.CreatedAt, d.DeptName, d.UpdatedAt
            FROM Departments AS d
            WHERE d.DeptId == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.DeptId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
            SELECT TOP(1) d.DeptId, d.CreatedAt, d.DeptName, d.UpdatedAt
            FROM Departments AS d
            WHERE d.DeptId == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Department entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Department instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Department);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Department.DeptId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Department)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]: 
                            {
                                return 
                                {
                                    Department instance;
                                    instance = new Department();
                                    instance.<DeptId>k__BackingField = dataReader.GetInt32(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<DeptName>k__BackingField = dataReader.GetString(2);
                                    instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(3);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Department)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-26 13:53:53.744 +01:00 [DBG] Creating DbConnection.
2025-08-26 13:53:53.749 +01:00 [DBG] Created DbConnection. (4ms).
2025-08-26 13:53:53.752 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:53:53.757 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:53:53.760 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 13:53:53.762 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-26 13:53:53.766 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-26 13:53:53.768 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 13:53:53.783 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 13:53:53.800 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 13:53:53.806 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:53:53.810 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 22ms reading results.
2025-08-26 13:53:53.816 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:53:53.820 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (3ms).
2025-08-26 13:53:53.825 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 13:53:53.831 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-08-26 13:53:53.835 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-08-26 13:53:53.838 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-08-26 13:53:53.848 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:53:53.852 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:53:53.856 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 13:53:53.858 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-26 13:53:53.861 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-26 13:53:53.865 +01:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Departments] SET [CreatedAt] = @p0, [DeptName] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [DeptId] = @p3;
2025-08-26 13:53:53.872 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Departments] SET [CreatedAt] = @p0, [DeptName] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [DeptId] = @p3;
2025-08-26 13:53:53.878 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:53:53.882 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-08-26 13:53:53.885 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:53:53.887 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (2ms).
2025-08-26 13:53:53.890 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 13:53:53.893 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 1 entities written to the database.
2025-08-26 13:53:53.900 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 13:53:53.904 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-08-26 13:53:53.906 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-08-26 13:53:53.909 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-26 13:53:53.910 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-26 13:53:53.911 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-26 13:53:53.916 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.DeptDto.DepartmentResponseDto'.
2025-08-26 13:53:53.919 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi) in 751.3383ms
2025-08-26 13:53:53.922 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 13:53:53.923 +01:00 [DBG] 'CMSDbContext' disposed.
2025-08-26 13:53:53.926 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:53:53.928 +01:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-26 13:53:53.930 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7258/api/Dept/4 - 200 null application/json; charset=utf-8 802.7327ms
2025-08-26 13:55:15.731 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7258/api/Dept/4 - application/json 78
2025-08-26 13:55:15.766 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept/4'
2025-08-26 13:55:15.768 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)' with route pattern 'api/Dept/{id}' is valid for the request path '/api/Dept/4'
2025-08-26 13:55:15.771 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 13:55:15.774 +01:00 [INF] No CORS policy found for the specified request.
2025-08-26 13:55:15.777 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 13:55:15.779 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 13:55:15.780 +01:00 [INF] Route matched with {action = "UpdateDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.DeptDto.DepartmentResponseDto]] UpdateDepartment(Int32, CMSApi.Application.DTO.DeptDto.UpdateDept) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 13:55:15.784 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 13:55:15.786 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 13:55:15.789 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 13:55:15.793 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 13:55:15.795 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 13:55:15.797 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 13:55:15.799 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 13:55:15.802 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-26 13:55:15.804 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-26 13:55:15.808 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 13:55:15.811 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 13:55:15.813 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-26 13:55:15.814 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-26 13:55:15.816 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-08-26 13:55:15.819 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' using the name '' in request data ...
2025-08-26 13:55:15.821 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-26 13:55:15.824 +01:00 [DBG] Connection id "0HNF4JRO1GJQJ", Request id "0HNF4JRO1GJQJ:00000013": started reading request body.
2025-08-26 13:55:15.827 +01:00 [DBG] Connection id "0HNF4JRO1GJQJ", Request id "0HNF4JRO1GJQJ:00000013": done reading request body.
2025-08-26 13:55:15.829 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.DeptDto.UpdateDept'
2025-08-26 13:55:15.831 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 13:55:15.833 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 13:55:15.835 +01:00 [DBG] Attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-08-26 13:55:15.837 +01:00 [DBG] Done attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 13:55:15.853 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 13:55:15.863 +01:00 [DBG] Creating DbConnection.
2025-08-26 13:55:15.865 +01:00 [DBG] Created DbConnection. (2ms).
2025-08-26 13:55:15.868 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:55:15.871 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:55:15.876 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 13:55:15.877 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-26 13:55:15.879 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-26 13:55:15.881 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 13:55:15.894 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 13:55:15.900 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 13:55:15.903 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:55:15.907 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-08-26 13:55:15.911 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:55:15.914 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (2ms).
2025-08-26 13:55:15.918 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 13:55:15.925 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-08-26 13:55:15.928 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-08-26 13:55:15.931 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-08-26 13:55:15.934 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:55:15.938 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:55:15.942 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 13:55:15.944 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-26 13:55:15.947 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-26 13:55:15.949 +01:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Departments] SET [CreatedAt] = @p0, [DeptName] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [DeptId] = @p3;
2025-08-26 13:55:15.959 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Departments] SET [CreatedAt] = @p0, [DeptName] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [DeptId] = @p3;
2025-08-26 13:55:15.963 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:55:15.965 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-26 13:55:15.968 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:55:15.970 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (2ms).
2025-08-26 13:55:15.975 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 13:55:15.978 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 1 entities written to the database.
2025-08-26 13:55:15.980 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 13:55:15.984 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-08-26 13:55:15.987 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-08-26 13:55:15.991 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-26 13:55:15.993 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-26 13:55:15.994 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-26 13:55:15.996 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.DeptDto.DepartmentResponseDto'.
2025-08-26 13:55:15.998 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi) in 201.1821ms
2025-08-26 13:55:16.001 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 13:55:16.002 +01:00 [DBG] 'CMSDbContext' disposed.
2025-08-26 13:55:16.005 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 13:55:16.009 +01:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-26 13:55:16.011 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7258/api/Dept/4 - 200 null application/json; charset=utf-8 279.5452ms
2025-08-26 13:59:01.135 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-08-26 13:59:01.153 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-26 13:59:01.155 +01:00 [DBG] Request did not match any endpoints
2025-08-26 13:59:01.157 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-26 13:59:01.159 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-26 13:59:01.161 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-26 13:59:01.163 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-26 13:59:01.225 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-08-26 13:59:01.225 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-08-26 13:59:01.227 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 91.8544ms
2025-08-26 13:59:01.236 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-08-26 13:59:01.241 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 15.5835ms
2025-08-26 13:59:01.247 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.2003ms
2025-08-26 13:59:01.385 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-08-26 13:59:01.395 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-26 13:59:01.397 +01:00 [DBG] Request did not match any endpoints
2025-08-26 13:59:01.406 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 20.2361ms
2025-08-26 13:59:19.857 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-26 13:59:19.951 +01:00 [DBG] Hosting starting
2025-08-26 13:59:19.988 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-26 13:59:19.999 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-08-26 13:59:20.008 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-08-26 13:59:20.019 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-08-26 13:59:20.024 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 13:59:20.027 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-26 13:59:20.029 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 13:59:20.034 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-26 13:59:20.036 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-26 13:59:20.040 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-08-26 13:59:20.042 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-08-26 13:59:20.049 +01:00 [DBG] Middleware loaded
2025-08-26 13:59:20.052 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-08-26 13:59:20.054 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-26 13:59:20.140 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-26 13:59:20.143 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-26 13:59:20.152 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-26 13:59:20.330 +01:00 [INF] Now listening on: https://localhost:7258
2025-08-26 13:59:20.335 +01:00 [INF] Now listening on: http://localhost:5191
2025-08-26 13:59:20.336 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-08-26 13:59:20.337 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-26 13:59:20.339 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-26 13:59:20.340 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-26 13:59:20.347 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 13:59:20.349 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 13:59:20.509 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-26 13:59:20.511 +01:00 [INF] Hosting environment: Development
2025-08-26 13:59:20.512 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-08-26 13:59:20.514 +01:00 [DBG] Hosting started
2025-08-26 13:59:27.152 +01:00 [DBG] Connection id "0HNF4K1HNQ99P" accepted.
2025-08-26 13:59:27.155 +01:00 [DBG] Connection id "0HNF4K1HNQ99P" started.
2025-08-26 13:59:27.212 +01:00 [DBG] Connection 0HNF4K1HNQ99P established using the following protocol: "Tls13"
2025-08-26 13:59:27.276 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-08-26 13:59:27.383 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-26 13:59:27.388 +01:00 [DBG] Request did not match any endpoints
2025-08-26 13:59:27.443 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-26 13:59:27.449 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-26 13:59:27.457 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-26 13:59:27.460 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-26 13:59:27.467 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 195.6316ms
2025-08-26 13:59:27.472 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-08-26 13:59:27.475 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-08-26 13:59:27.497 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-08-26 13:59:27.501 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 26.3444ms
2025-08-26 13:59:27.521 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.4502ms
2025-08-26 13:59:27.558 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-08-26 13:59:27.562 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-26 13:59:27.565 +01:00 [DBG] Request did not match any endpoints
2025-08-26 13:59:27.591 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 33.6341ms
2025-08-26 14:00:05.197 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7258/api/Dept/4 - application/json 81
2025-08-26 14:00:05.236 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept/4'
2025-08-26 14:00:05.240 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)' with route pattern 'api/Dept/{id}' is valid for the request path '/api/Dept/4'
2025-08-26 14:00:05.245 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 14:00:05.258 +01:00 [INF] No CORS policy found for the specified request.
2025-08-26 14:00:05.332 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 14:00:05.338 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 14:00:05.367 +01:00 [INF] Route matched with {action = "UpdateDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.DeptDto.DepartmentResponseDto]] UpdateDepartment(Int32, CMSApi.Application.DTO.DeptDto.UpdateDept) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 14:00:05.373 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 14:00:05.378 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 14:00:05.380 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 14:00:05.384 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 14:00:05.386 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 14:00:05.394 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 14:00:05.523 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-26 14:00:05.637 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 14:00:05.650 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-26 14:00:05.655 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-26 14:00:05.660 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 14:00:05.661 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 14:00:05.663 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-26 14:00:05.666 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-26 14:00:05.669 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-08-26 14:00:05.670 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' using the name '' in request data ...
2025-08-26 14:00:05.675 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-26 14:00:05.686 +01:00 [DBG] Connection id "0HNF4K1HNQ99P", Request id "0HNF4K1HNQ99P:00000009": started reading request body.
2025-08-26 14:00:05.691 +01:00 [DBG] Connection id "0HNF4K1HNQ99P", Request id "0HNF4K1HNQ99P:00000009": done reading request body.
2025-08-26 14:00:05.703 +01:00 [DBG] JSON input formatter threw an exception: The JSON value could not be converted to System.Nullable`1[System.DateTime]. Path: $.updatedAt | LineNumber: 2 | BytePositionInLine: 40.
2025-08-26 14:00:05.707 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 14:00:05.711 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 14:00:05.713 +01:00 [DBG] Attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-08-26 14:00:05.717 +01:00 [DBG] Done attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 14:00:05.719 +01:00 [DBG] The request has model state errors, returning an error response.
2025-08-26 14:00:05.721 +01:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-08-26 14:00:05.728 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 14:00:05.734 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-08-26 14:00:05.741 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-08-26 14:00:05.744 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-08-26 14:00:05.749 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-08-26 14:00:05.751 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-26 14:00:05.779 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi) in 387.1425ms
2025-08-26 14:00:05.782 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 14:00:05.786 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7258/api/Dept/4 - 400 null application/problem+json; charset=utf-8 592.2295ms
2025-08-26 14:00:29.800 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7258/api/Dept/4 - application/json 81
2025-08-26 14:00:29.812 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept/4'
2025-08-26 14:00:29.814 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)' with route pattern 'api/Dept/{id}' is valid for the request path '/api/Dept/4'
2025-08-26 14:00:29.817 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 14:00:29.819 +01:00 [INF] No CORS policy found for the specified request.
2025-08-26 14:00:29.820 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 14:00:29.826 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 14:00:29.827 +01:00 [INF] Route matched with {action = "UpdateDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.DeptDto.DepartmentResponseDto]] UpdateDepartment(Int32, CMSApi.Application.DTO.DeptDto.UpdateDept) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 14:00:29.830 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 14:00:29.833 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 14:00:29.834 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 14:00:29.836 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 14:00:29.838 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 14:00:29.840 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 14:00:29.850 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 14:00:29.852 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-26 14:00:29.854 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-26 14:00:29.856 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 14:00:29.857 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 14:00:29.859 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-26 14:00:29.860 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-26 14:00:29.862 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-08-26 14:00:29.866 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' using the name '' in request data ...
2025-08-26 14:00:29.868 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-26 14:00:29.870 +01:00 [DBG] Connection id "0HNF4K1HNQ99P", Request id "0HNF4K1HNQ99P:0000000B": started reading request body.
2025-08-26 14:00:29.871 +01:00 [DBG] Connection id "0HNF4K1HNQ99P", Request id "0HNF4K1HNQ99P:0000000B": done reading request body.
2025-08-26 14:00:29.873 +01:00 [DBG] JSON input formatter threw an exception: The JSON value could not be converted to System.Nullable`1[System.DateTime]. Path: $.updatedAt | LineNumber: 2 | BytePositionInLine: 40.
2025-08-26 14:00:29.874 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 14:00:29.875 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 14:00:29.877 +01:00 [DBG] Attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-08-26 14:00:29.879 +01:00 [DBG] Done attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 14:00:29.882 +01:00 [DBG] The request has model state errors, returning an error response.
2025-08-26 14:00:29.884 +01:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-08-26 14:00:29.886 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 14:00:29.889 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-08-26 14:00:29.892 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-08-26 14:00:29.893 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-08-26 14:00:29.896 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-08-26 14:00:29.898 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-26 14:00:29.900 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi) in 60.4301ms
2025-08-26 14:00:29.901 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 14:00:29.903 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7258/api/Dept/4 - 400 null application/problem+json; charset=utf-8 103.0301ms
2025-08-26 14:01:45.556 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7258/api/Dept/4 - application/json 81
2025-08-26 14:01:45.574 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept/4'
2025-08-26 14:01:45.576 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)' with route pattern 'api/Dept/{id}' is valid for the request path '/api/Dept/4'
2025-08-26 14:01:45.578 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 14:01:45.581 +01:00 [INF] No CORS policy found for the specified request.
2025-08-26 14:01:45.584 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 14:01:45.586 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 14:01:45.587 +01:00 [INF] Route matched with {action = "UpdateDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.DeptDto.DepartmentResponseDto]] UpdateDepartment(Int32, CMSApi.Application.DTO.DeptDto.UpdateDept) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 14:01:45.590 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 14:01:45.591 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 14:01:45.593 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 14:01:45.595 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 14:01:45.600 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 14:01:45.602 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 14:01:45.607 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 14:01:45.608 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-26 14:01:45.610 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-26 14:01:45.611 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 14:01:45.614 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 14:01:45.616 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-26 14:01:45.618 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-26 14:01:45.619 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-08-26 14:01:45.621 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' using the name '' in request data ...
2025-08-26 14:01:45.622 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-26 14:01:45.624 +01:00 [DBG] Connection id "0HNF4K1HNQ99P", Request id "0HNF4K1HNQ99P:0000000D": started reading request body.
2025-08-26 14:01:45.625 +01:00 [DBG] Connection id "0HNF4K1HNQ99P", Request id "0HNF4K1HNQ99P:0000000D": done reading request body.
2025-08-26 14:01:45.627 +01:00 [DBG] JSON input formatter threw an exception: The JSON value could not be converted to System.Nullable`1[System.DateTime]. Path: $.updatedAt | LineNumber: 2 | BytePositionInLine: 40.
2025-08-26 14:01:45.628 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 14:01:45.632 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 14:01:45.634 +01:00 [DBG] Attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-08-26 14:01:45.635 +01:00 [DBG] Done attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 14:01:45.637 +01:00 [DBG] The request has model state errors, returning an error response.
2025-08-26 14:01:45.638 +01:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-08-26 14:01:45.639 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 14:01:45.641 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-08-26 14:01:45.644 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-08-26 14:01:45.646 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-08-26 14:01:45.651 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-08-26 14:01:45.652 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-26 14:01:45.654 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi) in 51.7616ms
2025-08-26 14:01:45.690 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 14:01:45.692 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7258/api/Dept/4 - 400 null application/problem+json; charset=utf-8 136.3605ms
2025-08-26 14:01:55.216 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-26 14:01:55.463 +01:00 [DBG] Hosting starting
2025-08-26 14:01:55.532 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-26 14:01:55.554 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-08-26 14:01:55.570 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-08-26 14:01:55.598 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-08-26 14:01:55.606 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 14:01:55.610 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-26 14:01:55.613 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 14:01:55.626 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-26 14:01:55.630 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-26 14:01:55.633 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-08-26 14:01:55.637 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-08-26 14:01:55.645 +01:00 [DBG] Middleware loaded
2025-08-26 14:01:55.649 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-08-26 14:01:55.654 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-26 14:01:55.758 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-26 14:01:55.762 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-26 14:01:55.775 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-26 14:01:55.957 +01:00 [INF] Now listening on: https://localhost:7258
2025-08-26 14:01:55.961 +01:00 [INF] Now listening on: http://localhost:5191
2025-08-26 14:01:55.964 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-08-26 14:01:55.967 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-26 14:01:55.970 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-26 14:01:55.972 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-26 14:01:55.990 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 14:01:55.996 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 14:01:56.309 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-26 14:01:56.312 +01:00 [INF] Hosting environment: Development
2025-08-26 14:01:56.315 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-08-26 14:01:56.321 +01:00 [DBG] Hosting started
2025-08-26 14:02:10.961 +01:00 [DBG] Connection id "0HNF4K32I0OD7" accepted.
2025-08-26 14:02:10.967 +01:00 [DBG] Connection id "0HNF4K32I0OD7" started.
2025-08-26 14:02:11.061 +01:00 [DBG] Connection 0HNF4K32I0OD7 established using the following protocol: "Tls13"
2025-08-26 14:02:11.135 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-08-26 14:02:11.267 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-26 14:02:11.272 +01:00 [DBG] Request did not match any endpoints
2025-08-26 14:02:11.346 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-26 14:02:11.352 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-26 14:02:11.360 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-26 14:02:11.363 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-26 14:02:11.369 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 239.3509ms
2025-08-26 14:02:11.375 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-08-26 14:02:11.376 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-08-26 14:02:11.408 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-08-26 14:02:11.410 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 34.2854ms
2025-08-26 14:02:11.433 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 58.2092ms
2025-08-26 14:02:11.476 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-08-26 14:02:11.481 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-26 14:02:11.483 +01:00 [DBG] Request did not match any endpoints
2025-08-26 14:02:11.510 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 34.0305ms
2025-08-26 14:02:50.128 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7258/api/Dept/4 - application/json 78
2025-08-26 14:02:50.140 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept/4'
2025-08-26 14:02:50.145 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)' with route pattern 'api/Dept/{id}' is valid for the request path '/api/Dept/4'
2025-08-26 14:02:50.149 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 14:02:50.164 +01:00 [INF] No CORS policy found for the specified request.
2025-08-26 14:02:50.253 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 14:02:50.260 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 14:02:50.294 +01:00 [INF] Route matched with {action = "UpdateDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.DeptDto.DepartmentResponseDto]] UpdateDepartment(Int32, CMSApi.Application.DTO.DeptDto.UpdateDept) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 14:02:50.301 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 14:02:50.305 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 14:02:50.311 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 14:02:50.317 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 14:02:50.321 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 14:02:50.328 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 14:02:50.480 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-26 14:02:50.617 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 14:02:50.634 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-26 14:02:50.640 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-26 14:02:50.646 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 14:02:50.650 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 14:02:50.653 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-26 14:02:50.662 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-26 14:02:50.667 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-08-26 14:02:50.670 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' using the name '' in request data ...
2025-08-26 14:02:50.678 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-26 14:02:50.697 +01:00 [DBG] Connection id "0HNF4K32I0OD7", Request id "0HNF4K32I0OD7:00000009": started reading request body.
2025-08-26 14:02:50.702 +01:00 [DBG] Connection id "0HNF4K32I0OD7", Request id "0HNF4K32I0OD7:00000009": done reading request body.
2025-08-26 14:02:50.715 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.DeptDto.UpdateDept'
2025-08-26 14:02:50.719 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 14:02:50.723 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 14:02:50.727 +01:00 [DBG] Attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-08-26 14:02:50.740 +01:00 [DBG] Done attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 14:02:51.646 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 14:02:51.768 +01:00 [DBG] Compiling query expression: 
'DbSet<Department>()
    .FirstOrDefault(e => EF.Property<int>(e, "DeptId") == __p_0)'
2025-08-26 14:02:52.170 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Department>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Department>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.DeptId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
            SELECT TOP(1) d.DeptId, d.CreatedAt, d.DeptName, d.UpdatedAt
            FROM Departments AS d
            WHERE d.DeptId == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.DeptId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
            SELECT TOP(1) d.DeptId, d.CreatedAt, d.DeptName, d.UpdatedAt
            FROM Departments AS d
            WHERE d.DeptId == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Department entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Department instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Department);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Department.DeptId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Department)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]: 
                            {
                                return 
                                {
                                    Department instance;
                                    instance = new Department();
                                    instance.<DeptId>k__BackingField = dataReader.GetInt32(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<DeptName>k__BackingField = dataReader.GetString(2);
                                    instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(3);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Department)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-26 14:02:52.228 +01:00 [DBG] Creating DbConnection.
2025-08-26 14:02:52.264 +01:00 [DBG] Created DbConnection. (29ms).
2025-08-26 14:02:52.272 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:02:52.566 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:02:52.576 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 14:02:52.588 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2025-08-26 14:02:52.603 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (29ms).
2025-08-26 14:02:52.618 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 14:02:52.709 +01:00 [INF] Executed DbCommand (89ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 14:02:52.779 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 14:02:52.815 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:02:52.828 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 105ms reading results.
2025-08-26 14:02:52.835 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:02:52.848 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (12ms).
2025-08-26 14:02:52.867 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 14:02:52.879 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-08-26 14:02:52.885 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-08-26 14:02:52.913 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-08-26 14:02:52.998 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:02:53.004 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:02:53.011 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 14:02:53.014 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-26 14:02:53.019 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-08-26 14:02:53.022 +01:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Departments] SET [CreatedAt] = @p0, [DeptName] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [DeptId] = @p3;
2025-08-26 14:02:53.034 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Departments] SET [CreatedAt] = @p0, [DeptName] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [DeptId] = @p3;
2025-08-26 14:02:53.048 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:02:53.052 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 10ms reading results.
2025-08-26 14:02:53.061 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:02:53.064 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (3ms).
2025-08-26 14:02:53.071 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 14:02:53.080 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 1 entities written to the database.
2025-08-26 14:02:53.101 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 14:02:53.114 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-08-26 14:02:53.120 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-08-26 14:02:53.128 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-26 14:02:53.131 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-26 14:02:53.134 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-26 14:02:53.141 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.DeptDto.DepartmentResponseDto'.
2025-08-26 14:02:53.152 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi) in 2825.9118ms
2025-08-26 14:02:53.159 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 14:02:53.166 +01:00 [DBG] 'CMSDbContext' disposed.
2025-08-26 14:02:53.175 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:02:53.179 +01:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-08-26 14:02:53.182 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7258/api/Dept/4 - 200 null application/json; charset=utf-8 3062.5995ms
2025-08-26 14:11:20.439 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-26 14:11:20.554 +01:00 [DBG] Hosting starting
2025-08-26 14:11:20.588 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-26 14:11:20.600 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-08-26 14:11:20.611 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-08-26 14:11:20.625 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-08-26 14:11:20.630 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 14:11:20.634 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-26 14:11:20.636 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 14:11:20.641 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-26 14:11:20.643 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-26 14:11:20.646 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-08-26 14:11:20.648 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-08-26 14:11:20.660 +01:00 [DBG] Middleware loaded
2025-08-26 14:11:20.663 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-08-26 14:11:20.666 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-26 14:11:20.763 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-26 14:11:20.767 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-26 14:11:20.782 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-26 14:11:20.909 +01:00 [INF] Now listening on: https://localhost:7258
2025-08-26 14:11:20.911 +01:00 [INF] Now listening on: http://localhost:5191
2025-08-26 14:11:20.912 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-08-26 14:11:20.914 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-26 14:11:20.915 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-26 14:11:20.916 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-26 14:11:20.923 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 14:11:20.926 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 14:11:21.094 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-26 14:11:21.096 +01:00 [INF] Hosting environment: Development
2025-08-26 14:11:21.098 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-08-26 14:11:21.100 +01:00 [DBG] Hosting started
2025-08-26 14:11:25.732 +01:00 [DBG] Connection id "0HNF4K87SN969" accepted.
2025-08-26 14:11:25.736 +01:00 [DBG] Connection id "0HNF4K87SN969" started.
2025-08-26 14:11:25.789 +01:00 [DBG] Connection 0HNF4K87SN969 established using the following protocol: "Tls13"
2025-08-26 14:11:25.844 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-08-26 14:11:25.954 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-26 14:11:25.957 +01:00 [DBG] Request did not match any endpoints
2025-08-26 14:11:26.016 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-26 14:11:26.020 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-26 14:11:26.032 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-26 14:11:26.035 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-26 14:11:26.047 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 201.8585ms
2025-08-26 14:11:26.056 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-08-26 14:11:26.058 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-08-26 14:11:26.091 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-08-26 14:11:26.093 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 35.0931ms
2025-08-26 14:11:26.120 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.7701ms
2025-08-26 14:11:26.299 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-08-26 14:11:26.305 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-26 14:11:26.307 +01:00 [DBG] Request did not match any endpoints
2025-08-26 14:11:26.342 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 42.8207ms
2025-08-26 14:11:57.596 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7258/api/Dept/4 - application/json 78
2025-08-26 14:11:57.616 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept/4'
2025-08-26 14:11:57.618 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)' with route pattern 'api/Dept/{id}' is valid for the request path '/api/Dept/4'
2025-08-26 14:11:57.622 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 14:11:57.634 +01:00 [INF] No CORS policy found for the specified request.
2025-08-26 14:11:57.699 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 14:11:57.704 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 14:11:57.731 +01:00 [INF] Route matched with {action = "UpdateDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.DeptDto.DepartmentResponseDto]] UpdateDepartment(Int32, CMSApi.Application.DTO.DeptDto.UpdateDept) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 14:11:57.736 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 14:11:57.740 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 14:11:57.746 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 14:11:57.749 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 14:11:57.751 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 14:11:57.754 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 14:11:57.866 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-26 14:11:57.967 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 14:11:57.981 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-26 14:11:57.986 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-26 14:11:57.990 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 14:11:57.992 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 14:11:57.996 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-26 14:11:57.999 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-26 14:11:58.002 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-08-26 14:11:58.004 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' using the name '' in request data ...
2025-08-26 14:11:58.006 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-26 14:11:58.018 +01:00 [DBG] Connection id "0HNF4K87SN969", Request id "0HNF4K87SN969:00000009": started reading request body.
2025-08-26 14:11:58.020 +01:00 [DBG] Connection id "0HNF4K87SN969", Request id "0HNF4K87SN969:00000009": done reading request body.
2025-08-26 14:11:58.031 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.DeptDto.UpdateDept'
2025-08-26 14:11:58.032 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 14:11:58.034 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 14:11:58.035 +01:00 [DBG] Attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-08-26 14:11:58.043 +01:00 [DBG] Done attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 14:11:58.627 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 14:11:58.731 +01:00 [DBG] Compiling query expression: 
'DbSet<Department>()
    .FirstOrDefault(e => EF.Property<int>(e, "DeptId") == __p_0)'
2025-08-26 14:11:59.027 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Department>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Department>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.DeptId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
            SELECT TOP(1) d.DeptId, d.CreatedAt, d.DeptName, d.UpdatedAt
            FROM Departments AS d
            WHERE d.DeptId == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.DeptId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
            SELECT TOP(1) d.DeptId, d.CreatedAt, d.DeptName, d.UpdatedAt
            FROM Departments AS d
            WHERE d.DeptId == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Department entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Department instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Department);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Department.DeptId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Department)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]: 
                            {
                                return 
                                {
                                    Department instance;
                                    instance = new Department();
                                    instance.<DeptId>k__BackingField = dataReader.GetInt32(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<DeptName>k__BackingField = dataReader.GetString(2);
                                    instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(3);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Department)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-26 14:11:59.072 +01:00 [DBG] Creating DbConnection.
2025-08-26 14:11:59.100 +01:00 [DBG] Created DbConnection. (23ms).
2025-08-26 14:11:59.105 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:11:59.419 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:11:59.427 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 14:11:59.436 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-08-26 14:11:59.450 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (24ms).
2025-08-26 14:11:59.463 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 14:11:59.532 +01:00 [INF] Executed DbCommand (70ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 14:11:59.587 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 14:11:59.617 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:11:59.629 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 84ms reading results.
2025-08-26 14:11:59.636 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:11:59.647 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (10ms).
2025-08-26 14:11:59.662 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 14:11:59.669 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-08-26 14:11:59.675 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-08-26 14:11:59.690 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-08-26 14:11:59.755 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:11:59.761 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:11:59.767 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 14:11:59.768 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-26 14:11:59.772 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-26 14:11:59.774 +01:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Departments] SET [CreatedAt] = @p0, [DeptName] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [DeptId] = @p3;
2025-08-26 14:11:59.785 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Departments] SET [CreatedAt] = @p0, [DeptName] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [DeptId] = @p3;
2025-08-26 14:11:59.797 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:11:59.799 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 10ms reading results.
2025-08-26 14:11:59.802 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:11:59.804 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (1ms).
2025-08-26 14:11:59.811 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 14:11:59.817 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 1 entities written to the database.
2025-08-26 14:11:59.832 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 14:11:59.839 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-08-26 14:11:59.845 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-08-26 14:11:59.849 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-26 14:11:59.850 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-26 14:11:59.852 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-26 14:11:59.854 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.DeptDto.DepartmentResponseDto'.
2025-08-26 14:11:59.865 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi) in 2108.9965ms
2025-08-26 14:11:59.868 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 14:11:59.872 +01:00 [DBG] 'CMSDbContext' disposed.
2025-08-26 14:11:59.880 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:11:59.884 +01:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-26 14:11:59.888 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7258/api/Dept/4 - 200 null application/json; charset=utf-8 2291.4154ms
2025-08-26 14:12:17.793 +01:00 [DBG] Connection id "0HNF4K87SN969" received FIN.
2025-08-26 14:12:17.806 +01:00 [DBG] Connection id "0HNF4K87SN969" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-26 14:12:17.807 +01:00 [DBG] Connection id "0HNF4K87SN969" is closed. The last processed stream ID was 9.
2025-08-26 14:12:17.817 +01:00 [DBG] The connection queue processing loop for 0HNF4K87SN969 completed.
2025-08-26 14:12:17.826 +01:00 [DBG] Connection id "0HNF4K87SN969" stopped.
2025-08-26 14:12:59.522 +01:00 [DBG] Connection id "0HNF4K87SN96A" accepted.
2025-08-26 14:12:59.531 +01:00 [DBG] Connection id "0HNF4K87SN96A" started.
2025-08-26 14:12:59.537 +01:00 [DBG] Connection 0HNF4K87SN96A established using the following protocol: "Tls13"
2025-08-26 14:12:59.540 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7258/api/Dept/4 - application/json 74
2025-08-26 14:12:59.555 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept/4'
2025-08-26 14:12:59.557 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)' with route pattern 'api/Dept/{id}' is valid for the request path '/api/Dept/4'
2025-08-26 14:12:59.561 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 14:12:59.564 +01:00 [INF] No CORS policy found for the specified request.
2025-08-26 14:12:59.565 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 14:12:59.567 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 14:12:59.569 +01:00 [INF] Route matched with {action = "UpdateDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.DeptDto.DepartmentResponseDto]] UpdateDepartment(Int32, CMSApi.Application.DTO.DeptDto.UpdateDept) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 14:12:59.572 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 14:12:59.574 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 14:12:59.579 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 14:12:59.583 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 14:12:59.585 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 14:12:59.587 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 14:12:59.591 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 14:12:59.595 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-26 14:12:59.597 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-26 14:12:59.600 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 14:12:59.602 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 14:12:59.605 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-26 14:12:59.607 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-26 14:12:59.611 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-08-26 14:12:59.613 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' using the name '' in request data ...
2025-08-26 14:12:59.616 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-26 14:12:59.618 +01:00 [DBG] Connection id "0HNF4K87SN96A", Request id "0HNF4K87SN96A:00000001": started reading request body.
2025-08-26 14:12:59.621 +01:00 [DBG] Connection id "0HNF4K87SN96A", Request id "0HNF4K87SN96A:00000001": done reading request body.
2025-08-26 14:12:59.623 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.DeptDto.UpdateDept'
2025-08-26 14:12:59.625 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 14:12:59.629 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 14:12:59.631 +01:00 [DBG] Attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-08-26 14:12:59.633 +01:00 [DBG] Done attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 14:12:59.714 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 14:12:59.726 +01:00 [DBG] Creating DbConnection.
2025-08-26 14:12:59.729 +01:00 [DBG] Created DbConnection. (3ms).
2025-08-26 14:12:59.732 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:12:59.735 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:12:59.737 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 14:12:59.739 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-26 14:12:59.742 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-26 14:12:59.746 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 14:12:59.762 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 14:12:59.768 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 14:12:59.771 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:12:59.773 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-08-26 14:12:59.778 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:12:59.780 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (2ms).
2025-08-26 14:12:59.783 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 14:12:59.786 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-08-26 14:12:59.788 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-08-26 14:12:59.790 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-08-26 14:12:59.796 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:12:59.798 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:12:59.800 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 14:12:59.802 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-26 14:12:59.804 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-26 14:12:59.807 +01:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Departments] SET [CreatedAt] = @p0, [DeptName] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [DeptId] = @p3;
2025-08-26 14:12:59.816 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Departments] SET [CreatedAt] = @p0, [DeptName] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [DeptId] = @p3;
2025-08-26 14:12:59.822 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:12:59.825 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-26 14:12:59.831 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:12:59.833 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (2ms).
2025-08-26 14:12:59.836 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 14:12:59.839 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 1 entities written to the database.
2025-08-26 14:12:59.846 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 14:12:59.849 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-08-26 14:12:59.852 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-08-26 14:12:59.854 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-26 14:12:59.856 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-26 14:12:59.858 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-26 14:12:59.862 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.DeptDto.DepartmentResponseDto'.
2025-08-26 14:12:59.865 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi) in 277.8915ms
2025-08-26 14:12:59.868 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 14:12:59.871 +01:00 [DBG] 'CMSDbContext' disposed.
2025-08-26 14:12:59.873 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:12:59.880 +01:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-08-26 14:12:59.884 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7258/api/Dept/4 - 200 null application/json; charset=utf-8 343.5151ms
2025-08-26 14:14:43.070 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7258/api/Dept - application/json 75
2025-08-26 14:14:43.083 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept'
2025-08-26 14:14:43.084 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)' with route pattern 'api/Dept' is valid for the request path '/api/Dept'
2025-08-26 14:14:43.087 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-08-26 14:14:43.088 +01:00 [INF] No CORS policy found for the specified request.
2025-08-26 14:14:43.092 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 14:14:43.094 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-08-26 14:14:43.104 +01:00 [INF] Route matched with {action = "CreateDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateDepartment(CMSApi.Application.DTO.DeptDto.CreateDeptDto) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 14:14:43.109 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 14:14:43.114 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 14:14:43.119 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 14:14:43.124 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 14:14:43.133 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 14:14:43.137 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 14:14:43.147 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 14:14:43.151 +01:00 [DBG] Attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' ...
2025-08-26 14:14:43.155 +01:00 [DBG] Attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' using the name '' in request data ...
2025-08-26 14:14:43.159 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-26 14:14:43.167 +01:00 [DBG] Connection id "0HNF4K87SN96A", Request id "0HNF4K87SN96A:00000003": started reading request body.
2025-08-26 14:14:43.171 +01:00 [DBG] Connection id "0HNF4K87SN96A", Request id "0HNF4K87SN96A:00000003": done reading request body.
2025-08-26 14:14:43.176 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'
2025-08-26 14:14:43.180 +01:00 [DBG] Done attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-08-26 14:14:43.184 +01:00 [DBG] Done attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-08-26 14:14:43.187 +01:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' ...
2025-08-26 14:14:43.191 +01:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-08-26 14:14:43.272 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 14:14:43.303 +01:00 [DBG] 'CMSDbContext' generated a temporary value for the property 'Department.DeptId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 14:14:43.315 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 14:14:43.320 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-08-26 14:14:43.324 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-08-26 14:14:43.333 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-08-26 14:14:43.359 +01:00 [DBG] Creating DbConnection.
2025-08-26 14:14:43.363 +01:00 [DBG] Created DbConnection. (3ms).
2025-08-26 14:14:43.367 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:14:43.371 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:14:43.374 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 14:14:43.376 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-26 14:14:43.380 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-08-26 14:14:43.384 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Departments] ([CreatedAt], [DeptName], [UpdatedAt])
OUTPUT INSERTED.[DeptId]
VALUES (@p0, @p1, @p2);
2025-08-26 14:14:43.397 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Departments] ([CreatedAt], [DeptName], [UpdatedAt])
OUTPUT INSERTED.[DeptId]
VALUES (@p0, @p1, @p2);
2025-08-26 14:14:43.415 +01:00 [DBG] The foreign key property 'Department.DeptId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-26 14:14:43.423 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:14:43.428 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 25ms reading results.
2025-08-26 14:14:43.433 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:14:43.437 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (3ms).
2025-08-26 14:14:43.446 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 14:14:43.452 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 1 entities written to the database.
2025-08-26 14:14:43.457 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 14:14:43.464 +01:00 [DBG] No information found on request to perform content negotiation.
2025-08-26 14:14:43.466 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-26 14:14:43.468 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-26 14:14:43.469 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-26 14:14:43.471 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'CMSApi.Application.DTO.DeptDto.ResponseDto'.
2025-08-26 14:14:43.499 +01:00 [DBG] Found the endpoints ["CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)"] for address (name=[Hacker],action=[GetDepartments],controller=[Dept])
2025-08-26 14:14:43.506 +01:00 [DBG] Successfully processed template api/Dept for CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi) resulting in /api/Dept and ?name=Hacker
2025-08-26 14:14:43.514 +01:00 [DBG] Link generation succeeded for endpoints ["CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)"] with result /api/Dept?name=Hacker
2025-08-26 14:14:43.520 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi) in 382.9172ms
2025-08-26 14:14:43.524 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-08-26 14:14:43.526 +01:00 [DBG] 'CMSDbContext' disposed.
2025-08-26 14:14:43.530 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:14:43.533 +01:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-26 14:14:43.537 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7258/api/Dept - 201 null application/json; charset=utf-8 466.9128ms
2025-08-26 14:16:12.892 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-26 14:16:13.031 +01:00 [DBG] Hosting starting
2025-08-26 14:16:13.076 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-26 14:16:13.100 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-08-26 14:16:13.112 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-08-26 14:16:13.129 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-08-26 14:16:13.137 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 14:16:13.140 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-26 14:16:13.143 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 14:16:13.150 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-26 14:16:13.153 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-26 14:16:13.156 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-08-26 14:16:13.157 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-08-26 14:16:13.165 +01:00 [DBG] Middleware loaded
2025-08-26 14:16:13.168 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-08-26 14:16:13.170 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-26 14:16:13.259 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-26 14:16:13.264 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-26 14:16:13.275 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-26 14:16:13.382 +01:00 [INF] Now listening on: https://localhost:7258
2025-08-26 14:16:13.384 +01:00 [INF] Now listening on: http://localhost:5191
2025-08-26 14:16:13.386 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-08-26 14:16:13.387 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-26 14:16:13.388 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-26 14:16:13.389 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-26 14:16:13.395 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 14:16:13.397 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 14:16:13.571 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-26 14:16:13.577 +01:00 [INF] Hosting environment: Development
2025-08-26 14:16:13.578 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-08-26 14:16:13.579 +01:00 [DBG] Hosting started
2025-08-26 14:16:20.416 +01:00 [DBG] Connection id "0HNF4KAVN1LB9" accepted.
2025-08-26 14:16:20.419 +01:00 [DBG] Connection id "0HNF4KAVN1LB9" started.
2025-08-26 14:16:20.485 +01:00 [DBG] Connection 0HNF4KAVN1LB9 established using the following protocol: "Tls13"
2025-08-26 14:16:20.590 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7258/api/Dept - application/json 75
2025-08-26 14:16:20.650 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept'
2025-08-26 14:16:20.661 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)' with route pattern 'api/Dept' is valid for the request path '/api/Dept'
2025-08-26 14:16:20.665 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-08-26 14:16:20.687 +01:00 [INF] No CORS policy found for the specified request.
2025-08-26 14:16:20.783 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 14:16:20.791 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-08-26 14:16:20.838 +01:00 [INF] Route matched with {action = "CreateDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateDepartment(CMSApi.Application.DTO.DeptDto.CreateDeptDto) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 14:16:20.845 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 14:16:20.848 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 14:16:20.851 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 14:16:20.856 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 14:16:20.861 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 14:16:20.865 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 14:16:21.103 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-26 14:16:21.269 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 14:16:21.294 +01:00 [DBG] Attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' ...
2025-08-26 14:16:21.303 +01:00 [DBG] Attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' using the name '' in request data ...
2025-08-26 14:16:21.312 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-26 14:16:21.329 +01:00 [DBG] Connection id "0HNF4KAVN1LB9", Request id "0HNF4KAVN1LB9:00000001": started reading request body.
2025-08-26 14:16:21.332 +01:00 [DBG] Connection id "0HNF4KAVN1LB9", Request id "0HNF4KAVN1LB9:00000001": done reading request body.
2025-08-26 14:16:21.348 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'
2025-08-26 14:16:21.351 +01:00 [DBG] Done attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-08-26 14:16:21.353 +01:00 [DBG] Done attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-08-26 14:16:21.359 +01:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' ...
2025-08-26 14:16:21.383 +01:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-08-26 14:16:22.312 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 14:16:22.383 +01:00 [DBG] 'CMSDbContext' generated a temporary value for the property 'Department.DeptId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 14:16:22.483 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 14:16:22.497 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-08-26 14:16:22.507 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-08-26 14:16:22.526 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-08-26 14:16:22.701 +01:00 [DBG] Creating DbConnection.
2025-08-26 14:16:22.735 +01:00 [DBG] Created DbConnection. (32ms).
2025-08-26 14:16:22.742 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:16:23.039 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:16:23.054 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 14:16:23.064 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-08-26 14:16:23.081 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (28ms).
2025-08-26 14:16:23.097 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Departments] ([CreatedAt], [DeptName], [UpdatedAt])
OUTPUT INSERTED.[DeptId]
VALUES (@p0, @p1, @p2);
2025-08-26 14:16:23.194 +01:00 [INF] Executed DbCommand (94ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Departments] ([CreatedAt], [DeptName], [UpdatedAt])
OUTPUT INSERTED.[DeptId]
VALUES (@p0, @p1, @p2);
2025-08-26 14:16:23.235 +01:00 [DBG] The foreign key property 'Department.DeptId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-26 14:16:23.257 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:16:23.272 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 63ms reading results.
2025-08-26 14:16:23.281 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:16:23.293 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (12ms).
2025-08-26 14:16:23.315 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 14:16:23.323 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 1 entities written to the database.
2025-08-26 14:16:23.348 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 14:16:23.358 +01:00 [DBG] No information found on request to perform content negotiation.
2025-08-26 14:16:23.360 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-26 14:16:23.362 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-26 14:16:23.366 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-26 14:16:23.372 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'CMSApi.Application.DTO.DeptDto.ResponseDto'.
2025-08-26 14:16:23.399 +01:00 [DBG] Found the endpoints ["CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)"] for address (name=[Hacker],action=[GetDepartments],controller=[Dept])
2025-08-26 14:16:23.411 +01:00 [DBG] Successfully processed template api/Dept for CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi) resulting in /api/Dept and ?name=Hacker
2025-08-26 14:16:23.417 +01:00 [DBG] Link generation succeeded for endpoints ["CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)"] with result /api/Dept?name=Hacker
2025-08-26 14:16:23.434 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi) in 2564.8702ms
2025-08-26 14:16:23.442 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-08-26 14:16:23.456 +01:00 [DBG] 'CMSDbContext' disposed.
2025-08-26 14:16:23.464 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 14:16:23.470 +01:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-26 14:16:23.474 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7258/api/Dept - 201 null application/json; charset=utf-8 2894.5831ms
2025-08-26 14:21:59.353 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee - null null
2025-08-26 14:21:59.364 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-08-26 14:21:59.366 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-08-26 14:21:59.369 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-08-26 14:21:59.373 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 14:21:59.377 +01:00 [DBG] Policy authentication schemes  did not succeed
2025-08-26 14:21:59.381 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-26 14:21:59.390 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-26 14:21:59.392 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee - 401 0 null 39.4235ms
2025-08-26 15:34:10.374 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-26 15:34:10.479 +01:00 [DBG] Hosting starting
2025-08-26 15:34:10.515 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-26 15:34:10.525 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-08-26 15:34:10.539 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-08-26 15:34:10.551 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-08-26 15:34:10.557 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 15:34:10.561 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-26 15:34:10.563 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 15:34:10.569 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-26 15:34:10.571 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-26 15:34:10.574 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-08-26 15:34:10.575 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-08-26 15:34:10.582 +01:00 [DBG] Middleware loaded
2025-08-26 15:34:10.586 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-08-26 15:34:10.587 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-26 15:34:10.677 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-26 15:34:10.681 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-26 15:34:10.693 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-26 15:34:10.797 +01:00 [INF] Now listening on: https://localhost:7258
2025-08-26 15:34:10.801 +01:00 [INF] Now listening on: http://localhost:5191
2025-08-26 15:34:10.804 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-08-26 15:34:10.805 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-26 15:34:10.807 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-26 15:34:10.808 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-26 15:34:10.815 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 15:34:10.817 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 15:34:10.867 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-26 15:34:10.870 +01:00 [INF] Hosting environment: Development
2025-08-26 15:34:10.872 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-08-26 15:34:10.873 +01:00 [DBG] Hosting started
2025-08-26 15:34:21.615 +01:00 [DBG] Connection id "0HNF4LMIQEFH4" accepted.
2025-08-26 15:34:21.619 +01:00 [DBG] Connection id "0HNF4LMIQEFH4" started.
2025-08-26 15:34:21.670 +01:00 [DBG] Connection 0HNF4LMIQEFH4 established using the following protocol: "Tls13"
2025-08-26 15:34:21.764 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-08-26 15:34:21.889 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-26 15:34:21.892 +01:00 [DBG] Request did not match any endpoints
2025-08-26 15:34:21.950 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-26 15:34:21.956 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-26 15:34:21.964 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-26 15:34:21.967 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-26 15:34:21.977 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 216.8573ms
2025-08-26 15:34:21.984 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-08-26 15:34:21.984 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-08-26 15:34:22.040 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-08-26 15:34:22.043 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 58.3064ms
2025-08-26 15:34:22.063 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 78.7998ms
2025-08-26 15:34:22.174 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-08-26 15:34:22.180 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-26 15:34:22.182 +01:00 [DBG] Request did not match any endpoints
2025-08-26 15:34:22.207 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 33.266ms
2025-08-26 15:34:58.948 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7258/api/Dept - application/json 79
2025-08-26 15:34:58.966 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept'
2025-08-26 15:34:58.968 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)' with route pattern 'api/Dept' is valid for the request path '/api/Dept'
2025-08-26 15:34:58.970 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-08-26 15:34:58.983 +01:00 [INF] No CORS policy found for the specified request.
2025-08-26 15:34:59.055 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 15:34:59.060 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-08-26 15:34:59.084 +01:00 [INF] Route matched with {action = "CreateDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateDepartment(CMSApi.Application.DTO.DeptDto.CreateDeptDto) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 15:34:59.089 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 15:34:59.092 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 15:34:59.094 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 15:34:59.099 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 15:34:59.101 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 15:34:59.105 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 15:34:59.225 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-26 15:34:59.331 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 15:34:59.348 +01:00 [DBG] Attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' ...
2025-08-26 15:34:59.353 +01:00 [DBG] Attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' using the name '' in request data ...
2025-08-26 15:34:59.357 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-26 15:34:59.367 +01:00 [DBG] Connection id "0HNF4LMIQEFH4", Request id "0HNF4LMIQEFH4:00000009": started reading request body.
2025-08-26 15:34:59.371 +01:00 [DBG] Connection id "0HNF4LMIQEFH4", Request id "0HNF4LMIQEFH4:00000009": done reading request body.
2025-08-26 15:34:59.379 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'
2025-08-26 15:34:59.383 +01:00 [DBG] Done attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-08-26 15:34:59.385 +01:00 [DBG] Done attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-08-26 15:34:59.387 +01:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' ...
2025-08-26 15:34:59.396 +01:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-08-26 15:35:00.002 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 15:35:00.066 +01:00 [DBG] 'CMSDbContext' generated a temporary value for the property 'Department.DeptId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 15:35:00.129 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 15:35:00.140 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-08-26 15:35:00.146 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-08-26 15:35:00.159 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-08-26 15:35:00.299 +01:00 [DBG] Creating DbConnection.
2025-08-26 15:35:00.334 +01:00 [DBG] Created DbConnection. (28ms).
2025-08-26 15:35:00.339 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:35:00.594 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:35:00.606 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 15:35:00.615 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-08-26 15:35:00.625 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2025-08-26 15:35:00.637 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Departments] ([CreatedAt], [DeptName], [UpdatedAt])
OUTPUT INSERTED.[DeptId]
VALUES (@p0, @p1, @p2);
2025-08-26 15:35:00.712 +01:00 [INF] Executed DbCommand (76ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Departments] ([CreatedAt], [DeptName], [UpdatedAt])
OUTPUT INSERTED.[DeptId]
VALUES (@p0, @p1, @p2);
2025-08-26 15:35:00.734 +01:00 [DBG] The foreign key property 'Department.DeptId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-26 15:35:00.748 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:35:00.757 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 35ms reading results.
2025-08-26 15:35:00.764 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:35:00.772 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (7ms).
2025-08-26 15:35:00.788 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 15:35:00.795 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 1 entities written to the database.
2025-08-26 15:35:00.808 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 15:35:00.815 +01:00 [DBG] No information found on request to perform content negotiation.
2025-08-26 15:35:00.817 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-26 15:35:00.819 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-26 15:35:00.820 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-26 15:35:00.822 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'CMSApi.Application.DTO.DeptDto.ResponseDto'.
2025-08-26 15:35:00.839 +01:00 [DBG] Found the endpoints ["CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)"] for address (name=[Scooby-Doo],action=[GetDepartments],controller=[Dept])
2025-08-26 15:35:00.846 +01:00 [DBG] Successfully processed template api/Dept for CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi) resulting in /api/Dept and ?name=Scooby-Doo
2025-08-26 15:35:00.850 +01:00 [DBG] Link generation succeeded for endpoints ["CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)"] with result /api/Dept?name=Scooby-Doo
2025-08-26 15:35:00.857 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi) in 1751.4761ms
2025-08-26 15:35:00.859 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-08-26 15:35:00.867 +01:00 [DBG] 'CMSDbContext' disposed.
2025-08-26 15:35:00.872 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:35:00.880 +01:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-26 15:35:00.884 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7258/api/Dept - 201 null application/json; charset=utf-8 1935.8484ms
2025-08-26 15:35:59.230 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7258/api/Dept/4 - application/json 75
2025-08-26 15:35:59.277 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept/4'
2025-08-26 15:35:59.279 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)' with route pattern 'api/Dept/{id}' is valid for the request path '/api/Dept/4'
2025-08-26 15:35:59.283 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 15:35:59.285 +01:00 [INF] No CORS policy found for the specified request.
2025-08-26 15:35:59.286 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 15:35:59.288 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 15:35:59.297 +01:00 [INF] Route matched with {action = "UpdateDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.DeptDto.DepartmentResponseDto]] UpdateDepartment(Int32, CMSApi.Application.DTO.DeptDto.UpdateDept) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 15:35:59.303 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 15:35:59.305 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 15:35:59.307 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 15:35:59.310 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 15:35:59.313 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 15:35:59.318 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 15:35:59.320 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 15:35:59.323 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-26 15:35:59.325 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-26 15:35:59.330 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 15:35:59.334 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 15:35:59.336 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-26 15:35:59.338 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-26 15:35:59.341 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-08-26 15:35:59.343 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' using the name '' in request data ...
2025-08-26 15:35:59.349 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-26 15:35:59.357 +01:00 [DBG] Connection id "0HNF4LMIQEFH4", Request id "0HNF4LMIQEFH4:0000000B": started reading request body.
2025-08-26 15:35:59.360 +01:00 [DBG] Connection id "0HNF4LMIQEFH4", Request id "0HNF4LMIQEFH4:0000000B": done reading request body.
2025-08-26 15:35:59.366 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.DeptDto.UpdateDept'
2025-08-26 15:35:59.369 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 15:35:59.372 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 15:35:59.375 +01:00 [DBG] Attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-08-26 15:35:59.383 +01:00 [DBG] Done attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 15:35:59.465 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 15:35:59.574 +01:00 [DBG] Compiling query expression: 
'DbSet<Department>()
    .FirstOrDefault(e => EF.Property<int>(e, "DeptId") == __p_0)'
2025-08-26 15:35:59.861 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Department>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Department>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.DeptId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
            SELECT TOP(1) d.DeptId, d.CreatedAt, d.DeptName, d.UpdatedAt
            FROM Departments AS d
            WHERE d.DeptId == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.DeptId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
            SELECT TOP(1) d.DeptId, d.CreatedAt, d.DeptName, d.UpdatedAt
            FROM Departments AS d
            WHERE d.DeptId == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Department entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Department instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Department);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Department.DeptId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Department)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]: 
                            {
                                return 
                                {
                                    Department instance;
                                    instance = new Department();
                                    instance.<DeptId>k__BackingField = dataReader.GetInt32(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<DeptName>k__BackingField = dataReader.GetString(2);
                                    instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(3);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Department)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-26 15:35:59.908 +01:00 [DBG] Creating DbConnection.
2025-08-26 15:35:59.911 +01:00 [DBG] Created DbConnection. (2ms).
2025-08-26 15:35:59.915 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:35:59.920 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:35:59.923 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 15:35:59.925 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-26 15:35:59.927 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-26 15:35:59.931 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 15:35:59.951 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 15:35:59.969 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 15:35:59.975 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:35:59.980 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 23ms reading results.
2025-08-26 15:35:59.985 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:35:59.988 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (3ms).
2025-08-26 15:35:59.993 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 15:35:59.998 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-08-26 15:36:00.000 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-08-26 15:36:00.003 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-08-26 15:36:00.011 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:36:00.020 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:36:00.025 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 15:36:00.027 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-26 15:36:00.033 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-08-26 15:36:00.036 +01:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Departments] SET [CreatedAt] = @p0, [DeptName] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [DeptId] = @p3;
2025-08-26 15:36:00.047 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Departments] SET [CreatedAt] = @p0, [DeptName] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [DeptId] = @p3;
2025-08-26 15:36:00.054 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:36:00.057 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-08-26 15:36:00.061 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:36:00.065 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (4ms).
2025-08-26 15:36:00.069 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 15:36:00.072 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 1 entities written to the database.
2025-08-26 15:36:00.077 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 15:36:00.085 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-08-26 15:36:00.090 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-08-26 15:36:00.093 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-26 15:36:00.097 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-26 15:36:00.100 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-26 15:36:00.102 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.DeptDto.DepartmentResponseDto'.
2025-08-26 15:36:00.106 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi) in 788.5057ms
2025-08-26 15:36:00.109 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 15:36:00.112 +01:00 [DBG] 'CMSDbContext' disposed.
2025-08-26 15:36:00.116 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:36:00.119 +01:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-26 15:36:00.121 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7258/api/Dept/4 - 200 null application/json; charset=utf-8 891.3696ms
2025-08-26 15:36:17.582 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7258/api/Dept/4 - application/json 77
2025-08-26 15:36:17.588 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept/4'
2025-08-26 15:36:17.591 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)' with route pattern 'api/Dept/{id}' is valid for the request path '/api/Dept/4'
2025-08-26 15:36:17.594 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 15:36:17.596 +01:00 [INF] No CORS policy found for the specified request.
2025-08-26 15:36:17.600 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 15:36:17.602 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 15:36:17.604 +01:00 [INF] Route matched with {action = "UpdateDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.DeptDto.DepartmentResponseDto]] UpdateDepartment(Int32, CMSApi.Application.DTO.DeptDto.UpdateDept) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 15:36:17.608 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 15:36:17.611 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 15:36:17.614 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 15:36:17.617 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 15:36:17.619 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 15:36:17.621 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 15:36:17.631 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 15:36:17.633 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-26 15:36:17.635 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-26 15:36:17.637 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 15:36:17.640 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 15:36:17.643 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-26 15:36:17.647 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-26 15:36:17.649 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-08-26 15:36:17.651 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' using the name '' in request data ...
2025-08-26 15:36:17.654 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-26 15:36:17.656 +01:00 [DBG] Connection id "0HNF4LMIQEFH4", Request id "0HNF4LMIQEFH4:0000000D": started reading request body.
2025-08-26 15:36:17.659 +01:00 [DBG] Connection id "0HNF4LMIQEFH4", Request id "0HNF4LMIQEFH4:0000000D": done reading request body.
2025-08-26 15:36:17.662 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.DeptDto.UpdateDept'
2025-08-26 15:36:17.664 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 15:36:17.666 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 15:36:17.669 +01:00 [DBG] Attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-08-26 15:36:17.671 +01:00 [DBG] Done attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 15:36:17.689 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 15:36:17.702 +01:00 [DBG] Creating DbConnection.
2025-08-26 15:36:17.704 +01:00 [DBG] Created DbConnection. (2ms).
2025-08-26 15:36:17.708 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:36:17.713 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:36:17.717 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 15:36:17.718 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-26 15:36:17.720 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-26 15:36:17.723 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 15:36:17.729 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 15:36:17.732 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 15:36:17.734 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:36:17.736 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-08-26 15:36:17.739 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:36:17.742 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (2ms).
2025-08-26 15:36:17.747 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 15:36:17.750 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-08-26 15:36:17.751 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-08-26 15:36:17.753 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-08-26 15:36:17.755 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:36:17.758 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:36:17.762 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 15:36:17.764 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-26 15:36:17.766 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-26 15:36:17.768 +01:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Departments] SET [CreatedAt] = @p0, [DeptName] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [DeptId] = @p3;
2025-08-26 15:36:17.772 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Departments] SET [CreatedAt] = @p0, [DeptName] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [DeptId] = @p3;
2025-08-26 15:36:17.777 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:36:17.780 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-26 15:36:17.783 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:36:17.785 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (2ms).
2025-08-26 15:36:17.788 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 15:36:17.791 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 1 entities written to the database.
2025-08-26 15:36:17.796 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 15:36:17.799 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-08-26 15:36:17.801 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-08-26 15:36:17.804 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-26 15:36:17.805 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-26 15:36:17.806 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-26 15:36:17.809 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.DeptDto.DepartmentResponseDto'.
2025-08-26 15:36:17.813 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi) in 191.8648ms
2025-08-26 15:36:17.815 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 15:36:17.817 +01:00 [DBG] 'CMSDbContext' disposed.
2025-08-26 15:36:17.819 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:36:17.820 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-26 15:36:17.822 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7258/api/Dept/4 - 200 null application/json; charset=utf-8 239.9653ms
2025-08-26 15:37:06.547 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7258/api/Dept/4 - application/json 79
2025-08-26 15:37:06.565 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept/4'
2025-08-26 15:37:06.568 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)' with route pattern 'api/Dept/{id}' is valid for the request path '/api/Dept/4'
2025-08-26 15:37:06.571 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 15:37:06.575 +01:00 [INF] No CORS policy found for the specified request.
2025-08-26 15:37:06.577 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 15:37:06.580 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 15:37:06.582 +01:00 [INF] Route matched with {action = "UpdateDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.DeptDto.DepartmentResponseDto]] UpdateDepartment(Int32, CMSApi.Application.DTO.DeptDto.UpdateDept) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 15:37:06.586 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 15:37:06.592 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 15:37:06.596 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 15:37:06.599 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 15:37:06.603 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 15:37:06.607 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 15:37:06.611 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 15:37:06.614 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-26 15:37:06.616 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-26 15:37:06.619 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 15:37:06.621 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 15:37:06.625 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-26 15:37:06.628 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-26 15:37:06.631 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-08-26 15:37:06.633 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' using the name '' in request data ...
2025-08-26 15:37:06.637 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-26 15:37:06.642 +01:00 [DBG] Connection id "0HNF4LMIQEFH4", Request id "0HNF4LMIQEFH4:0000000F": started reading request body.
2025-08-26 15:37:06.644 +01:00 [DBG] Connection id "0HNF4LMIQEFH4", Request id "0HNF4LMIQEFH4:0000000F": done reading request body.
2025-08-26 15:37:06.646 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.DeptDto.UpdateDept'
2025-08-26 15:37:06.648 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 15:37:06.650 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 15:37:06.652 +01:00 [DBG] Attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-08-26 15:37:06.655 +01:00 [DBG] Done attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 15:37:06.660 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 15:37:06.664 +01:00 [DBG] Creating DbConnection.
2025-08-26 15:37:06.665 +01:00 [DBG] Created DbConnection. (1ms).
2025-08-26 15:37:06.667 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:37:06.669 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:37:06.672 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 15:37:06.676 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-26 15:37:06.679 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-08-26 15:37:06.681 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 15:37:06.694 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 15:37:06.700 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 15:37:06.702 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:37:06.705 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-08-26 15:37:06.710 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:37:06.712 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (2ms).
2025-08-26 15:37:06.714 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 15:37:06.717 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-08-26 15:37:06.719 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-08-26 15:37:06.722 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-08-26 15:37:06.726 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:37:06.728 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:37:06.731 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 15:37:06.733 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-26 15:37:06.736 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-26 15:37:06.743 +01:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Departments] SET [CreatedAt] = @p0, [DeptName] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [DeptId] = @p3;
2025-08-26 15:37:06.752 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Departments] SET [CreatedAt] = @p0, [DeptName] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [DeptId] = @p3;
2025-08-26 15:37:06.759 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:37:06.763 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-08-26 15:37:06.767 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:37:06.769 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (2ms).
2025-08-26 15:37:06.773 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 15:37:06.777 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 1 entities written to the database.
2025-08-26 15:37:06.779 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 15:37:06.783 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-08-26 15:37:06.785 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-08-26 15:37:06.788 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-26 15:37:06.790 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-26 15:37:06.792 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-26 15:37:06.794 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.DeptDto.DepartmentResponseDto'.
2025-08-26 15:37:06.796 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi) in 189.5069ms
2025-08-26 15:37:06.799 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 15:37:06.800 +01:00 [DBG] 'CMSDbContext' disposed.
2025-08-26 15:37:06.802 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:37:06.804 +01:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-26 15:37:06.808 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7258/api/Dept/4 - 200 null application/json; charset=utf-8 261.0305ms
2025-08-26 15:37:39.452 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7258/api/Dept/4 - application/json 78
2025-08-26 15:37:39.466 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept/4'
2025-08-26 15:37:39.469 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)' with route pattern 'api/Dept/{id}' is valid for the request path '/api/Dept/4'
2025-08-26 15:37:39.472 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 15:37:39.474 +01:00 [INF] No CORS policy found for the specified request.
2025-08-26 15:37:39.476 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 15:37:39.478 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 15:37:39.479 +01:00 [INF] Route matched with {action = "UpdateDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.DeptDto.DepartmentResponseDto]] UpdateDepartment(Int32, CMSApi.Application.DTO.DeptDto.UpdateDept) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 15:37:39.482 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 15:37:39.485 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 15:37:39.489 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 15:37:39.493 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 15:37:39.495 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 15:37:39.498 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 15:37:39.501 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 15:37:39.506 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-26 15:37:39.509 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-26 15:37:39.512 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 15:37:39.514 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 15:37:39.517 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-26 15:37:39.521 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-26 15:37:39.524 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-08-26 15:37:39.526 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' using the name '' in request data ...
2025-08-26 15:37:39.529 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-26 15:37:39.531 +01:00 [DBG] Connection id "0HNF4LMIQEFH4", Request id "0HNF4LMIQEFH4:00000011": started reading request body.
2025-08-26 15:37:39.533 +01:00 [DBG] Connection id "0HNF4LMIQEFH4", Request id "0HNF4LMIQEFH4:00000011": done reading request body.
2025-08-26 15:37:39.536 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.DeptDto.UpdateDept'
2025-08-26 15:37:39.539 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 15:37:39.541 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 15:37:39.543 +01:00 [DBG] Attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-08-26 15:37:39.545 +01:00 [DBG] Done attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 15:37:39.548 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 15:37:39.554 +01:00 [DBG] Creating DbConnection.
2025-08-26 15:37:39.557 +01:00 [DBG] Created DbConnection. (2ms).
2025-08-26 15:37:39.558 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:37:39.561 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:37:39.563 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 15:37:39.565 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-26 15:37:39.567 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-26 15:37:39.572 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 15:37:39.577 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 15:37:39.581 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 15:37:39.583 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:37:39.586 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-08-26 15:37:39.591 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:37:39.593 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (2ms).
2025-08-26 15:37:39.595 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 15:37:39.599 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-08-26 15:37:39.601 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-08-26 15:37:39.603 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-08-26 15:37:39.607 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:37:39.610 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:37:39.612 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 15:37:39.614 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-26 15:37:39.616 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-26 15:37:39.619 +01:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Departments] SET [CreatedAt] = @p0, [DeptName] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [DeptId] = @p3;
2025-08-26 15:37:39.628 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Departments] SET [CreatedAt] = @p0, [DeptName] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [DeptId] = @p3;
2025-08-26 15:37:39.633 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:37:39.635 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-26 15:37:39.641 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:37:39.644 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (2ms).
2025-08-26 15:37:39.647 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 15:37:39.651 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 1 entities written to the database.
2025-08-26 15:37:39.656 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 15:37:39.662 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-08-26 15:37:39.666 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-08-26 15:37:39.673 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-26 15:37:39.675 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-26 15:37:39.677 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-26 15:37:39.680 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.DeptDto.DepartmentResponseDto'.
2025-08-26 15:37:39.683 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi) in 185.4409ms
2025-08-26 15:37:39.688 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 15:37:39.691 +01:00 [DBG] 'CMSDbContext' disposed.
2025-08-26 15:37:39.693 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:37:39.696 +01:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-26 15:37:39.698 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7258/api/Dept/4 - 200 null application/json; charset=utf-8 246.2993ms
2025-08-26 15:38:04.878 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7258/api/Dept/5 - application/json 77
2025-08-26 15:38:04.893 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept/5'
2025-08-26 15:38:04.896 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)' with route pattern 'api/Dept/{id}' is valid for the request path '/api/Dept/5'
2025-08-26 15:38:04.899 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 15:38:04.901 +01:00 [INF] No CORS policy found for the specified request.
2025-08-26 15:38:04.902 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 15:38:04.903 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 15:38:04.905 +01:00 [INF] Route matched with {action = "UpdateDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.DeptDto.DepartmentResponseDto]] UpdateDepartment(Int32, CMSApi.Application.DTO.DeptDto.UpdateDept) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 15:38:04.908 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 15:38:04.912 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 15:38:04.914 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 15:38:04.917 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 15:38:04.919 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 15:38:04.921 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 15:38:04.924 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 15:38:04.928 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-26 15:38:04.931 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-26 15:38:04.933 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 15:38:04.935 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 15:38:04.937 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-26 15:38:04.940 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-26 15:38:04.943 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-08-26 15:38:04.946 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' using the name '' in request data ...
2025-08-26 15:38:04.948 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-26 15:38:04.950 +01:00 [DBG] Connection id "0HNF4LMIQEFH4", Request id "0HNF4LMIQEFH4:00000013": started reading request body.
2025-08-26 15:38:04.952 +01:00 [DBG] Connection id "0HNF4LMIQEFH4", Request id "0HNF4LMIQEFH4:00000013": done reading request body.
2025-08-26 15:38:04.954 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.DeptDto.UpdateDept'
2025-08-26 15:38:04.956 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 15:38:04.959 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 15:38:04.962 +01:00 [DBG] Attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-08-26 15:38:04.965 +01:00 [DBG] Done attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-08-26 15:38:04.968 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 15:38:04.973 +01:00 [DBG] Creating DbConnection.
2025-08-26 15:38:04.974 +01:00 [DBG] Created DbConnection. (1ms).
2025-08-26 15:38:04.977 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:38:04.979 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:38:04.981 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 15:38:04.983 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-26 15:38:04.985 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-26 15:38:04.987 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 15:38:05.002 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 15:38:05.005 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 15:38:05.008 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:38:05.012 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-08-26 15:38:05.015 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:38:05.018 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (2ms).
2025-08-26 15:38:05.020 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 15:38:05.024 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-08-26 15:38:05.027 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-08-26 15:38:05.030 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-08-26 15:38:05.032 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:38:05.034 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:38:05.036 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 15:38:05.038 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-26 15:38:05.040 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-26 15:38:05.045 +01:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Departments] SET [CreatedAt] = @p0, [DeptName] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [DeptId] = @p3;
2025-08-26 15:38:05.053 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Departments] SET [CreatedAt] = @p0, [DeptName] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [DeptId] = @p3;
2025-08-26 15:38:05.059 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:38:05.064 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-08-26 15:38:05.068 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:38:05.072 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (3ms).
2025-08-26 15:38:05.075 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 15:38:05.080 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 1 entities written to the database.
2025-08-26 15:38:05.082 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 15:38:05.086 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-08-26 15:38:05.088 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-08-26 15:38:05.090 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-26 15:38:05.092 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-26 15:38:05.095 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-26 15:38:05.097 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.DeptDto.DepartmentResponseDto'.
2025-08-26 15:38:05.099 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi) in 177.6434ms
2025-08-26 15:38:05.101 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-08-26 15:38:05.103 +01:00 [DBG] 'CMSDbContext' disposed.
2025-08-26 15:38:05.105 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:38:05.108 +01:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-26 15:38:05.111 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7258/api/Dept/5 - 200 null application/json; charset=utf-8 233.8169ms
2025-08-26 15:38:43.113 +01:00 [INF] Request starting HTTP/2 DELETE https://localhost:7258/api/Dept/6 - null null
2025-08-26 15:38:43.135 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept/6'
2025-08-26 15:38:43.138 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.DeleteDepartment (CMSApi)' with route pattern 'api/Dept/{id}' is valid for the request path '/api/Dept/6'
2025-08-26 15:38:43.140 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.DeleteDepartment (CMSApi)'
2025-08-26 15:38:43.142 +01:00 [INF] No CORS policy found for the specified request.
2025-08-26 15:38:43.143 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 15:38:43.144 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.DeleteDepartment (CMSApi)'
2025-08-26 15:38:43.151 +01:00 [INF] Route matched with {action = "DeleteDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.DeptDto.DepartmentResponseDto]] DeleteDepartment(Int32) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 15:38:43.155 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 15:38:43.158 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 15:38:43.160 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 15:38:43.163 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 15:38:43.166 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 15:38:43.171 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 15:38:43.174 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 15:38:43.176 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-26 15:38:43.179 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-26 15:38:43.182 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 15:38:43.185 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 15:38:43.188 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-26 15:38:43.190 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-26 15:38:43.196 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 15:38:43.202 +01:00 [DBG] Creating DbConnection.
2025-08-26 15:38:43.204 +01:00 [DBG] Created DbConnection. (2ms).
2025-08-26 15:38:43.206 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:38:43.208 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:38:43.210 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 15:38:43.212 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-26 15:38:43.214 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-26 15:38:43.217 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 15:38:43.221 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 15:38:43.225 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 15:38:43.227 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:38:43.233 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 8ms reading results.
2025-08-26 15:38:43.239 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:38:43.241 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (1ms).
2025-08-26 15:38:43.243 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 15:38:43.247 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-08-26 15:38:43.250 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-08-26 15:38:43.253 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-26 15:38:43.255 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-26 15:38:43.256 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-26 15:38:43.258 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.DeptDto.DepartmentResponseDto'.
2025-08-26 15:38:43.261 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.DeleteDepartment (CMSApi) in 89.7128ms
2025-08-26 15:38:43.263 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.DeleteDepartment (CMSApi)'
2025-08-26 15:38:43.265 +01:00 [DBG] 'CMSDbContext' disposed.
2025-08-26 15:38:43.270 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:38:43.273 +01:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-26 15:38:43.276 +01:00 [INF] Request finished HTTP/2 DELETE https://localhost:7258/api/Dept/6 - 200 null application/json; charset=utf-8 162.7639ms
2025-08-26 15:40:03.931 +01:00 [INF] Request starting HTTP/2 DELETE https://localhost:7258/api/Dept/6 - null null
2025-08-26 15:40:03.937 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept/6'
2025-08-26 15:40:03.938 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.DeleteDepartment (CMSApi)' with route pattern 'api/Dept/{id}' is valid for the request path '/api/Dept/6'
2025-08-26 15:40:03.940 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.DeleteDepartment (CMSApi)'
2025-08-26 15:40:03.941 +01:00 [INF] No CORS policy found for the specified request.
2025-08-26 15:40:03.942 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 15:40:03.944 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.DeleteDepartment (CMSApi)'
2025-08-26 15:40:03.948 +01:00 [INF] Route matched with {action = "DeleteDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.DeptDto.DepartmentResponseDto]] DeleteDepartment(Int32) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 15:40:03.951 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 15:40:03.952 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 15:40:03.954 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 15:40:03.956 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 15:40:03.958 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 15:40:03.960 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 15:40:03.962 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 15:40:03.964 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-26 15:40:03.966 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-26 15:40:03.968 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 15:40:03.969 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 15:40:03.971 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-26 15:40:03.972 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-26 15:40:03.974 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 15:40:03.977 +01:00 [DBG] Creating DbConnection.
2025-08-26 15:40:03.978 +01:00 [DBG] Created DbConnection. (1ms).
2025-08-26 15:40:03.981 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:40:03.983 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:40:03.985 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 15:40:03.986 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-26 15:40:03.987 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-26 15:40:03.989 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 15:40:03.992 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 15:40:03.995 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 15:40:03.998 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:40:04.000 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-08-26 15:40:04.002 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:40:04.003 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (1ms).
2025-08-26 15:40:04.005 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 15:40:04.008 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-08-26 15:40:04.009 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-08-26 15:40:04.011 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-26 15:40:04.014 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-26 15:40:04.016 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-26 15:40:04.017 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.DeptDto.DepartmentResponseDto'.
2025-08-26 15:40:04.019 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.DeleteDepartment (CMSApi) in 59.0254ms
2025-08-26 15:40:04.026 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.DeleteDepartment (CMSApi)'
2025-08-26 15:40:04.027 +01:00 [DBG] 'CMSDbContext' disposed.
2025-08-26 15:40:04.030 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:40:04.039 +01:00 [DBG] Disposed connection to database '' on server '' (8ms).
2025-08-26 15:40:04.041 +01:00 [INF] Request finished HTTP/2 DELETE https://localhost:7258/api/Dept/6 - 200 null application/json; charset=utf-8 137.9404ms
2025-08-26 15:40:32.059 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-08-26 15:40:32.077 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-26 15:40:32.079 +01:00 [DBG] Request did not match any endpoints
2025-08-26 15:40:32.082 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-26 15:40:32.084 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-26 15:40:32.086 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-26 15:40:32.086 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-26 15:40:32.087 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 29.1279ms
2025-08-26 15:40:32.101 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-08-26 15:40:32.101 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-08-26 15:40:32.139 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-08-26 15:40:32.148 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 47.6039ms
2025-08-26 15:40:32.161 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.2184ms
2025-08-26 15:40:32.287 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-08-26 15:40:32.296 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-26 15:40:32.298 +01:00 [DBG] Request did not match any endpoints
2025-08-26 15:40:32.310 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 22.2002ms
2025-08-26 15:40:43.338 +01:00 [INF] Request starting HTTP/2 DELETE https://localhost:7258/api/Dept/6 - null null
2025-08-26 15:40:43.345 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept/6'
2025-08-26 15:40:43.347 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.DeleteDepartment (CMSApi)' with route pattern 'api/Dept/{id}' is valid for the request path '/api/Dept/6'
2025-08-26 15:40:43.350 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.DeleteDepartment (CMSApi)'
2025-08-26 15:40:43.353 +01:00 [INF] No CORS policy found for the specified request.
2025-08-26 15:40:43.356 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 15:40:43.361 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.DeleteDepartment (CMSApi)'
2025-08-26 15:40:43.363 +01:00 [INF] Route matched with {action = "DeleteDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.DeptDto.DepartmentResponseDto]] DeleteDepartment(Int32) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 15:40:43.365 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 15:40:43.368 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 15:40:43.371 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 15:40:43.373 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 15:40:43.375 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 15:40:43.377 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 15:40:43.378 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 15:40:43.380 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-26 15:40:43.382 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-26 15:40:43.384 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 15:40:43.386 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 15:40:43.389 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-26 15:40:43.391 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-26 15:40:43.393 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 15:40:43.396 +01:00 [DBG] Creating DbConnection.
2025-08-26 15:40:43.397 +01:00 [DBG] Created DbConnection. (0ms).
2025-08-26 15:40:43.398 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:40:43.399 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:40:43.401 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 15:40:43.404 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-26 15:40:43.406 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-26 15:40:43.408 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 15:40:43.420 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 15:40:43.424 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 15:40:43.427 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:40:43.428 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-08-26 15:40:43.431 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:40:43.433 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (1ms).
2025-08-26 15:40:43.437 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 15:40:43.441 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-08-26 15:40:43.443 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-08-26 15:40:43.445 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-26 15:40:43.446 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-26 15:40:43.447 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-26 15:40:43.449 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.DeptDto.DepartmentResponseDto'.
2025-08-26 15:40:43.451 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.DeleteDepartment (CMSApi) in 73.9956ms
2025-08-26 15:40:43.454 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.DeleteDepartment (CMSApi)'
2025-08-26 15:40:43.456 +01:00 [DBG] 'CMSDbContext' disposed.
2025-08-26 15:40:43.457 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:40:43.459 +01:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-26 15:40:43.461 +01:00 [INF] Request finished HTTP/2 DELETE https://localhost:7258/api/Dept/6 - 200 null application/json; charset=utf-8 123.4348ms
2025-08-26 15:42:17.819 +01:00 [DBG] Connection id "0HNF4LMIQEFH4" received FIN.
2025-08-26 15:42:17.922 +01:00 [DBG] Connection id "0HNF4LMIQEFH4" is closed. The last processed stream ID was 33.
2025-08-26 15:42:17.922 +01:00 [DBG] The connection queue processing loop for 0HNF4LMIQEFH4 completed.
2025-08-26 15:42:17.926 +01:00 [DBG] Connection id "0HNF4LMIQEFH4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-26 15:42:17.933 +01:00 [DBG] Connection id "0HNF4LMIQEFH4" stopped.
2025-08-26 15:43:36.136 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-26 15:43:36.295 +01:00 [DBG] Hosting starting
2025-08-26 15:43:36.335 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-26 15:43:36.349 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-08-26 15:43:36.360 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-08-26 15:43:36.374 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-08-26 15:43:36.381 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 15:43:36.385 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-26 15:43:36.387 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 15:43:36.392 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-26 15:43:36.394 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-26 15:43:36.397 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-08-26 15:43:36.399 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-08-26 15:43:36.406 +01:00 [DBG] Middleware loaded
2025-08-26 15:43:36.408 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-08-26 15:43:36.410 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-26 15:43:36.500 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-26 15:43:36.503 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-26 15:43:36.517 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-26 15:43:36.677 +01:00 [INF] Now listening on: https://localhost:7258
2025-08-26 15:43:36.681 +01:00 [INF] Now listening on: http://localhost:5191
2025-08-26 15:43:36.684 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-08-26 15:43:36.687 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-26 15:43:36.688 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-26 15:43:36.689 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-26 15:43:36.698 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 15:43:36.700 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 15:43:36.870 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-26 15:43:36.871 +01:00 [INF] Hosting environment: Development
2025-08-26 15:43:36.872 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-08-26 15:43:36.874 +01:00 [DBG] Hosting started
2025-08-26 15:43:38.572 +01:00 [DBG] Connection id "0HNF4LROPVU6F" accepted.
2025-08-26 15:43:38.576 +01:00 [DBG] Connection id "0HNF4LROPVU6F" started.
2025-08-26 15:43:38.624 +01:00 [DBG] Connection 0HNF4LROPVU6F established using the following protocol: "Tls13"
2025-08-26 15:43:38.718 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-08-26 15:43:38.824 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-26 15:43:38.829 +01:00 [DBG] Request did not match any endpoints
2025-08-26 15:43:38.886 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-26 15:43:38.889 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-26 15:43:38.899 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-26 15:43:38.901 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-26 15:43:38.906 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 198.3554ms
2025-08-26 15:43:38.916 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-08-26 15:43:38.916 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-08-26 15:43:38.938 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-08-26 15:43:38.945 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 28.7746ms
2025-08-26 15:43:38.964 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.9597ms
2025-08-26 15:43:38.991 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-08-26 15:43:38.997 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-26 15:43:38.999 +01:00 [DBG] Request did not match any endpoints
2025-08-26 15:43:39.020 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 29.4306ms
2025-08-26 15:43:51.622 +01:00 [INF] Request starting HTTP/2 DELETE https://localhost:7258/api/Dept/6 - null null
2025-08-26 15:43:51.633 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept/6'
2025-08-26 15:43:51.635 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.DeleteDepartment (CMSApi)' with route pattern 'api/Dept/{id}' is valid for the request path '/api/Dept/6'
2025-08-26 15:43:51.638 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.DeleteDepartment (CMSApi)'
2025-08-26 15:43:51.650 +01:00 [INF] No CORS policy found for the specified request.
2025-08-26 15:43:51.721 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 15:43:51.726 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.DeleteDepartment (CMSApi)'
2025-08-26 15:43:51.749 +01:00 [INF] Route matched with {action = "DeleteDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.DeptDto.DepartmentResponseDto]] DeleteDepartment(Int32) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-08-26 15:43:51.755 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-26 15:43:51.758 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-26 15:43:51.760 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-26 15:43:51.763 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-26 15:43:51.767 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-26 15:43:51.771 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 15:43:51.875 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-26 15:43:51.975 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-08-26 15:43:51.991 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-26 15:43:51.998 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-26 15:43:52.002 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 15:43:52.003 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-26 15:43:52.005 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-26 15:43:52.008 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-26 15:43:52.618 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-26 15:43:52.734 +01:00 [DBG] Compiling query expression: 
'DbSet<Department>()
    .FirstOrDefault(e => EF.Property<int>(e, "DeptId") == __p_0)'
2025-08-26 15:43:53.045 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Department>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Department>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.DeptId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
            SELECT TOP(1) d.DeptId, d.CreatedAt, d.DeptName, d.UpdatedAt
            FROM Departments AS d
            WHERE d.DeptId == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.DeptId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
            SELECT TOP(1) d.DeptId, d.CreatedAt, d.DeptName, d.UpdatedAt
            FROM Departments AS d
            WHERE d.DeptId == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Department entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Department instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Department);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Department.DeptId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Department)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]: 
                            {
                                return 
                                {
                                    Department instance;
                                    instance = new Department();
                                    instance.<DeptId>k__BackingField = dataReader.GetInt32(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<DeptName>k__BackingField = dataReader.GetString(2);
                                    instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(3);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Department)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-26 15:43:53.095 +01:00 [DBG] Creating DbConnection.
2025-08-26 15:43:53.119 +01:00 [DBG] Created DbConnection. (22ms).
2025-08-26 15:43:53.125 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:43:53.347 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:43:53.353 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 15:43:53.362 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-08-26 15:43:53.372 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2025-08-26 15:43:53.385 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 15:43:53.448 +01:00 [INF] Executed DbCommand (66ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[DeptId] = @__p_0
2025-08-26 15:43:53.499 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 15:43:53.525 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:43:53.536 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 78ms reading results.
2025-08-26 15:43:53.542 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:43:53.551 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (9ms).
2025-08-26 15:43:53.567 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 15:43:53.581 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-08-26 15:43:53.586 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-08-26 15:43:53.603 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-08-26 15:43:53.666 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:43:53.670 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:43:53.675 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-26 15:43:53.678 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-26 15:43:53.681 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-26 15:43:53.683 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Departments]
OUTPUT 1
WHERE [DeptId] = @p0;
2025-08-26 15:43:53.694 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Departments]
OUTPUT 1
WHERE [DeptId] = @p0;
2025-08-26 15:43:53.704 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:43:53.707 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-08-26 15:43:53.711 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:43:53.713 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (2ms).
2025-08-26 15:43:53.720 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-26 15:43:53.723 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 1 entities written to the database.
2025-08-26 15:43:53.739 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-26 15:43:53.744 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-08-26 15:43:53.747 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-08-26 15:43:53.749 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-26 15:43:53.750 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-26 15:43:53.751 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-26 15:43:53.753 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.DeptDto.DepartmentResponseDto'.
2025-08-26 15:43:53.766 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.DeleteDepartment (CMSApi) in 1991.2261ms
2025-08-26 15:43:53.769 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.DeleteDepartment (CMSApi)'
2025-08-26 15:43:53.773 +01:00 [DBG] 'CMSDbContext' disposed.
2025-08-26 15:43:53.780 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-08-26 15:43:53.784 +01:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-26 15:43:53.786 +01:00 [INF] Request finished HTTP/2 DELETE https://localhost:7258/api/Dept/6 - 200 null application/json; charset=utf-8 2164.1948ms
2025-08-26 15:45:06.875 +01:00 [DBG] Connection id "0HNF4LROPVU6F" received FIN.
2025-08-26 15:45:06.927 +01:00 [DBG] Connection id "0HNF4LROPVU6F" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-26 15:45:06.929 +01:00 [DBG] Connection id "0HNF4LROPVU6F" is closed. The last processed stream ID was 9.
2025-08-26 15:45:06.942 +01:00 [DBG] The connection queue processing loop for 0HNF4LROPVU6F completed.
2025-08-26 15:45:06.953 +01:00 [DBG] Connection id "0HNF4LROPVU6F" stopped.
2025-08-26 15:46:20.625 +01:00 [DBG] Connection id "0HNF4LROPVU6G" accepted.
2025-08-26 15:46:20.642 +01:00 [DBG] Connection id "0HNF4LROPVU6G" started.
2025-08-26 15:46:20.653 +01:00 [DBG] Connection 0HNF4LROPVU6G established using the following protocol: "Tls13"
2025-08-26 15:46:20.661 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee - null null
2025-08-26 15:46:20.686 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-08-26 15:46:20.692 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-08-26 15:46:20.702 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-08-26 15:46:20.712 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 15:46:20.735 +01:00 [DBG] Policy authentication schemes  did not succeed
2025-08-26 15:46:20.746 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-26 15:46:20.763 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-26 15:46:20.769 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee - 401 0 null 108.1737ms
2025-08-26 15:47:54.458 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-26 15:47:54.586 +01:00 [DBG] Hosting starting
2025-08-26 15:47:54.629 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-26 15:47:54.644 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-08-26 15:47:54.657 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-08-26 15:47:54.671 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-08-26 15:47:54.683 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 15:47:54.688 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-26 15:47:54.692 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 15:47:54.700 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-26 15:47:54.705 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-26 15:47:54.709 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-08-26 15:47:54.711 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-08-26 15:47:54.721 +01:00 [DBG] Middleware loaded
2025-08-26 15:47:54.726 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-08-26 15:47:54.730 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-26 15:47:54.841 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-26 15:47:54.845 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-26 15:47:54.860 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-26 15:47:54.990 +01:00 [INF] Now listening on: https://localhost:7258
2025-08-26 15:47:54.994 +01:00 [INF] Now listening on: http://localhost:5191
2025-08-26 15:47:54.998 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-08-26 15:47:55.000 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-26 15:47:55.001 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-26 15:47:55.002 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-26 15:47:55.009 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 15:47:55.012 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 15:47:55.065 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-26 15:47:55.067 +01:00 [INF] Hosting environment: Development
2025-08-26 15:47:55.069 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-08-26 15:47:55.072 +01:00 [DBG] Hosting started
2025-08-26 15:50:50.646 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-26 15:50:50.795 +01:00 [DBG] Hosting starting
2025-08-26 15:50:50.838 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-26 15:50:50.859 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-08-26 15:50:50.873 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-08-26 15:50:50.890 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-08-26 15:50:50.897 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 15:50:50.901 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-26 15:50:50.906 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 15:50:50.913 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-26 15:50:50.916 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-26 15:50:50.923 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-08-26 15:50:50.929 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-08-26 15:50:50.947 +01:00 [DBG] Middleware loaded
2025-08-26 15:50:50.955 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-08-26 15:50:50.965 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-26 15:50:51.095 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-26 15:50:51.099 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-26 15:50:51.111 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-26 15:50:51.237 +01:00 [INF] Now listening on: https://localhost:7258
2025-08-26 15:50:51.240 +01:00 [INF] Now listening on: http://localhost:5191
2025-08-26 15:50:51.242 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-08-26 15:50:51.243 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-26 15:50:51.244 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-26 15:50:51.245 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-26 15:50:51.252 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 15:50:51.255 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 15:50:51.438 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-26 15:50:51.440 +01:00 [INF] Hosting environment: Development
2025-08-26 15:50:51.443 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-08-26 15:50:51.445 +01:00 [DBG] Hosting started
2025-08-26 15:51:12.276 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-26 15:51:12.447 +01:00 [DBG] Hosting starting
2025-08-26 15:51:12.487 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-26 15:51:12.500 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-08-26 15:51:12.514 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-08-26 15:51:12.528 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-08-26 15:51:12.535 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 15:51:12.540 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-26 15:51:12.544 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 15:51:12.552 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-26 15:51:12.557 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-26 15:51:12.560 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-08-26 15:51:12.563 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-08-26 15:51:12.570 +01:00 [DBG] Middleware loaded
2025-08-26 15:51:12.575 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-08-26 15:51:12.579 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-26 15:51:12.691 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-26 15:51:12.696 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-26 15:51:12.708 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-26 15:51:12.852 +01:00 [INF] Now listening on: https://localhost:7258
2025-08-26 15:51:12.855 +01:00 [INF] Now listening on: http://localhost:5191
2025-08-26 15:51:12.858 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-08-26 15:51:12.860 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-26 15:51:12.862 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-26 15:51:12.865 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-26 15:51:12.876 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 15:51:12.882 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 15:51:13.063 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-26 15:51:13.065 +01:00 [INF] Hosting environment: Development
2025-08-26 15:51:13.068 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-08-26 15:51:13.069 +01:00 [DBG] Hosting started
2025-08-26 15:51:27.608 +01:00 [DBG] Connection id "0HNF4M04J2FJF" accepted.
2025-08-26 15:51:27.614 +01:00 [DBG] Connection id "0HNF4M04J2FJF" started.
2025-08-26 15:51:27.728 +01:00 [DBG] Connection 0HNF4M04J2FJF established using the following protocol: "Tls13"
2025-08-26 15:51:27.846 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee - null null
2025-08-26 15:51:27.934 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-08-26 15:51:27.942 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-08-26 15:51:27.950 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-08-26 15:51:28.118 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-26 15:51:28.133 +01:00 [DBG] Policy authentication schemes  did not succeed
2025-08-26 15:51:28.143 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-26 15:51:28.157 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-26 15:51:28.170 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee - 401 0 null 333.9374ms
2025-08-26 15:53:24.798 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-26 15:53:24.919 +01:00 [DBG] Hosting starting
2025-08-26 15:53:24.960 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-26 15:53:24.975 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-08-26 15:53:24.988 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-08-26 15:53:25.000 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-08-26 15:53:25.008 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 15:53:25.013 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-26 15:53:25.017 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 15:53:25.024 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-26 15:53:25.029 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-26 15:53:25.032 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-08-26 15:53:25.035 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-08-26 15:53:25.042 +01:00 [DBG] Middleware loaded
2025-08-26 15:53:25.045 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-08-26 15:53:25.048 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-26 15:53:25.158 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-26 15:53:25.164 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-26 15:53:25.178 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-26 15:53:25.303 +01:00 [INF] Now listening on: https://localhost:7258
2025-08-26 15:53:25.307 +01:00 [INF] Now listening on: http://localhost:5191
2025-08-26 15:53:25.310 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-08-26 15:53:25.313 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-26 15:53:25.315 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-26 15:53:25.316 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-26 15:53:25.324 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 15:53:25.326 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 15:53:25.384 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-26 15:53:25.386 +01:00 [INF] Hosting environment: Development
2025-08-26 15:53:25.389 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-08-26 15:53:25.392 +01:00 [DBG] Hosting started
2025-08-26 16:07:12.689 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-26 16:07:12.811 +01:00 [DBG] Hosting starting
2025-08-26 16:07:12.866 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-26 16:07:12.888 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-08-26 16:07:12.903 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-08-26 16:07:12.922 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-08-26 16:07:12.929 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 16:07:12.935 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-26 16:07:12.939 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-26 16:07:12.946 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-26 16:07:12.951 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-26 16:07:12.955 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-08-26 16:07:12.958 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-08-26 16:07:12.972 +01:00 [DBG] Middleware loaded
2025-08-26 16:07:12.977 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-08-26 16:07:12.982 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-08-26 16:07:13.098 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-08-26 16:07:13.104 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-26 16:07:13.118 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-08-26 16:07:13.242 +01:00 [INF] Now listening on: https://localhost:7258
2025-08-26 16:07:13.247 +01:00 [INF] Now listening on: http://localhost:5191
2025-08-26 16:07:13.251 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-08-26 16:07:13.253 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-26 16:07:13.254 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-26 16:07:13.255 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-26 16:07:13.272 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 16:07:13.276 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-08-26 16:07:13.475 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-26 16:07:13.477 +01:00 [INF] Hosting environment: Development
2025-08-26 16:07:13.479 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-08-26 16:07:13.481 +01:00 [DBG] Hosting started
2025-08-26 16:07:32.408 +01:00 [DBG] Connection id "0HNF4M9443QRM" accepted.
2025-08-26 16:07:32.419 +01:00 [DBG] Connection id "0HNF4M9443QRM" started.
2025-08-26 16:07:32.571 +01:00 [DBG] Connection 0HNF4M9443QRM established using the following protocol: "Tls13"
2025-08-26 16:07:32.703 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-08-26 16:07:32.846 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-26 16:07:32.850 +01:00 [DBG] Request did not match any endpoints
2025-08-26 16:07:32.980 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-26 16:07:32.989 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-26 16:07:33.008 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-26 16:07:33.014 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-26 16:07:33.026 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 336.151ms
2025-08-26 16:07:33.036 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-08-26 16:07:33.038 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-08-26 16:07:33.065 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-08-26 16:07:33.068 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 30.2303ms
2025-08-26 16:07:33.088 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 52.0149ms
2025-08-26 16:07:33.273 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-08-26 16:07:33.282 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-26 16:07:33.285 +01:00 [DBG] Request did not match any endpoints
2025-08-26 16:07:33.306 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 32.9796ms
2025-08-26 16:08:28.858 +01:00 [DBG] Connection id "0HNF4M9443QRM" received FIN.
2025-08-26 16:08:28.902 +01:00 [DBG] The connection queue processing loop for 0HNF4M9443QRM completed.
2025-08-26 16:08:28.907 +01:00 [DBG] Connection id "0HNF4M9443QRM" is closed. The last processed stream ID was 7.
2025-08-26 16:08:28.915 +01:00 [DBG] Connection id "0HNF4M9443QRM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-26 16:08:28.941 +01:00 [DBG] Connection id "0HNF4M9443QRM" stopped.
2025-08-26 16:28:32.321 +01:00 [DBG] Connection id "0HNF4M9443QRN" accepted.
2025-08-26 16:28:32.353 +01:00 [DBG] Connection id "0HNF4M9443QRN" started.
2025-08-26 16:28:32.379 +01:00 [DBG] Connection 0HNF4M9443QRN established using the following protocol: "Tls13"
2025-08-26 16:28:32.396 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-08-26 16:28:32.469 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-26 16:28:32.479 +01:00 [DBG] Request did not match any endpoints
2025-08-26 16:28:32.489 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-26 16:28:32.498 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-26 16:28:32.507 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-26 16:28:32.520 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-26 16:28:32.532 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 136.6813ms
2025-08-26 16:28:32.578 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-08-26 16:28:32.580 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-08-26 16:28:32.588 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-08-26 16:28:32.608 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 29.9273ms
2025-08-26 16:28:32.621 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.8975ms
2025-08-26 16:28:32.800 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-08-26 16:28:32.807 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-26 16:28:32.812 +01:00 [DBG] Request did not match any endpoints
2025-08-26 16:28:32.833 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 32.5964ms
2025-08-26 16:35:20.873 +01:00 [DBG] Connection id "0HNF4M9443QRN" received FIN.
2025-08-26 16:35:20.891 +01:00 [DBG] Connection id "0HNF4M9443QRN" is closed. The last processed stream ID was 7.
2025-08-26 16:35:20.902 +01:00 [DBG] The connection queue processing loop for 0HNF4M9443QRN completed.
2025-08-26 16:35:20.918 +01:00 [DBG] Connection id "0HNF4M9443QRN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-26 16:35:20.945 +01:00 [DBG] Connection id "0HNF4M9443QRN" stopped.
