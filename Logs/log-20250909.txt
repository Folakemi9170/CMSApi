2025-09-09 09:00:12.503 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-09 09:00:12.615 +01:00 [DBG] Hosting starting
2025-09-09 09:00:12.648 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 09:00:12.662 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-09-09 09:00:12.670 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-09-09 09:00:12.681 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-09-09 09:00:12.687 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-09 09:00:12.690 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-09-09 09:00:12.692 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-09 09:00:12.698 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-09-09 09:00:12.701 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-09-09 09:00:12.703 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-09-09 09:00:12.705 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-09-09 09:00:12.712 +01:00 [DBG] Middleware loaded
2025-09-09 09:00:12.715 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-09-09 09:00:12.718 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-09 09:00:12.844 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-09 09:00:12.847 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-09 09:00:12.857 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-09 09:00:12.975 +01:00 [INF] Now listening on: https://localhost:7258
2025-09-09 09:00:12.978 +01:00 [INF] Now listening on: http://localhost:5191
2025-09-09 09:00:12.979 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-09-09 09:00:12.980 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-09-09 09:00:12.981 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-09 09:00:12.982 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-09-09 09:00:12.989 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-09 09:00:12.994 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-09 09:00:13.031 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-09 09:00:13.033 +01:00 [INF] Hosting environment: Development
2025-09-09 09:00:13.035 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-09-09 09:00:13.038 +01:00 [DBG] Hosting started
2025-09-09 09:00:29.206 +01:00 [DBG] Connection id "0HNFFEROMOE6E" accepted.
2025-09-09 09:00:29.211 +01:00 [DBG] Connection id "0HNFFEROMOE6E" started.
2025-09-09 09:00:29.283 +01:00 [DBG] Connection 0HNFFEROMOE6E established using the following protocol: "Tls13"
2025-09-09 09:00:29.365 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-09-09 09:00:29.535 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-09-09 09:00:29.539 +01:00 [DBG] Request did not match any endpoints
2025-09-09 09:00:29.639 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-09-09 09:00:29.644 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-09-09 09:00:29.654 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-09-09 09:00:29.657 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-09-09 09:00:29.664 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 307.87ms
2025-09-09 09:00:29.675 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-09-09 09:00:29.675 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-09-09 09:00:29.702 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-09-09 09:00:29.705 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 30.0255ms
2025-09-09 09:00:29.724 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.8476ms
2025-09-09 09:00:29.886 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-09-09 09:00:29.894 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-09-09 09:00:29.898 +01:00 [DBG] Request did not match any endpoints
2025-09-09 09:00:30.059 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 173.4704ms
2025-09-09 09:02:55.745 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-09 09:02:55.861 +01:00 [DBG] Hosting starting
2025-09-09 09:02:55.888 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 09:02:55.899 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-09-09 09:02:55.908 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-09-09 09:02:55.918 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-09-09 09:02:55.924 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-09 09:02:55.928 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-09-09 09:02:55.930 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-09 09:02:55.935 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-09-09 09:02:55.938 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-09-09 09:02:55.940 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-09-09 09:02:55.942 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-09-09 09:02:55.949 +01:00 [DBG] Middleware loaded
2025-09-09 09:02:55.952 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-09-09 09:02:55.954 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-09 09:02:56.081 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-09 09:02:56.084 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-09 09:02:56.095 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-09 09:02:56.254 +01:00 [INF] Now listening on: https://localhost:7258
2025-09-09 09:02:56.258 +01:00 [INF] Now listening on: http://localhost:5191
2025-09-09 09:02:56.260 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-09-09 09:02:56.261 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-09-09 09:02:56.262 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-09 09:02:56.263 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-09-09 09:02:56.270 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-09 09:02:56.278 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-09 09:02:56.314 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-09 09:02:56.316 +01:00 [INF] Hosting environment: Development
2025-09-09 09:02:56.317 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-09-09 09:02:56.318 +01:00 [DBG] Hosting started
2025-09-09 09:03:08.628 +01:00 [DBG] Connection id "0HNFFET8743CS" accepted.
2025-09-09 09:03:08.631 +01:00 [DBG] Connection id "0HNFFET8743CS" started.
2025-09-09 09:03:08.703 +01:00 [DBG] Connection 0HNFFET8743CS established using the following protocol: "Tls13"
2025-09-09 09:03:08.770 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-09-09 09:03:08.933 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-09-09 09:03:08.937 +01:00 [DBG] Request did not match any endpoints
2025-09-09 09:03:09.042 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-09-09 09:03:09.047 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-09-09 09:03:09.057 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-09-09 09:03:09.060 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-09-09 09:03:09.065 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 302.0047ms
2025-09-09 09:03:09.073 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-09-09 09:03:09.073 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-09-09 09:03:09.102 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-09-09 09:03:09.105 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 32.1158ms
2025-09-09 09:03:09.125 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 52.3165ms
2025-09-09 09:03:09.278 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-09-09 09:03:09.284 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-09-09 09:03:09.287 +01:00 [DBG] Request did not match any endpoints
2025-09-09 09:03:09.458 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 179.7182ms
2025-09-09 09:03:25.970 +01:00 [INF] Request starting HTTP/2 PATCH https://localhost:7258/api/Employee/2 - application/json 174
2025-09-09 09:03:25.981 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee/2'
2025-09-09 09:03:25.983 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi)' with route pattern 'api/Employee/{Id}' is valid for the request path '/api/Employee/2'
2025-09-09 09:03:25.986 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi)'
2025-09-09 09:03:26.009 +01:00 [INF] No CORS policy found for the specified request.
2025-09-09 09:03:26.132 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-09 09:03:26.142 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-09 09:03:26.147 +01:00 [DBG] Policy authentication schemes Bearer did not succeed
2025-09-09 09:03:26.156 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-09 09:03:26.164 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-09 09:03:26.168 +01:00 [INF] Request finished HTTP/2 PATCH https://localhost:7258/api/Employee/2 - 401 0 null 197.5087ms
2025-09-09 09:03:26.179 +01:00 [DBG] Connection id "0HNFFET8743CS", Request id "0HNFFET8743CS:00000009": started reading request body.
2025-09-09 09:03:26.182 +01:00 [DBG] Connection id "0HNFFET8743CS", Request id "0HNFFET8743CS:00000009": done reading request body.
2025-09-09 09:09:08.836 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-09 09:09:08.955 +01:00 [DBG] Hosting starting
2025-09-09 09:09:08.990 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 09:09:09.003 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-09-09 09:09:09.013 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-09-09 09:09:09.026 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-09-09 09:09:09.033 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-09 09:09:09.038 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-09-09 09:09:09.040 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-09 09:09:09.046 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-09-09 09:09:09.049 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-09-09 09:09:09.052 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-09-09 09:09:09.054 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-09-09 09:09:09.060 +01:00 [DBG] Middleware loaded
2025-09-09 09:09:09.064 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-09-09 09:09:09.066 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-09 09:09:09.190 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-09 09:09:09.192 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-09 09:09:09.202 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-09 09:09:09.309 +01:00 [INF] Now listening on: https://localhost:7258
2025-09-09 09:09:09.312 +01:00 [INF] Now listening on: http://localhost:5191
2025-09-09 09:09:09.314 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-09-09 09:09:09.315 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-09-09 09:09:09.316 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-09 09:09:09.317 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-09-09 09:09:09.323 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-09 09:09:09.332 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-09 09:09:09.364 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-09 09:09:09.366 +01:00 [INF] Hosting environment: Development
2025-09-09 09:09:09.367 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-09-09 09:09:09.369 +01:00 [DBG] Hosting started
2025-09-09 09:09:18.442 +01:00 [DBG] Connection id "0HNFFF0MDUA6T" accepted.
2025-09-09 09:09:18.446 +01:00 [DBG] Connection id "0HNFFF0MDUA6T" started.
2025-09-09 09:09:18.498 +01:00 [DBG] Connection 0HNFFF0MDUA6T established using the following protocol: "Tls13"
2025-09-09 09:09:18.555 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-09-09 09:09:18.674 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-09-09 09:09:18.677 +01:00 [DBG] Request did not match any endpoints
2025-09-09 09:09:18.754 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-09-09 09:09:18.759 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-09-09 09:09:18.767 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-09-09 09:09:18.771 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-09-09 09:09:18.777 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 226.9104ms
2025-09-09 09:09:18.791 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-09-09 09:09:18.791 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-09-09 09:09:18.845 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-09-09 09:09:18.848 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 56.4532ms
2025-09-09 09:09:18.871 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 79.7133ms
2025-09-09 09:09:19.006 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-09-09 09:09:19.019 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-09-09 09:09:19.021 +01:00 [DBG] Request did not match any endpoints
2025-09-09 09:09:19.152 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 146.4653ms
2025-09-09 11:08:05.306 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-09 11:08:05.455 +01:00 [DBG] Hosting starting
2025-09-09 11:08:05.568 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 11:08:05.662 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-09-09 11:08:05.697 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-09-09 11:08:05.761 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-09-09 11:08:05.777 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-09 11:08:05.788 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-09-09 11:08:05.793 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-09 11:08:05.804 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-09-09 11:08:05.807 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-09-09 11:08:05.811 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-09-09 11:08:05.813 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-09-09 11:08:05.828 +01:00 [DBG] Middleware loaded
2025-09-09 11:08:05.834 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-09-09 11:08:05.837 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-09 11:08:06.011 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-09 11:08:06.015 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-09 11:08:06.035 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-09 11:08:06.145 +01:00 [INF] Now listening on: https://localhost:7258
2025-09-09 11:08:06.150 +01:00 [INF] Now listening on: http://localhost:5191
2025-09-09 11:08:06.153 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-09-09 11:08:06.156 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-09-09 11:08:06.158 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-09 11:08:06.159 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-09-09 11:08:06.168 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-09 11:08:06.175 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-09 11:08:06.213 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-09 11:08:06.215 +01:00 [INF] Hosting environment: Development
2025-09-09 11:08:06.218 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-09-09 11:08:06.220 +01:00 [DBG] Hosting started
2025-09-09 11:08:18.344 +01:00 [DBG] Connection id "0HNFFH369BD9D" accepted.
2025-09-09 11:08:18.350 +01:00 [DBG] Connection id "0HNFFH369BD9D" started.
2025-09-09 11:08:18.482 +01:00 [DBG] Connection 0HNFFH369BD9D established using the following protocol: "Tls13"
2025-09-09 11:08:18.613 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-09-09 11:08:18.932 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-09-09 11:08:18.939 +01:00 [DBG] Request did not match any endpoints
2025-09-09 11:08:19.096 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-09-09 11:08:19.103 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-09-09 11:08:19.120 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-09-09 11:08:19.124 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-09-09 11:08:19.131 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 528.3648ms
2025-09-09 11:08:19.155 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-09-09 11:08:19.155 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-09-09 11:08:19.173 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-09-09 11:08:19.177 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 21.6837ms
2025-09-09 11:08:19.204 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.1276ms
2025-09-09 11:08:19.394 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-09-09 11:08:19.401 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-09-09 11:08:19.404 +01:00 [DBG] Request did not match any endpoints
2025-09-09 11:08:19.637 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 242.8665ms
2025-09-09 11:08:53.321 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-09-09 11:08:53.388 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-09-09 11:08:53.399 +01:00 [DBG] Request did not match any endpoints
2025-09-09 11:08:53.410 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-09-09 11:08:53.419 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-09-09 11:08:53.428 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-09-09 11:08:53.437 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-09-09 11:08:53.446 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 125.3504ms
2025-09-09 11:08:53.503 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-09-09 11:08:53.503 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-09-09 11:08:53.512 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-09-09 11:08:53.531 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 27.9083ms
2025-09-09 11:08:53.545 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.3095ms
2025-09-09 11:08:53.574 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-09-09 11:08:53.581 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-09-09 11:08:53.584 +01:00 [DBG] Request did not match any endpoints
2025-09-09 11:08:53.595 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 21.1247ms
2025-09-09 11:09:47.064 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-09 11:09:47.187 +01:00 [DBG] Hosting starting
2025-09-09 11:09:47.234 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 11:09:47.254 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-09-09 11:09:47.267 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-09-09 11:09:47.286 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-09-09 11:09:47.294 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-09 11:09:47.298 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-09-09 11:09:47.301 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-09 11:09:47.310 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-09-09 11:09:47.315 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-09-09 11:09:47.318 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-09-09 11:09:47.322 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-09-09 11:09:47.330 +01:00 [DBG] Middleware loaded
2025-09-09 11:09:47.335 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-09-09 11:09:47.341 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-09 11:09:47.535 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-09 11:09:47.541 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-09 11:09:47.553 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-09 11:09:47.686 +01:00 [INF] Now listening on: https://localhost:7258
2025-09-09 11:09:47.690 +01:00 [INF] Now listening on: http://localhost:5191
2025-09-09 11:09:47.695 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-09-09 11:09:47.698 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-09-09 11:09:47.700 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-09 11:09:47.701 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-09-09 11:09:47.711 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-09 11:09:47.725 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-09 11:09:47.771 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-09 11:09:47.773 +01:00 [INF] Hosting environment: Development
2025-09-09 11:09:47.776 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-09-09 11:09:47.777 +01:00 [DBG] Hosting started
2025-09-09 11:09:49.719 +01:00 [DBG] Connection id "0HNFFH41GOP9I" accepted.
2025-09-09 11:09:49.731 +01:00 [DBG] Connection id "0HNFFH41GOP9I" started.
2025-09-09 11:09:49.914 +01:00 [DBG] Connection 0HNFFH41GOP9I established using the following protocol: "Tls13"
2025-09-09 11:09:50.077 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-09-09 11:09:50.334 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-09-09 11:09:50.342 +01:00 [DBG] Request did not match any endpoints
2025-09-09 11:09:50.501 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-09-09 11:09:50.507 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-09-09 11:09:50.522 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-09-09 11:09:50.527 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-09-09 11:09:50.536 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 472.4033ms
2025-09-09 11:09:50.549 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-09-09 11:09:50.554 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-09-09 11:09:50.592 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-09-09 11:09:50.595 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 41.7291ms
2025-09-09 11:09:50.621 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 71.317ms
2025-09-09 11:09:50.657 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-09-09 11:09:50.663 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-09-09 11:09:50.665 +01:00 [DBG] Request did not match any endpoints
2025-09-09 11:09:50.835 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 177.8845ms
2025-09-09 11:10:08.837 +01:00 [INF] Request starting HTTP/2 PATCH https://localhost:7258/api/Employee/1 - application/json 22
2025-09-09 11:10:08.868 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee/1'
2025-09-09 11:10:08.874 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi)' with route pattern 'api/Employee/{Id}' is valid for the request path '/api/Employee/1'
2025-09-09 11:10:08.883 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi)'
2025-09-09 11:10:08.907 +01:00 [INF] No CORS policy found for the specified request.
2025-09-09 11:10:09.043 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-09 11:10:09.055 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-09 11:10:09.062 +01:00 [DBG] Policy authentication schemes Bearer did not succeed
2025-09-09 11:10:09.087 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-09 11:10:09.103 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-09 11:10:09.109 +01:00 [INF] Request finished HTTP/2 PATCH https://localhost:7258/api/Employee/1 - 401 0 null 272.5166ms
2025-09-09 11:10:09.124 +01:00 [DBG] Connection id "0HNFFH41GOP9I", Request id "0HNFFH41GOP9I:00000009": started reading request body.
2025-09-09 11:10:09.128 +01:00 [DBG] Connection id "0HNFFH41GOP9I", Request id "0HNFFH41GOP9I:00000009": done reading request body.
2025-09-09 11:10:11.099 +01:00 [INF] Request starting HTTP/2 PATCH https://localhost:7258/api/Employee/1 - application/json 22
2025-09-09 11:10:11.109 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee/1'
2025-09-09 11:10:11.113 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi)' with route pattern 'api/Employee/{Id}' is valid for the request path '/api/Employee/1'
2025-09-09 11:10:11.120 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi)'
2025-09-09 11:10:11.126 +01:00 [INF] No CORS policy found for the specified request.
2025-09-09 11:10:11.132 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-09 11:10:11.138 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-09 11:10:11.144 +01:00 [DBG] Policy authentication schemes Bearer did not succeed
2025-09-09 11:10:11.149 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-09 11:10:11.154 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-09 11:10:11.159 +01:00 [INF] Request finished HTTP/2 PATCH https://localhost:7258/api/Employee/1 - 401 0 null 59.9418ms
2025-09-09 11:10:11.172 +01:00 [DBG] Connection id "0HNFFH41GOP9I", Request id "0HNFFH41GOP9I:0000000B": started reading request body.
2025-09-09 11:10:11.175 +01:00 [DBG] Connection id "0HNFFH41GOP9I", Request id "0HNFFH41GOP9I:0000000B": done reading request body.
2025-09-09 11:11:21.224 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7258/api/signin - application/json 75
2025-09-09 11:11:21.248 +01:00 [DBG] 1 candidate(s) found for the request path '/api/signin'
2025-09-09 11:11:21.253 +01:00 [DBG] Request matched endpoint 'HTTP: POST /api/signin => SignIn'
2025-09-09 11:11:21.259 +01:00 [INF] No CORS policy found for the specified request.
2025-09-09 11:11:21.264 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-09 11:11:21.272 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-09 11:11:21.279 +01:00 [INF] Executing endpoint 'HTTP: POST /api/signin => SignIn'
2025-09-09 11:11:21.293 +01:00 [DBG] Connection id "0HNFFH41GOP9I", Request id "0HNFFH41GOP9I:0000000D": started reading request body.
2025-09-09 11:11:21.300 +01:00 [DBG] Connection id "0HNFFH41GOP9I", Request id "0HNFFH41GOP9I:0000000D": done reading request body.
2025-09-09 11:11:21.640 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-09 11:11:22.872 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-09-09 11:11:22.879 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-09-09 11:11:23.198 +01:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2025-09-09 11:11:23.475 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-09 11:11:23.702 +01:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-09-09 11:11:24.357 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: SingleQueryingEnumerable.Create<AppUser>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: AppUser.DOB (DateOnly) Required, 16], [Property: AppUser.Fullname (string) Required, 17], [Property: AppUser.Gender (string) Required, 18], [Property: AppUser.LibraryID (int?), 19] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.DOB, a.Fullname, a.Gender, a.LibraryID
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'AppUser') && (a.NormalizedEmail == @__normalizedEmail_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: AppUser.DOB (DateOnly) Required, 16], [Property: AppUser.Fullname (string) Required, 17], [Property: AppUser.Gender (string) Required, 18], [Property: AppUser.LibraryID (int?), 19] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.DOB, a.Fullname, a.Gender, a.LibraryID
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'AppUser') && (a.NormalizedEmail == @__normalizedEmail_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            AppUser entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                AppUser instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(AppUser);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: IdentityUser.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (AppUser)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = 
                    {
                        string discriminator;
                        discriminator = dataReader.GetString(3);
                        return switch (discriminator)
                        {
                            case "AppUser": 
                                [LIFTABLE Constant: EntityType: AppUser Base: IdentityUser | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser")]
                            default: 
                                {
                                    throw StructuralTypeShaperExpression.CreateUnableToDiscriminateException(
                                        type: [LIFTABLE Constant: EntityType: AppUser Base: IdentityUser | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser")], 
                                        discriminator: (object)discriminator);
                                    return null;
                                }
                        }
                    };
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: AppUser Base: IdentityUser | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser")]: 
                            {
                                shadowSnapshot1 = (ISnapshot)new Snapshot<string>(dataReader.GetString(3));
                                return 
                                {
                                    AppUser instance;
                                    instance = new AppUser();
                                    instance.<Id>k__BackingField = dataReader.GetString(0);
                                    instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(1);
                                    instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(5);
                                    instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(6);
                                    instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(7);
                                    instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                    instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                    instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                    instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(12);
                                    instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(13) ? default(string) : dataReader.GetString(13);
                                    instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(14);
                                    instance.<UserName>k__BackingField = dataReader.IsDBNull(15) ? default(string) : dataReader.GetString(15);
                                    instance.<DOB>k__BackingField = dataReader.IsDBNull(16) ? default(DateOnly) : dataReader.GetFieldValue<DateOnly>(16);
                                    instance.<Fullname>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                    instance.<Gender>k__BackingField = dataReader.IsDBNull(18) ? default(string) : dataReader.GetString(18);
                                    instance.<LibraryID>k__BackingField = dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: AppUser Base: IdentityUser | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(AppUser)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-09 11:11:24.478 +01:00 [DBG] Creating DbConnection.
2025-09-09 11:11:24.537 +01:00 [DBG] Created DbConnection. (54ms).
2025-09-09 11:11:24.551 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:11:25.237 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:11:25.253 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-09 11:11:25.279 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (17ms).
2025-09-09 11:11:25.310 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (58ms).
2025-09-09 11:11:25.335 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DOB], [a].[Fullname], [a].[Gender], [a].[LibraryID]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'AppUser' AND [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-09 11:11:25.526 +01:00 [INF] Executed DbCommand (188ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DOB], [a].[Fullname], [a].[Gender], [a].[LibraryID]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'AppUser' AND [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-09 11:11:25.659 +01:00 [DBG] Context 'CMSDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:11:25.784 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:11:25.805 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 257ms reading results.
2025-09-09 11:11:25.819 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:11:25.837 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (17ms).
2025-09-09 11:11:26.101 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2025-09-09 11:11:26.207 +01:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<string>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        value1 = dataReader.IsDBNull(0) ? default(string) : dataReader.GetString(0);
        return value1;
    }, 
    contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-09 11:11:26.219 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:11:26.227 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:11:26.234 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-09 11:11:26.239 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-09 11:11:26.247 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-09-09 11:11:26.253 +01:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-09 11:11:26.276 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-09 11:11:26.291 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:11:26.299 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 10ms reading results.
2025-09-09 11:11:26.307 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:11:26.318 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (10ms).
2025-09-09 11:11:26.415 +01:00 [INF] Setting HTTP status code 200.
2025-09-09 11:11:26.426 +01:00 [INF] Writing value of type '<>f__AnonymousType14`1' as Json.
2025-09-09 11:11:26.436 +01:00 [INF] Executed endpoint 'HTTP: POST /api/signin => SignIn'
2025-09-09 11:11:26.451 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-09 11:11:26.468 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:11:26.476 +01:00 [DBG] Disposed connection to database '' on server '' (9ms).
2025-09-09 11:11:26.485 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7258/api/signin - 200 null application/json; charset=utf-8 5260.3666ms
2025-09-09 11:12:09.040 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/UserProfile - null null
2025-09-09 11:12:09.069 +01:00 [DBG] 1 candidate(s) found for the request path '/api/UserProfile'
2025-09-09 11:12:09.073 +01:00 [DBG] Request matched endpoint 'HTTP: GET /api/UserProfile => GetUserProfile'
2025-09-09 11:12:09.186 +01:00 [DBG] Successfully validated the token.
2025-09-09 11:12:09.192 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:12:09.202 +01:00 [DBG] Authorization was successful.
2025-09-09 11:12:09.205 +01:00 [INF] Executing endpoint 'HTTP: GET /api/UserProfile => GetUserProfile'
2025-09-09 11:12:09.353 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-09 11:12:09.385 +01:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(e => EF.Property<string>(e, "Id") == __p_0)'
2025-09-09 11:12:09.437 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: SingleQueryingEnumerable.Create<AppUser>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: AppUser.DOB (DateOnly) Required, 16], [Property: AppUser.Fullname (string) Required, 17], [Property: AppUser.Gender (string) Required, 18], [Property: AppUser.LibraryID (int?), 19] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.DOB, a.Fullname, a.Gender, a.LibraryID
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'AppUser') && (a.Id == @__p_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: AppUser.DOB (DateOnly) Required, 16], [Property: AppUser.Fullname (string) Required, 17], [Property: AppUser.Gender (string) Required, 18], [Property: AppUser.LibraryID (int?), 19] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.DOB, a.Fullname, a.Gender, a.LibraryID
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'AppUser') && (a.Id == @__p_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            AppUser entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                AppUser instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(AppUser);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: IdentityUser.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (AppUser)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = 
                    {
                        string discriminator;
                        discriminator = dataReader.GetString(3);
                        return switch (discriminator)
                        {
                            case "AppUser": 
                                [LIFTABLE Constant: EntityType: AppUser Base: IdentityUser | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser")]
                            default: 
                                {
                                    throw StructuralTypeShaperExpression.CreateUnableToDiscriminateException(
                                        type: [LIFTABLE Constant: EntityType: AppUser Base: IdentityUser | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser")], 
                                        discriminator: (object)discriminator);
                                    return null;
                                }
                        }
                    };
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: AppUser Base: IdentityUser | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser")]: 
                            {
                                shadowSnapshot1 = (ISnapshot)new Snapshot<string>(dataReader.GetString(3));
                                return 
                                {
                                    AppUser instance;
                                    instance = new AppUser();
                                    instance.<Id>k__BackingField = dataReader.GetString(0);
                                    instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(1);
                                    instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(5);
                                    instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(6);
                                    instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(7);
                                    instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                    instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                    instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                    instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(12);
                                    instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(13) ? default(string) : dataReader.GetString(13);
                                    instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(14);
                                    instance.<UserName>k__BackingField = dataReader.IsDBNull(15) ? default(string) : dataReader.GetString(15);
                                    instance.<DOB>k__BackingField = dataReader.IsDBNull(16) ? default(DateOnly) : dataReader.GetFieldValue<DateOnly>(16);
                                    instance.<Fullname>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                    instance.<Gender>k__BackingField = dataReader.IsDBNull(18) ? default(string) : dataReader.GetString(18);
                                    instance.<LibraryID>k__BackingField = dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: AppUser Base: IdentityUser | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(AppUser)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-09 11:12:09.457 +01:00 [DBG] Creating DbConnection.
2025-09-09 11:12:09.462 +01:00 [DBG] Created DbConnection. (4ms).
2025-09-09 11:12:09.467 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:12:09.474 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:12:09.480 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-09 11:12:09.485 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-09 11:12:09.491 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-09-09 11:12:09.500 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DOB], [a].[Fullname], [a].[Gender], [a].[LibraryID]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'AppUser' AND [a].[Id] = @__p_0
2025-09-09 11:12:09.518 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DOB], [a].[Fullname], [a].[Gender], [a].[LibraryID]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'AppUser' AND [a].[Id] = @__p_0
2025-09-09 11:12:09.528 +01:00 [DBG] Context 'CMSDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:12:09.535 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:12:09.541 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 13ms reading results.
2025-09-09 11:12:09.549 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:12:09.555 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (6ms).
2025-09-09 11:12:09.564 +01:00 [INF] Setting HTTP status code 200.
2025-09-09 11:12:09.571 +01:00 [INF] Writing value of type '<>f__AnonymousType11`2' as Json.
2025-09-09 11:12:09.577 +01:00 [INF] Executed endpoint 'HTTP: GET /api/UserProfile => GetUserProfile'
2025-09-09 11:12:09.582 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-09 11:12:09.586 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:12:09.591 +01:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-09-09 11:12:09.595 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/UserProfile - 200 null application/json; charset=utf-8 555.5168ms
2025-09-09 11:12:34.336 +01:00 [INF] Request starting HTTP/2 PATCH https://localhost:7258/api/Employee/1 - application/json 22
2025-09-09 11:12:34.364 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee/1'
2025-09-09 11:12:34.369 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi)' with route pattern 'api/Employee/{Id}' is valid for the request path '/api/Employee/1'
2025-09-09 11:12:34.376 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi)'
2025-09-09 11:12:34.380 +01:00 [INF] No CORS policy found for the specified request.
2025-09-09 11:12:34.384 +01:00 [DBG] Successfully validated the token.
2025-09-09 11:12:34.388 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:12:34.393 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:12:34.399 +01:00 [DBG] Authorization was successful.
2025-09-09 11:12:34.403 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi)'
2025-09-09 11:12:34.464 +01:00 [INF] Route matched with {action = "PatchEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]] PatchEmployee(Int32, CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-09 11:12:34.475 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-09 11:12:34.483 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-09 11:12:34.492 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-09 11:12:34.501 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-09 11:12:34.509 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-09 11:12:34.519 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-09 11:12:34.554 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-09 11:12:34.744 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-09 11:12:34.780 +01:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2025-09-09 11:12:34.794 +01:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2025-09-09 11:12:34.804 +01:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2025-09-09 11:12:34.809 +01:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2025-09-09 11:12:34.815 +01:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2025-09-09 11:12:34.825 +01:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2025-09-09 11:12:34.832 +01:00 [DBG] Attempting to bind parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto' ...
2025-09-09 11:12:34.843 +01:00 [DBG] Attempting to bind parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto' using the name '' in request data ...
2025-09-09 11:12:34.851 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-09 11:12:34.866 +01:00 [DBG] Connection id "0HNFFH41GOP9I", Request id "0HNFFH41GOP9I:00000011": started reading request body.
2025-09-09 11:12:34.872 +01:00 [DBG] Connection id "0HNFFH41GOP9I", Request id "0HNFFH41GOP9I:00000011": done reading request body.
2025-09-09 11:12:34.881 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto'
2025-09-09 11:12:34.887 +01:00 [DBG] Done attempting to bind parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto'.
2025-09-09 11:12:34.893 +01:00 [DBG] Done attempting to bind parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto'.
2025-09-09 11:12:34.897 +01:00 [DBG] Attempting to validate the bound parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto' ...
2025-09-09 11:12:34.915 +01:00 [DBG] Done attempting to validate the bound parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto'.
2025-09-09 11:12:34.948 +01:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .SingleOrDefault(x => (long)x.Id == __id_0)'
2025-09-09 11:12:34.973 +01:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Employee>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Employee.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.CreatedAt (DateTime) Required, 1], [Property: Employee.DOB (DateOnly) Required, 2], [Property: Employee.DeptId (int?) FK Index, 3], [Property: Employee.Email (string) Required, 4], [Property: Employee.Firstname (string) Required, 5], [Property: Employee.Gender (string) Required, 6], [Property: Employee.IsActive (bool) Required, 7], [Property: Employee.Lastname (string) Required, 8], [Property: Employee.Middlename (string), 9], [Property: Employee.Phone (string) Required, 10], [Property: Employee.Role (string) Required, 11], [Property: Employee.UpdatedAt (DateTime) Required, 12] }
        SELECT TOP(2) e.Id, e.CreatedAt, e.DOB, e.DeptId, e.Email, e.Firstname, e.Gender, e.IsActive, e.Lastname, e.Middlename, e.Phone, e.Role, e.UpdatedAt
        FROM Employees AS e
        WHERE CAST(e.Id AS bigint) == @__id_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Employee.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.CreatedAt (DateTime) Required, 1], [Property: Employee.DOB (DateOnly) Required, 2], [Property: Employee.DeptId (int?) FK Index, 3], [Property: Employee.Email (string) Required, 4], [Property: Employee.Firstname (string) Required, 5], [Property: Employee.Gender (string) Required, 6], [Property: Employee.IsActive (bool) Required, 7], [Property: Employee.Lastname (string) Required, 8], [Property: Employee.Middlename (string), 9], [Property: Employee.Phone (string) Required, 10], [Property: Employee.Role (string) Required, 11], [Property: Employee.UpdatedAt (DateTime) Required, 12] }
        SELECT TOP(2) e.Id, e.CreatedAt, e.DOB, e.DeptId, e.Email, e.Firstname, e.Gender, e.IsActive, e.Lastname, e.Middlename, e.Phone, e.Role, e.UpdatedAt
        FROM Employees AS e
        WHERE CAST(e.Id AS bigint) == @__id_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Employee entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Employee instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Employee);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Employee.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Employee").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Employee)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Employee")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Employee")]: 
                        {
                            return 
                            {
                                Employee instance;
                                instance = new Employee();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                instance.<DOB>k__BackingField = dataReader.GetFieldValue<DateOnly>(2);
                                instance.<DeptId>k__BackingField = dataReader.IsDBNull(3) ? default(int?) : (int?)dataReader.GetInt32(3);
                                instance.<Email>k__BackingField = dataReader.GetString(4);
                                instance.<Firstname>k__BackingField = dataReader.GetString(5);
                                instance.<Gender>k__BackingField = dataReader.GetString(6);
                                instance.<IsActive>k__BackingField = dataReader.GetBoolean(7);
                                instance.<Lastname>k__BackingField = dataReader.GetString(8);
                                instance.<Middlename>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                instance.<Phone>k__BackingField = dataReader.GetString(10);
                                instance.<Role>k__BackingField = dataReader.GetString(11);
                                instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Employee")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Employee)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .SingleOrDefault()'
2025-09-09 11:12:35.001 +01:00 [DBG] Creating DbConnection.
2025-09-09 11:12:35.005 +01:00 [DBG] Created DbConnection. (4ms).
2025-09-09 11:12:35.012 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:12:35.023 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:12:35.029 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-09 11:12:35.034 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-09 11:12:35.041 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-09-09 11:12:35.049 +01:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DeptId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[Role], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE CAST([e].[Id] AS bigint) = @__id_0
2025-09-09 11:12:35.083 +01:00 [INF] Executed DbCommand (35ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DeptId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[Role], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE CAST([e].[Id] AS bigint) = @__id_0
2025-09-09 11:12:35.122 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:12:35.178 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:12:35.186 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 90ms reading results.
2025-09-09 11:12:35.194 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:12:35.201 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (7ms).
2025-09-09 11:12:35.213 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-09-09 11:12:35.225 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-09-09 11:12:35.284 +01:00 [DBG] The unchanged property 'Employee.IsActive' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-09 11:12:35.307 +01:00 [DBG] An entity of type 'Employee' tracked by 'CMSDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:12:35.327 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-09-09 11:12:35.465 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:12:35.472 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:12:35.479 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-09 11:12:35.484 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-09-09 11:12:35.490 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-09-09 11:12:35.496 +01:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [IsActive] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-09-09 11:12:35.528 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [IsActive] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-09-09 11:12:35.543 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:12:35.549 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 10ms reading results.
2025-09-09 11:12:35.556 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:12:35.561 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (5ms).
2025-09-09 11:12:35.577 +01:00 [DBG] An entity of type 'Employee' tracked by 'CMSDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:12:35.588 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 1 entities written to the database.
2025-09-09 11:12:35.620 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-09 11:12:35.639 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-09 11:12:35.648 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-09 11:12:35.656 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-09 11:12:35.660 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-09 11:12:35.666 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-09 11:12:35.674 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto'.
2025-09-09 11:12:35.708 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi) in 1184.8104ms
2025-09-09 11:12:35.714 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi)'
2025-09-09 11:12:35.719 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-09 11:12:35.724 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:12:35.729 +01:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-09-09 11:12:35.736 +01:00 [INF] Request finished HTTP/2 PATCH https://localhost:7258/api/Employee/1 - 200 null application/json; charset=utf-8 1400.8887ms
2025-09-09 11:12:59.240 +01:00 [INF] Request starting HTTP/2 PATCH https://localhost:7258/api/Employee/1 - application/json 23
2025-09-09 11:12:59.298 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee/1'
2025-09-09 11:12:59.303 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi)' with route pattern 'api/Employee/{Id}' is valid for the request path '/api/Employee/1'
2025-09-09 11:12:59.311 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi)'
2025-09-09 11:12:59.316 +01:00 [INF] No CORS policy found for the specified request.
2025-09-09 11:12:59.319 +01:00 [DBG] Successfully validated the token.
2025-09-09 11:12:59.324 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:12:59.328 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:12:59.334 +01:00 [DBG] Authorization was successful.
2025-09-09 11:12:59.337 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi)'
2025-09-09 11:12:59.344 +01:00 [INF] Route matched with {action = "PatchEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]] PatchEmployee(Int32, CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-09 11:12:59.351 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-09 11:12:59.358 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-09 11:12:59.365 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-09 11:12:59.375 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-09 11:12:59.381 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-09 11:12:59.388 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-09 11:12:59.398 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-09 11:12:59.407 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-09 11:12:59.414 +01:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2025-09-09 11:12:59.420 +01:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2025-09-09 11:12:59.428 +01:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2025-09-09 11:12:59.434 +01:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2025-09-09 11:12:59.440 +01:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2025-09-09 11:12:59.448 +01:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2025-09-09 11:12:59.454 +01:00 [DBG] Attempting to bind parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto' ...
2025-09-09 11:12:59.462 +01:00 [DBG] Attempting to bind parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto' using the name '' in request data ...
2025-09-09 11:12:59.468 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-09 11:12:59.475 +01:00 [DBG] Connection id "0HNFFH41GOP9I", Request id "0HNFFH41GOP9I:00000013": started reading request body.
2025-09-09 11:12:59.497 +01:00 [DBG] Connection id "0HNFFH41GOP9I", Request id "0HNFFH41GOP9I:00000013": done reading request body.
2025-09-09 11:12:59.503 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto'
2025-09-09 11:12:59.507 +01:00 [DBG] Done attempting to bind parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto'.
2025-09-09 11:12:59.514 +01:00 [DBG] Done attempting to bind parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto'.
2025-09-09 11:12:59.520 +01:00 [DBG] Attempting to validate the bound parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto' ...
2025-09-09 11:12:59.528 +01:00 [DBG] Done attempting to validate the bound parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto'.
2025-09-09 11:12:59.542 +01:00 [DBG] Creating DbConnection.
2025-09-09 11:12:59.546 +01:00 [DBG] Created DbConnection. (4ms).
2025-09-09 11:12:59.551 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:12:59.558 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:12:59.566 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-09 11:12:59.571 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-09 11:12:59.578 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-09-09 11:12:59.585 +01:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DeptId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[Role], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE CAST([e].[Id] AS bigint) = @__id_0
2025-09-09 11:12:59.600 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DeptId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[Role], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE CAST([e].[Id] AS bigint) = @__id_0
2025-09-09 11:12:59.613 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:12:59.620 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:12:59.626 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 14ms reading results.
2025-09-09 11:12:59.635 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:12:59.642 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (6ms).
2025-09-09 11:12:59.650 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-09-09 11:12:59.655 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-09-09 11:12:59.660 +01:00 [DBG] The unchanged property 'Employee.IsActive' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-09 11:12:59.669 +01:00 [DBG] An entity of type 'Employee' tracked by 'CMSDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:12:59.679 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-09-09 11:12:59.686 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:12:59.693 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:12:59.700 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-09 11:12:59.705 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-09 11:12:59.713 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-09-09 11:12:59.719 +01:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [IsActive] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-09-09 11:12:59.751 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [IsActive] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-09-09 11:12:59.760 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:12:59.765 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-09-09 11:12:59.772 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:12:59.778 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (5ms).
2025-09-09 11:12:59.785 +01:00 [DBG] An entity of type 'Employee' tracked by 'CMSDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:12:59.792 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 1 entities written to the database.
2025-09-09 11:12:59.800 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-09 11:12:59.811 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-09 11:12:59.818 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-09 11:12:59.825 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-09 11:12:59.831 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-09 11:12:59.835 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-09 11:12:59.841 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto'.
2025-09-09 11:12:59.851 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi) in 462.7452ms
2025-09-09 11:12:59.857 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi)'
2025-09-09 11:12:59.863 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-09 11:12:59.867 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:12:59.873 +01:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-09-09 11:12:59.880 +01:00 [INF] Request finished HTTP/2 PATCH https://localhost:7258/api/Employee/1 - 200 null application/json; charset=utf-8 640.4015ms
2025-09-09 11:14:08.073 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee/1 - null null
2025-09-09 11:14:08.087 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee/1'
2025-09-09 11:14:08.091 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetEmployeeById (CMSApi)' with route pattern 'api/Employee/{id}' is valid for the request path '/api/Employee/1'
2025-09-09 11:14:08.096 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetEmployeeById (CMSApi)'
2025-09-09 11:14:08.101 +01:00 [DBG] Successfully validated the token.
2025-09-09 11:14:08.103 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:14:08.107 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:14:08.111 +01:00 [DBG] Authorization was successful.
2025-09-09 11:14:08.114 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetEmployeeById (CMSApi)'
2025-09-09 11:14:08.127 +01:00 [INF] Route matched with {action = "GetEmployeeById", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]] GetEmployeeById(Int32) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-09 11:14:08.134 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-09 11:14:08.141 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-09 11:14:08.148 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-09 11:14:08.157 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-09 11:14:08.162 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-09 11:14:08.167 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-09 11:14:08.179 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-09 11:14:08.187 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-09 11:14:08.193 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-09-09 11:14:08.200 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-09-09 11:14:08.208 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-09 11:14:08.215 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-09 11:14:08.221 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-09-09 11:14:08.228 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-09-09 11:14:08.250 +01:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Where(e => e.Id == __id_0)
    .Select(e => new EmployeeResponseDto{ 
        Id = e.Id, 
        Fullname = string.Format(
            format: "{0} {1} {2}", 
            arg0: e.Firstname, 
            arg1: e.Middlename, 
            arg2: e.Lastname), 
        Gender = e.Gender, 
        Email = e.Email, 
        Phone = e.Phone, 
        DOB = e.DOB, 
        Role = e.Role, 
        DeptId = (int?)e.Department.DeptId, 
        DeptName = e.Department.DeptName, 
        IsActive = e.IsActive 
    }
    )
    .FirstOrDefault()'
2025-09-09 11:14:08.335 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<EmployeeResponseDto>(
    asyncEnumerable: SingleQueryingEnumerable.Create<EmployeeResponseDto>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
                4 -> 4
                5 -> 5
                6 -> 6
                7 -> 7
                8 -> 8
                9 -> 9
                10 -> 10
                11 -> 11
            SELECT TOP(1) e.Id, e.Firstname, e.Middlename, e.Lastname, e.Gender, e.Email, e.Phone, e.DOB, e.Role, d.DeptId, d.DeptName, e.IsActive
            FROM Employees AS e
            LEFT JOIN Departments AS d ON e.DeptId == d.DeptId
            WHERE e.Id == @__id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
                4 -> 4
                5 -> 5
                6 -> 6
                7 -> 7
                8 -> 8
                9 -> 9
                10 -> 10
                11 -> 11
            SELECT TOP(1) e.Id, e.Firstname, e.Middlename, e.Lastname, e.Gender, e.Email, e.Phone, e.DOB, e.Role, d.DeptId, d.DeptName, e.IsActive
            FROM Employees AS e
            LEFT JOIN Departments AS d ON e.DeptId == d.DeptId
            WHERE e.Id == @__id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            string value2;
            string value3;
            string value4;
            string value5;
            string value6;
            string value7;
            DateOnly? value8;
            string value9;
            int? value10;
            string value11;
            bool? value12;
            value1 = (int?)dataReader.GetInt32(0);
            value2 = dataReader.GetString(1);
            value3 = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
            value4 = dataReader.GetString(3);
            value5 = dataReader.GetString(4);
            value6 = dataReader.GetString(5);
            value7 = dataReader.GetString(6);
            value8 = (DateOnly?)dataReader.GetFieldValue<DateOnly>(7);
            value9 = dataReader.GetString(8);
            value10 = dataReader.IsDBNull(9) ? default(int?) : (int?)dataReader.GetInt32(9);
            value11 = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
            value12 = (bool?)dataReader.GetBoolean(11);
            return new EmployeeResponseDto{ 
                Id = (int)value1, 
                Fullname = string.Format(
                    format: "{0} {1} {2}", 
                    arg0: value2, 
                    arg1: value3, 
                    arg2: value4), 
                Gender = value5, 
                Email = value6, 
                Phone = value7, 
                DOB = (DateOnly)value8, 
                Role = value9, 
                DeptId = value10, 
                DeptName = value11, 
                IsActive = (bool)value12 
            }
            ;
        }, 
        contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-09 11:14:08.350 +01:00 [DBG] Creating DbConnection.
2025-09-09 11:14:08.354 +01:00 [DBG] Created DbConnection. (4ms).
2025-09-09 11:14:08.359 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:14:08.366 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:14:08.372 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-09 11:14:08.377 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-09 11:14:08.384 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-09-09 11:14:08.392 +01:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [d].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Id] = @__id_0
2025-09-09 11:14:08.413 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [d].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Id] = @__id_0
2025-09-09 11:14:08.436 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:14:08.443 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 8ms reading results.
2025-09-09 11:14:08.451 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:14:08.458 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (7ms).
2025-09-09 11:14:08.473 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-09 11:14:08.482 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-09 11:14:08.492 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-09 11:14:08.497 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-09 11:14:08.502 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-09 11:14:08.506 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-09 11:14:08.511 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto'.
2025-09-09 11:14:08.520 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetEmployeeById (CMSApi) in 352.0144ms
2025-09-09 11:14:08.525 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetEmployeeById (CMSApi)'
2025-09-09 11:14:08.530 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-09 11:14:08.534 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:14:08.541 +01:00 [DBG] Disposed connection to database '' on server '' (7ms).
2025-09-09 11:14:08.547 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee/1 - 200 null application/json; charset=utf-8 473.3485ms
2025-09-09 11:14:19.564 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Dept - null null
2025-09-09 11:14:19.570 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept'
2025-09-09 11:14:19.574 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)' with route pattern 'api/Dept' is valid for the request path '/api/Dept'
2025-09-09 11:14:19.580 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)'
2025-09-09 11:14:19.584 +01:00 [DBG] Successfully validated the token.
2025-09-09 11:14:19.587 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:14:19.591 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:14:19.596 +01:00 [DBG] Authorization was successful.
2025-09-09 11:14:19.599 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)'
2025-09-09 11:14:19.610 +01:00 [INF] Route matched with {action = "GetDepartments", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartments() on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-09-09 11:14:19.617 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-09 11:14:19.622 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-09 11:14:19.627 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-09 11:14:19.635 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-09 11:14:19.642 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-09 11:14:19.648 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-09 11:14:19.660 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-09 11:14:19.668 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-09 11:14:19.679 +01:00 [DBG] Compiling query expression: 
'DbSet<Department>()'
2025-09-09 11:14:19.695 +01:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Department>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.DeptId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
        SELECT d.DeptId, d.CreatedAt, d.DeptName, d.UpdatedAt
        FROM Departments AS d) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.DeptId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
        SELECT d.DeptId, d.CreatedAt, d.DeptName, d.UpdatedAt
        FROM Departments AS d, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Department entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Department instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Department);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Department.DeptId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Department)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]: 
                        {
                            return 
                            {
                                Department instance;
                                instance = new Department();
                                instance.<DeptId>k__BackingField = dataReader.GetInt32(0);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                instance.<DeptName>k__BackingField = dataReader.GetString(2);
                                instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(3);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Department)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-09 11:14:19.710 +01:00 [DBG] Creating DbConnection.
2025-09-09 11:14:19.714 +01:00 [DBG] Created DbConnection. (3ms).
2025-09-09 11:14:19.719 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:14:19.725 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:14:19.731 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-09 11:14:19.736 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-09 11:14:19.743 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-09-09 11:14:19.748 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-09 11:14:19.779 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-09 11:14:19.797 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:14:19.816 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:14:19.825 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 34ms reading results.
2025-09-09 11:14:19.832 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:14:19.839 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (6ms).
2025-09-09 11:14:19.876 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:14:19.882 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:14:19.888 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-09 11:14:19.893 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-09-09 11:14:19.899 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-09-09 11:14:19.905 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-09 11:14:19.923 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-09 11:14:19.935 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:14:19.943 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:14:19.949 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:14:19.956 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:14:19.963 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:14:19.970 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 35ms reading results.
2025-09-09 11:14:19.978 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:14:19.985 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (6ms).
2025-09-09 11:14:19.994 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-09 11:14:20.007 +01:00 [DBG] No information found on request to perform content negotiation.
2025-09-09 11:14:20.011 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-09 11:14:20.015 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-09 11:14:20.019 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-09 11:14:20.024 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.DeptDto.DepartmentResponseDto'.
2025-09-09 11:14:20.035 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi) in 386.7789ms
2025-09-09 11:14:20.041 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)'
2025-09-09 11:14:20.046 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-09 11:14:20.049 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:14:20.052 +01:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-09-09 11:14:20.056 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Dept - 200 null application/json; charset=utf-8 492.1996ms
2025-09-09 11:17:35.985 +01:00 [DBG] Connection id "0HNFFH41GOP9I" received FIN.
2025-09-09 11:17:36.374 +01:00 [DBG] Connection id "0HNFFH41GOP9I" is closed. The last processed stream ID was 23.
2025-09-09 11:17:36.394 +01:00 [DBG] The connection queue processing loop for 0HNFFH41GOP9I completed.
2025-09-09 11:17:36.855 +01:00 [DBG] Connection id "0HNFFH41GOP9I" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-09 11:17:36.914 +01:00 [DBG] Connection id "0HNFFH41GOP9I" stopped.
2025-09-09 11:26:04.535 +01:00 [DBG] Connection id "0HNFFH41GOP9J" accepted.
2025-09-09 11:26:04.579 +01:00 [DBG] Connection id "0HNFFH41GOP9J" started.
2025-09-09 11:26:04.595 +01:00 [DBG] Connection 0HNFFH41GOP9J established using the following protocol: "Tls13"
2025-09-09 11:26:04.604 +01:00 [INF] Request starting HTTP/2 PATCH https://localhost:7258/api/Employee/1 - application/json 23
2025-09-09 11:26:04.629 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee/1'
2025-09-09 11:26:04.634 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi)' with route pattern 'api/Employee/{Id}' is valid for the request path '/api/Employee/1'
2025-09-09 11:26:04.640 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi)'
2025-09-09 11:26:04.645 +01:00 [INF] No CORS policy found for the specified request.
2025-09-09 11:26:04.650 +01:00 [DBG] Successfully validated the token.
2025-09-09 11:26:04.654 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:26:04.661 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:26:04.666 +01:00 [DBG] Authorization was successful.
2025-09-09 11:26:04.670 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi)'
2025-09-09 11:26:04.675 +01:00 [INF] Route matched with {action = "PatchEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]] PatchEmployee(Int32, CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-09 11:26:04.684 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-09 11:26:04.691 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-09 11:26:04.699 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-09 11:26:04.707 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-09 11:26:04.717 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-09 11:26:04.724 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-09 11:26:04.735 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-09 11:26:04.745 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-09 11:26:04.752 +01:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2025-09-09 11:26:04.759 +01:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2025-09-09 11:26:04.766 +01:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2025-09-09 11:26:04.772 +01:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2025-09-09 11:26:04.778 +01:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2025-09-09 11:26:04.784 +01:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2025-09-09 11:26:04.787 +01:00 [DBG] Attempting to bind parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto' ...
2025-09-09 11:26:04.789 +01:00 [DBG] Attempting to bind parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto' using the name '' in request data ...
2025-09-09 11:26:04.793 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-09 11:26:04.799 +01:00 [DBG] Connection id "0HNFFH41GOP9J", Request id "0HNFFH41GOP9J:00000001": started reading request body.
2025-09-09 11:26:04.803 +01:00 [DBG] Connection id "0HNFFH41GOP9J", Request id "0HNFFH41GOP9J:00000001": done reading request body.
2025-09-09 11:26:04.808 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto'
2025-09-09 11:26:04.813 +01:00 [DBG] Done attempting to bind parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto'.
2025-09-09 11:26:04.817 +01:00 [DBG] Done attempting to bind parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto'.
2025-09-09 11:26:04.822 +01:00 [DBG] Attempting to validate the bound parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto' ...
2025-09-09 11:26:04.829 +01:00 [DBG] Done attempting to validate the bound parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto'.
2025-09-09 11:26:04.835 +01:00 [DBG] Creating DbConnection.
2025-09-09 11:26:04.837 +01:00 [DBG] Created DbConnection. (2ms).
2025-09-09 11:26:04.841 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:26:04.941 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:26:04.948 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-09 11:26:04.953 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-09 11:26:04.960 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-09-09 11:26:04.965 +01:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DeptId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[Role], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE CAST([e].[Id] AS bigint) = @__id_0
2025-09-09 11:26:04.994 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DeptId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[Role], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE CAST([e].[Id] AS bigint) = @__id_0
2025-09-09 11:26:05.005 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:26:05.011 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:26:05.017 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 11ms reading results.
2025-09-09 11:26:05.024 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:26:05.030 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (6ms).
2025-09-09 11:26:05.035 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-09-09 11:26:05.039 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-09-09 11:26:05.045 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-09-09 11:26:05.049 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 0 entities written to the database.
2025-09-09 11:26:05.054 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-09 11:26:05.064 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-09 11:26:05.070 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-09 11:26:05.075 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-09 11:26:05.080 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-09 11:26:05.084 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-09 11:26:05.090 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto'.
2025-09-09 11:26:05.097 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi) in 373.0123ms
2025-09-09 11:26:05.104 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi)'
2025-09-09 11:26:05.109 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-09 11:26:05.114 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:26:05.120 +01:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-09-09 11:26:05.127 +01:00 [INF] Request finished HTTP/2 PATCH https://localhost:7258/api/Employee/1 - 200 null application/json; charset=utf-8 523.2313ms
2025-09-09 11:27:50.467 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee - null null
2025-09-09 11:27:50.488 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-09 11:27:50.493 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-09 11:27:50.499 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-09 11:27:50.504 +01:00 [DBG] Successfully validated the token.
2025-09-09 11:27:50.508 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:27:50.512 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:27:50.515 +01:00 [DBG] Authorization was successful.
2025-09-09 11:27:50.519 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-09 11:27:50.528 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll() on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-09 11:27:50.535 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-09 11:27:50.543 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-09 11:27:50.551 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-09 11:27:50.561 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-09 11:27:50.569 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-09 11:27:50.577 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-09 11:27:50.585 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-09 11:27:50.595 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-09 11:27:50.619 +01:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Include(e => e.Department)
    .Select(e => new EmployeeResponseDto{ 
        Id = e.Id, 
        Fullname = string.Format(
            format: "{0} {1} {2}", 
            arg0: e.Firstname, 
            arg1: e.Middlename, 
            arg2: e.Lastname), 
        Gender = e.Gender, 
        Email = e.Email, 
        Phone = e.Phone, 
        DOB = e.DOB, 
        Role = e.Role, 
        DeptId = e.DeptId, 
        DeptName = e.Department.DeptName, 
        IsActive = e.IsActive 
    }
    )'
2025-09-09 11:27:50.641 +01:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<EmployeeResponseDto>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
            5 -> 5
            6 -> 6
            7 -> 7
            8 -> 8
            9 -> 9
            10 -> 10
            11 -> 11
        SELECT e.Id, e.Firstname, e.Middlename, e.Lastname, e.Gender, e.Email, e.Phone, e.DOB, e.Role, e.DeptId, d.DeptName, e.IsActive
        FROM Employees AS e
        LEFT JOIN Departments AS d ON e.DeptId == d.DeptId) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
            5 -> 5
            6 -> 6
            7 -> 7
            8 -> 8
            9 -> 9
            10 -> 10
            11 -> 11
        SELECT e.Id, e.Firstname, e.Middlename, e.Lastname, e.Gender, e.Email, e.Phone, e.DOB, e.Role, e.DeptId, d.DeptName, e.IsActive
        FROM Employees AS e
        LEFT JOIN Departments AS d ON e.DeptId == d.DeptId, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        int? value1;
        string value2;
        string value3;
        string value4;
        string value5;
        string value6;
        string value7;
        DateOnly? value8;
        string value9;
        int? value10;
        string value11;
        bool? value12;
        value1 = (int?)dataReader.GetInt32(0);
        value2 = dataReader.GetString(1);
        value3 = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
        value4 = dataReader.GetString(3);
        value5 = dataReader.GetString(4);
        value6 = dataReader.GetString(5);
        value7 = dataReader.GetString(6);
        value8 = (DateOnly?)dataReader.GetFieldValue<DateOnly>(7);
        value9 = dataReader.GetString(8);
        value10 = dataReader.IsDBNull(9) ? default(int?) : (int?)dataReader.GetInt32(9);
        value11 = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
        value12 = (bool?)dataReader.GetBoolean(11);
        return new EmployeeResponseDto{ 
            Id = (int)value1, 
            Fullname = string.Format(
                format: "{0} {1} {2}", 
                arg0: value2, 
                arg1: value3, 
                arg2: value4), 
            Gender = value5, 
            Email = value6, 
            Phone = value7, 
            DOB = (DateOnly)value8, 
            Role = value9, 
            DeptId = value10, 
            DeptName = value11, 
            IsActive = (bool)value12 
        }
        ;
    }, 
    contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-09 11:27:50.653 +01:00 [DBG] Creating DbConnection.
2025-09-09 11:27:50.657 +01:00 [DBG] Created DbConnection. (4ms).
2025-09-09 11:27:50.663 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:27:50.670 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:27:50.676 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-09 11:27:50.681 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-09-09 11:27:50.687 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-09-09 11:27:50.694 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
2025-09-09 11:27:50.729 +01:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
2025-09-09 11:27:50.740 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:27:50.747 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-09-09 11:27:50.755 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:27:50.762 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (7ms).
2025-09-09 11:27:50.770 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-09 11:27:50.781 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-09 11:27:50.788 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-09 11:27:50.795 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-09 11:27:50.799 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-09 11:27:50.803 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-09 11:27:50.809 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto, CMSApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 11:27:50.817 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 240.5524ms
2025-09-09 11:27:50.821 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-09 11:27:50.825 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-09 11:27:50.831 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:27:50.835 +01:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-09-09 11:27:50.840 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee - 200 null application/json; charset=utf-8 373.5778ms
2025-09-09 11:28:12.150 +01:00 [INF] Request starting HTTP/2 PATCH https://localhost:7258/api/Employee/6 - application/json 23
2025-09-09 11:28:12.199 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee/6'
2025-09-09 11:28:12.204 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi)' with route pattern 'api/Employee/{Id}' is valid for the request path '/api/Employee/6'
2025-09-09 11:28:12.212 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi)'
2025-09-09 11:28:12.218 +01:00 [INF] No CORS policy found for the specified request.
2025-09-09 11:28:12.223 +01:00 [DBG] Successfully validated the token.
2025-09-09 11:28:12.226 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:28:12.229 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:28:12.233 +01:00 [DBG] Authorization was successful.
2025-09-09 11:28:12.237 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi)'
2025-09-09 11:28:12.242 +01:00 [INF] Route matched with {action = "PatchEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]] PatchEmployee(Int32, CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-09 11:28:12.250 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-09 11:28:12.258 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-09 11:28:12.265 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-09 11:28:12.274 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-09 11:28:12.281 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-09 11:28:12.288 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-09 11:28:12.296 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-09 11:28:12.307 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-09 11:28:12.314 +01:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2025-09-09 11:28:12.321 +01:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2025-09-09 11:28:12.329 +01:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2025-09-09 11:28:12.336 +01:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2025-09-09 11:28:12.344 +01:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2025-09-09 11:28:12.350 +01:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2025-09-09 11:28:12.357 +01:00 [DBG] Attempting to bind parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto' ...
2025-09-09 11:28:12.364 +01:00 [DBG] Attempting to bind parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto' using the name '' in request data ...
2025-09-09 11:28:12.372 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-09 11:28:12.378 +01:00 [DBG] Connection id "0HNFFH41GOP9J", Request id "0HNFFH41GOP9J:00000005": started reading request body.
2025-09-09 11:28:12.385 +01:00 [DBG] Connection id "0HNFFH41GOP9J", Request id "0HNFFH41GOP9J:00000005": done reading request body.
2025-09-09 11:28:12.392 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto'
2025-09-09 11:28:12.397 +01:00 [DBG] Done attempting to bind parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto'.
2025-09-09 11:28:12.404 +01:00 [DBG] Done attempting to bind parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto'.
2025-09-09 11:28:12.411 +01:00 [DBG] Attempting to validate the bound parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto' ...
2025-09-09 11:28:12.417 +01:00 [DBG] Done attempting to validate the bound parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto'.
2025-09-09 11:28:12.425 +01:00 [DBG] Creating DbConnection.
2025-09-09 11:28:12.430 +01:00 [DBG] Created DbConnection. (4ms).
2025-09-09 11:28:12.435 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:28:12.441 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:28:12.448 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-09 11:28:12.453 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-09-09 11:28:12.458 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-09-09 11:28:12.463 +01:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DeptId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[Role], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE CAST([e].[Id] AS bigint) = @__id_0
2025-09-09 11:28:12.480 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DeptId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[Role], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE CAST([e].[Id] AS bigint) = @__id_0
2025-09-09 11:28:12.495 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:28:12.503 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:28:12.510 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 14ms reading results.
2025-09-09 11:28:12.517 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:28:12.524 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (7ms).
2025-09-09 11:28:12.531 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-09-09 11:28:12.537 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-09-09 11:28:12.546 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-09-09 11:28:12.551 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 0 entities written to the database.
2025-09-09 11:28:12.558 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-09 11:28:12.569 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-09 11:28:12.576 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-09 11:28:12.583 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-09 11:28:12.588 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-09 11:28:12.592 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-09 11:28:12.599 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto'.
2025-09-09 11:28:12.607 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi) in 318.8686ms
2025-09-09 11:28:12.614 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi)'
2025-09-09 11:28:12.620 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-09 11:28:12.627 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:28:12.633 +01:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-09-09 11:28:12.640 +01:00 [INF] Request finished HTTP/2 PATCH https://localhost:7258/api/Employee/6 - 200 null application/json; charset=utf-8 490.0084ms
2025-09-09 11:30:28.611 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee/1 - null null
2025-09-09 11:30:28.634 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee/1'
2025-09-09 11:30:28.635 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetEmployeeById (CMSApi)' with route pattern 'api/Employee/{id}' is valid for the request path '/api/Employee/1'
2025-09-09 11:30:28.638 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetEmployeeById (CMSApi)'
2025-09-09 11:30:28.643 +01:00 [DBG] Successfully validated the token.
2025-09-09 11:30:28.646 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:30:28.650 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:30:28.656 +01:00 [DBG] Authorization was successful.
2025-09-09 11:30:28.659 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetEmployeeById (CMSApi)'
2025-09-09 11:30:28.663 +01:00 [INF] Route matched with {action = "GetEmployeeById", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]] GetEmployeeById(Int32) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-09 11:30:28.670 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-09 11:30:28.676 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-09 11:30:28.683 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-09 11:30:28.691 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-09 11:30:28.697 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-09 11:30:28.705 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-09 11:30:28.714 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-09 11:30:28.724 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-09 11:30:28.730 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-09-09 11:30:28.736 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-09-09 11:30:28.743 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-09 11:30:28.749 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-09 11:30:28.755 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-09-09 11:30:28.762 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-09-09 11:30:28.774 +01:00 [DBG] Creating DbConnection.
2025-09-09 11:30:28.778 +01:00 [DBG] Created DbConnection. (4ms).
2025-09-09 11:30:28.783 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:30:28.790 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:30:28.797 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-09 11:30:28.802 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-09 11:30:28.808 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-09-09 11:30:28.815 +01:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [d].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Id] = @__id_0
2025-09-09 11:30:28.830 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [d].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Id] = @__id_0
2025-09-09 11:30:28.842 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:30:28.848 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-09-09 11:30:28.857 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:30:28.863 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (6ms).
2025-09-09 11:30:28.873 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-09 11:30:28.883 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-09 11:30:28.889 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-09 11:30:28.895 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-09 11:30:28.899 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-09 11:30:28.903 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-09 11:30:28.911 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto'.
2025-09-09 11:30:28.917 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetEmployeeById (CMSApi) in 212.4871ms
2025-09-09 11:30:28.924 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetEmployeeById (CMSApi)'
2025-09-09 11:30:28.929 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-09 11:30:28.938 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:30:28.945 +01:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-09-09 11:30:28.952 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee/1 - 200 null application/json; charset=utf-8 340.6701ms
2025-09-09 11:31:39.857 +01:00 [INF] Request starting HTTP/2 PATCH https://localhost:7258/api/Employee/6 - application/json 22
2025-09-09 11:31:39.873 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee/6'
2025-09-09 11:31:39.877 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi)' with route pattern 'api/Employee/{Id}' is valid for the request path '/api/Employee/6'
2025-09-09 11:31:39.883 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi)'
2025-09-09 11:31:39.888 +01:00 [INF] No CORS policy found for the specified request.
2025-09-09 11:31:39.892 +01:00 [DBG] Successfully validated the token.
2025-09-09 11:31:39.896 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:31:39.901 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:31:39.906 +01:00 [DBG] Authorization was successful.
2025-09-09 11:31:39.910 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi)'
2025-09-09 11:31:39.915 +01:00 [INF] Route matched with {action = "PatchEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]] PatchEmployee(Int32, CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-09 11:31:39.923 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-09 11:31:39.933 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-09 11:31:39.939 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-09 11:31:39.950 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-09 11:31:39.956 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-09 11:31:39.963 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-09 11:31:39.971 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-09 11:31:39.981 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-09 11:31:40.001 +01:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2025-09-09 11:31:40.006 +01:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2025-09-09 11:31:40.015 +01:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2025-09-09 11:31:40.021 +01:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2025-09-09 11:31:40.028 +01:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2025-09-09 11:31:40.034 +01:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2025-09-09 11:31:40.041 +01:00 [DBG] Attempting to bind parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto' ...
2025-09-09 11:31:40.048 +01:00 [DBG] Attempting to bind parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto' using the name '' in request data ...
2025-09-09 11:31:40.055 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-09 11:31:40.062 +01:00 [DBG] Connection id "0HNFFH41GOP9J", Request id "0HNFFH41GOP9J:00000009": started reading request body.
2025-09-09 11:31:40.068 +01:00 [DBG] Connection id "0HNFFH41GOP9J", Request id "0HNFFH41GOP9J:00000009": done reading request body.
2025-09-09 11:31:40.075 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto'
2025-09-09 11:31:40.081 +01:00 [DBG] Done attempting to bind parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto'.
2025-09-09 11:31:40.087 +01:00 [DBG] Done attempting to bind parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto'.
2025-09-09 11:31:40.094 +01:00 [DBG] Attempting to validate the bound parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto' ...
2025-09-09 11:31:40.101 +01:00 [DBG] Done attempting to validate the bound parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto'.
2025-09-09 11:31:40.107 +01:00 [DBG] Creating DbConnection.
2025-09-09 11:31:40.111 +01:00 [DBG] Created DbConnection. (4ms).
2025-09-09 11:31:40.116 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:31:40.123 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:31:40.129 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-09 11:31:40.134 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-09-09 11:31:40.140 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-09-09 11:31:40.147 +01:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DeptId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[Role], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE CAST([e].[Id] AS bigint) = @__id_0
2025-09-09 11:31:40.163 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DeptId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[Role], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE CAST([e].[Id] AS bigint) = @__id_0
2025-09-09 11:31:40.171 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:31:40.177 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:31:40.184 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 13ms reading results.
2025-09-09 11:31:40.192 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:31:40.199 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (7ms).
2025-09-09 11:31:40.206 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-09-09 11:31:40.212 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-09-09 11:31:40.218 +01:00 [DBG] The unchanged property 'Employee.IsActive' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-09 11:31:40.224 +01:00 [DBG] An entity of type 'Employee' tracked by 'CMSDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:31:40.234 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-09-09 11:31:40.240 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:31:40.247 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:31:40.254 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-09 11:31:40.260 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-09 11:31:40.267 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-09-09 11:31:40.273 +01:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [IsActive] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-09-09 11:31:40.305 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [IsActive] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-09-09 11:31:40.314 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:31:40.318 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-09-09 11:31:40.324 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:31:40.332 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (7ms).
2025-09-09 11:31:40.338 +01:00 [DBG] An entity of type 'Employee' tracked by 'CMSDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:31:40.347 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 1 entities written to the database.
2025-09-09 11:31:40.353 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-09 11:31:40.363 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-09 11:31:40.370 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-09 11:31:40.378 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-09 11:31:40.381 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-09 11:31:40.385 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-09 11:31:40.390 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto'.
2025-09-09 11:31:40.398 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi) in 435.2423ms
2025-09-09 11:31:40.403 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi)'
2025-09-09 11:31:40.407 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-09 11:31:40.415 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:31:40.422 +01:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-09-09 11:31:40.430 +01:00 [INF] Request finished HTTP/2 PATCH https://localhost:7258/api/Employee/6 - 200 null application/json; charset=utf-8 573.146ms
2025-09-09 11:31:54.763 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee - null null
2025-09-09 11:31:54.768 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-09 11:31:54.770 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-09 11:31:54.773 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-09 11:31:54.776 +01:00 [DBG] Successfully validated the token.
2025-09-09 11:31:54.778 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:31:54.781 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:31:54.785 +01:00 [DBG] Authorization was successful.
2025-09-09 11:31:54.788 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-09 11:31:54.794 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll() on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-09 11:31:54.804 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-09 11:31:54.812 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-09 11:31:54.819 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-09 11:31:54.829 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-09 11:31:54.836 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-09 11:31:54.845 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-09 11:31:54.853 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-09 11:31:54.862 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-09 11:31:54.870 +01:00 [DBG] Creating DbConnection.
2025-09-09 11:31:54.874 +01:00 [DBG] Created DbConnection. (4ms).
2025-09-09 11:31:54.881 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:31:54.887 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:31:54.894 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-09 11:31:54.900 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-09 11:31:54.906 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-09-09 11:31:54.914 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
2025-09-09 11:31:54.929 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
2025-09-09 11:31:54.936 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:31:54.944 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-09-09 11:31:54.952 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:31:54.958 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (5ms).
2025-09-09 11:31:54.966 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-09 11:31:54.977 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-09 11:31:54.985 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-09 11:31:54.991 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-09 11:31:54.998 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-09 11:31:55.001 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-09 11:31:55.008 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto, CMSApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 11:31:55.015 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 171.1346ms
2025-09-09 11:31:55.021 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-09 11:31:55.026 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-09 11:31:55.050 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:31:55.055 +01:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-09-09 11:31:55.062 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee - 200 null application/json; charset=utf-8 298.7411ms
2025-09-09 11:32:18.739 +01:00 [INF] Request starting HTTP/2 PATCH https://localhost:7258/api/Employee/5 - application/json 22
2025-09-09 11:32:18.763 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee/5'
2025-09-09 11:32:18.766 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi)' with route pattern 'api/Employee/{Id}' is valid for the request path '/api/Employee/5'
2025-09-09 11:32:18.770 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi)'
2025-09-09 11:32:18.775 +01:00 [INF] No CORS policy found for the specified request.
2025-09-09 11:32:18.778 +01:00 [DBG] Successfully validated the token.
2025-09-09 11:32:18.782 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:32:18.787 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:32:18.793 +01:00 [DBG] Authorization was successful.
2025-09-09 11:32:18.796 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi)'
2025-09-09 11:32:18.802 +01:00 [INF] Route matched with {action = "PatchEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]] PatchEmployee(Int32, CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-09 11:32:18.811 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-09 11:32:18.818 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-09 11:32:18.824 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-09 11:32:18.833 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-09 11:32:18.840 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-09 11:32:18.847 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-09 11:32:18.854 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-09 11:32:18.861 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-09 11:32:18.868 +01:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2025-09-09 11:32:18.873 +01:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2025-09-09 11:32:18.879 +01:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2025-09-09 11:32:18.884 +01:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2025-09-09 11:32:18.889 +01:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2025-09-09 11:32:18.896 +01:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2025-09-09 11:32:18.903 +01:00 [DBG] Attempting to bind parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto' ...
2025-09-09 11:32:18.909 +01:00 [DBG] Attempting to bind parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto' using the name '' in request data ...
2025-09-09 11:32:18.914 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-09 11:32:18.919 +01:00 [DBG] Connection id "0HNFFH41GOP9J", Request id "0HNFFH41GOP9J:0000000D": started reading request body.
2025-09-09 11:32:18.925 +01:00 [DBG] Connection id "0HNFFH41GOP9J", Request id "0HNFFH41GOP9J:0000000D": done reading request body.
2025-09-09 11:32:18.930 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto'
2025-09-09 11:32:18.939 +01:00 [DBG] Done attempting to bind parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto'.
2025-09-09 11:32:18.945 +01:00 [DBG] Done attempting to bind parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto'.
2025-09-09 11:32:18.953 +01:00 [DBG] Attempting to validate the bound parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto' ...
2025-09-09 11:32:18.958 +01:00 [DBG] Done attempting to validate the bound parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto'.
2025-09-09 11:32:18.964 +01:00 [DBG] Creating DbConnection.
2025-09-09 11:32:18.967 +01:00 [DBG] Created DbConnection. (3ms).
2025-09-09 11:32:18.972 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:32:18.978 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:32:18.986 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-09 11:32:18.992 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-09 11:32:18.998 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-09-09 11:32:19.006 +01:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DeptId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[Role], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE CAST([e].[Id] AS bigint) = @__id_0
2025-09-09 11:32:19.016 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DeptId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[Role], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE CAST([e].[Id] AS bigint) = @__id_0
2025-09-09 11:32:19.028 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:32:19.034 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:32:19.041 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 13ms reading results.
2025-09-09 11:32:19.049 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:32:19.056 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (6ms).
2025-09-09 11:32:19.063 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-09-09 11:32:19.070 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-09-09 11:32:19.075 +01:00 [DBG] The unchanged property 'Employee.IsActive' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-09 11:32:19.081 +01:00 [DBG] An entity of type 'Employee' tracked by 'CMSDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:32:19.091 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-09-09 11:32:19.096 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:32:19.102 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:32:19.109 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-09 11:32:19.114 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-09 11:32:19.121 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-09-09 11:32:19.128 +01:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [IsActive] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-09-09 11:32:19.156 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [IsActive] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-09-09 11:32:19.167 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:32:19.174 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-09-09 11:32:19.181 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:32:19.188 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (6ms).
2025-09-09 11:32:19.196 +01:00 [DBG] An entity of type 'Employee' tracked by 'CMSDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:32:19.205 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 1 entities written to the database.
2025-09-09 11:32:19.211 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-09 11:32:19.222 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-09 11:32:19.229 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-09 11:32:19.236 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-09 11:32:19.240 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-09 11:32:19.244 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-09 11:32:19.250 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto'.
2025-09-09 11:32:19.258 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi) in 411.0441ms
2025-09-09 11:32:19.263 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi)'
2025-09-09 11:32:19.269 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-09 11:32:19.274 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:32:19.280 +01:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-09-09 11:32:19.287 +01:00 [INF] Request finished HTTP/2 PATCH https://localhost:7258/api/Employee/5 - 200 null application/json; charset=utf-8 547.4221ms
2025-09-09 11:32:26.872 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee - null null
2025-09-09 11:32:26.897 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-09 11:32:26.903 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-09 11:32:26.908 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-09 11:32:26.912 +01:00 [DBG] Successfully validated the token.
2025-09-09 11:32:26.915 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:32:26.919 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:32:26.925 +01:00 [DBG] Authorization was successful.
2025-09-09 11:32:26.930 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-09 11:32:26.935 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll() on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-09 11:32:26.943 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-09 11:32:26.950 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-09 11:32:26.957 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-09 11:32:26.967 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-09 11:32:26.975 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-09 11:32:26.983 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-09 11:32:26.993 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-09 11:32:27.003 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-09 11:32:27.012 +01:00 [DBG] Creating DbConnection.
2025-09-09 11:32:27.015 +01:00 [DBG] Created DbConnection. (2ms).
2025-09-09 11:32:27.018 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:32:27.023 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:32:27.031 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-09 11:32:27.036 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-09 11:32:27.043 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-09-09 11:32:27.050 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
2025-09-09 11:32:27.067 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
2025-09-09 11:32:27.076 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:32:27.081 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-09-09 11:32:27.087 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:32:27.092 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (5ms).
2025-09-09 11:32:27.098 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-09 11:32:27.109 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-09 11:32:27.116 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-09 11:32:27.122 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-09 11:32:27.127 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-09 11:32:27.131 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-09 11:32:27.136 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto, CMSApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 11:32:27.144 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 161.061ms
2025-09-09 11:32:27.151 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-09 11:32:27.156 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-09 11:32:27.166 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:32:27.171 +01:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-09-09 11:32:27.181 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee - 200 null application/json; charset=utf-8 308.865ms
2025-09-09 11:32:45.330 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee/5 - null null
2025-09-09 11:32:45.338 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee/5'
2025-09-09 11:32:45.340 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetEmployeeById (CMSApi)' with route pattern 'api/Employee/{id}' is valid for the request path '/api/Employee/5'
2025-09-09 11:32:45.344 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetEmployeeById (CMSApi)'
2025-09-09 11:32:45.346 +01:00 [DBG] Successfully validated the token.
2025-09-09 11:32:45.348 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:32:45.352 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:32:45.356 +01:00 [DBG] Authorization was successful.
2025-09-09 11:32:45.359 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetEmployeeById (CMSApi)'
2025-09-09 11:32:45.362 +01:00 [INF] Route matched with {action = "GetEmployeeById", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]] GetEmployeeById(Int32) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-09 11:32:45.368 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-09 11:32:45.375 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-09 11:32:45.381 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-09 11:32:45.390 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-09 11:32:45.395 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-09 11:32:45.401 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-09 11:32:45.409 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-09 11:32:45.417 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-09 11:32:45.422 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-09-09 11:32:45.428 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-09-09 11:32:45.435 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-09 11:32:45.440 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-09 11:32:45.445 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-09-09 11:32:45.451 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-09-09 11:32:45.459 +01:00 [DBG] Creating DbConnection.
2025-09-09 11:32:45.463 +01:00 [DBG] Created DbConnection. (3ms).
2025-09-09 11:32:45.468 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:32:45.476 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:32:45.482 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-09 11:32:45.488 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-09 11:32:45.495 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-09-09 11:32:45.501 +01:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [d].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Id] = @__id_0
2025-09-09 11:32:45.519 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [d].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Id] = @__id_0
2025-09-09 11:32:45.529 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:32:45.536 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-09-09 11:32:45.544 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:32:45.549 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (5ms).
2025-09-09 11:32:45.558 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-09 11:32:45.568 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-09 11:32:45.576 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-09 11:32:45.583 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-09 11:32:45.587 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-09 11:32:45.590 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-09 11:32:45.596 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto'.
2025-09-09 11:32:45.604 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetEmployeeById (CMSApi) in 202.852ms
2025-09-09 11:32:45.612 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetEmployeeById (CMSApi)'
2025-09-09 11:32:45.617 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-09 11:32:45.623 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:32:45.629 +01:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-09-09 11:32:45.636 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee/5 - 200 null application/json; charset=utf-8 305.552ms
2025-09-09 11:33:06.584 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7258/api/Employee/1 - application/json 154
2025-09-09 11:33:06.596 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee/1'
2025-09-09 11:33:06.601 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.UpdateEmployee (CMSApi)' with route pattern 'api/Employee/{Id}' is valid for the request path '/api/Employee/1'
2025-09-09 11:33:06.608 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.UpdateEmployee (CMSApi)'
2025-09-09 11:33:06.613 +01:00 [INF] No CORS policy found for the specified request.
2025-09-09 11:33:06.618 +01:00 [DBG] Successfully validated the token.
2025-09-09 11:33:06.622 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:33:06.627 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:33:06.631 +01:00 [DBG] Authorization was successful.
2025-09-09 11:33:06.635 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.UpdateEmployee (CMSApi)'
2025-09-09 11:33:06.649 +01:00 [INF] Route matched with {action = "UpdateEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]] UpdateEmployee(Int32, CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-09 11:33:06.657 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-09 11:33:06.665 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-09 11:33:06.673 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-09 11:33:06.681 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-09 11:33:06.688 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-09 11:33:06.694 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-09 11:33:06.702 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-09 11:33:06.710 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-09 11:33:06.714 +01:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2025-09-09 11:33:06.720 +01:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2025-09-09 11:33:06.727 +01:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2025-09-09 11:33:06.735 +01:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2025-09-09 11:33:06.740 +01:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2025-09-09 11:33:06.746 +01:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2025-09-09 11:33:06.751 +01:00 [DBG] Attempting to bind parameter 'employee' of type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto' ...
2025-09-09 11:33:06.756 +01:00 [DBG] Attempting to bind parameter 'employee' of type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto' using the name '' in request data ...
2025-09-09 11:33:06.761 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-09 11:33:06.769 +01:00 [DBG] Connection id "0HNFFH41GOP9J", Request id "0HNFFH41GOP9J:00000013": started reading request body.
2025-09-09 11:33:06.774 +01:00 [DBG] Connection id "0HNFFH41GOP9J", Request id "0HNFFH41GOP9J:00000013": done reading request body.
2025-09-09 11:33:06.787 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto'
2025-09-09 11:33:06.792 +01:00 [DBG] Done attempting to bind parameter 'employee' of type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto'.
2025-09-09 11:33:06.799 +01:00 [DBG] Done attempting to bind parameter 'employee' of type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto'.
2025-09-09 11:33:06.806 +01:00 [DBG] Attempting to validate the bound parameter 'employee' of type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto' ...
2025-09-09 11:33:06.818 +01:00 [DBG] Done attempting to validate the bound parameter 'employee' of type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto'.
2025-09-09 11:33:06.827 +01:00 [DBG] Creating DbConnection.
2025-09-09 11:33:06.832 +01:00 [DBG] Created DbConnection. (4ms).
2025-09-09 11:33:06.837 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:33:06.844 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:33:06.851 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-09 11:33:06.856 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-09 11:33:06.862 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-09-09 11:33:06.870 +01:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DeptId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[Role], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE CAST([e].[Id] AS bigint) = @__id_0
2025-09-09 11:33:06.883 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DeptId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[Role], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE CAST([e].[Id] AS bigint) = @__id_0
2025-09-09 11:33:06.892 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:33:06.898 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:33:06.904 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 11ms reading results.
2025-09-09 11:33:06.911 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:33:06.917 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (6ms).
2025-09-09 11:33:06.925 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-09-09 11:33:06.931 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-09-09 11:33:06.936 +01:00 [DBG] The unchanged property 'Employee.DeptId' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-09 11:33:06.941 +01:00 [DBG] An entity of type 'Employee' tracked by 'CMSDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:33:06.952 +01:00 [DBG] The foreign key property 'Employee.DeptId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-09 11:33:06.965 +01:00 [DBG] The unchanged property 'Employee.Email' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-09 11:33:06.972 +01:00 [DBG] The unchanged property 'Employee.Lastname' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-09 11:33:06.978 +01:00 [DBG] The unchanged property 'Employee.Phone' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-09 11:33:06.985 +01:00 [DBG] The unchanged property 'Employee.Role' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-09 11:33:06.991 +01:00 [DBG] The unchanged property 'Employee.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-09 11:33:06.998 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-09-09 11:33:07.025 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:33:07.032 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:33:07.039 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-09 11:33:07.044 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-09 11:33:07.052 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-09-09 11:33:07.058 +01:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [DeptId] = @p0, [Email] = @p1, [Lastname] = @p2, [Phone] = @p3, [Role] = @p4, [UpdatedAt] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2025-09-09 11:33:07.106 +01:00 [INF] Executed DbCommand (48ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [DeptId] = @p0, [Email] = @p1, [Lastname] = @p2, [Phone] = @p3, [Role] = @p4, [UpdatedAt] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2025-09-09 11:33:07.124 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:33:07.133 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 17ms reading results.
2025-09-09 11:33:07.140 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:33:07.145 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (4ms).
2025-09-09 11:33:07.196 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'CMSApi.Infrastructure.Data.CMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Employees_Departments_DeptId". The conflict occurred in database "CMSDb", table "dbo.Departments", column 'DeptId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnly(Int32 commandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:15440716-991e-4f04-b0fd-192b6e048b21
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Employees_Departments_DeptId". The conflict occurred in database "CMSDb", table "dbo.Departments", column 'DeptId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnly(Int32 commandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:15440716-991e-4f04-b0fd-192b6e048b21
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2025-09-09 11:33:07.908 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-09 11:33:07.917 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-09 11:33:07.923 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-09-09 11:33:07.930 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-09-09 11:33:07.935 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.UpdateEmployee (CMSApi) in 1241.5011ms
2025-09-09 11:33:07.954 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.UpdateEmployee (CMSApi)'
2025-09-09 11:33:07.958 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-09 11:33:07.961 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:33:07.965 +01:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-09-09 11:33:07.969 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7258/api/Employee/1 - 400 null text/plain; charset=utf-8 1414.6421ms
2025-09-09 11:33:46.639 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7258/api/Employee/1 - application/json 154
2025-09-09 11:33:46.654 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee/1'
2025-09-09 11:33:46.657 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.UpdateEmployee (CMSApi)' with route pattern 'api/Employee/{Id}' is valid for the request path '/api/Employee/1'
2025-09-09 11:33:46.664 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.UpdateEmployee (CMSApi)'
2025-09-09 11:33:46.669 +01:00 [INF] No CORS policy found for the specified request.
2025-09-09 11:33:46.673 +01:00 [DBG] Successfully validated the token.
2025-09-09 11:33:46.678 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:33:46.683 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:33:46.687 +01:00 [DBG] Authorization was successful.
2025-09-09 11:33:46.691 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.UpdateEmployee (CMSApi)'
2025-09-09 11:33:46.695 +01:00 [INF] Route matched with {action = "UpdateEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]] UpdateEmployee(Int32, CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-09 11:33:46.703 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-09 11:33:46.711 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-09 11:33:46.717 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-09 11:33:46.726 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-09 11:33:46.733 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-09 11:33:46.742 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-09 11:33:46.748 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-09 11:33:46.757 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-09 11:33:46.762 +01:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2025-09-09 11:33:46.767 +01:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2025-09-09 11:33:46.775 +01:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2025-09-09 11:33:46.780 +01:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2025-09-09 11:33:46.788 +01:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2025-09-09 11:33:46.795 +01:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2025-09-09 11:33:46.802 +01:00 [DBG] Attempting to bind parameter 'employee' of type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto' ...
2025-09-09 11:33:46.809 +01:00 [DBG] Attempting to bind parameter 'employee' of type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto' using the name '' in request data ...
2025-09-09 11:33:46.817 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-09 11:33:46.824 +01:00 [DBG] Connection id "0HNFFH41GOP9J", Request id "0HNFFH41GOP9J:00000015": started reading request body.
2025-09-09 11:33:46.831 +01:00 [DBG] Connection id "0HNFFH41GOP9J", Request id "0HNFFH41GOP9J:00000015": done reading request body.
2025-09-09 11:33:46.839 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto'
2025-09-09 11:33:46.844 +01:00 [DBG] Done attempting to bind parameter 'employee' of type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto'.
2025-09-09 11:33:46.851 +01:00 [DBG] Done attempting to bind parameter 'employee' of type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto'.
2025-09-09 11:33:46.860 +01:00 [DBG] Attempting to validate the bound parameter 'employee' of type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto' ...
2025-09-09 11:33:46.867 +01:00 [DBG] Done attempting to validate the bound parameter 'employee' of type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto'.
2025-09-09 11:33:46.875 +01:00 [DBG] Creating DbConnection.
2025-09-09 11:33:46.879 +01:00 [DBG] Created DbConnection. (4ms).
2025-09-09 11:33:46.885 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:33:46.891 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:33:46.895 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-09 11:33:46.899 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-09-09 11:33:46.905 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-09-09 11:33:46.911 +01:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DeptId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[Role], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE CAST([e].[Id] AS bigint) = @__id_0
2025-09-09 11:33:46.927 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DeptId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[Role], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE CAST([e].[Id] AS bigint) = @__id_0
2025-09-09 11:33:46.937 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:33:46.943 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:33:46.947 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 10ms reading results.
2025-09-09 11:33:46.953 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:33:46.958 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (4ms).
2025-09-09 11:33:46.962 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-09-09 11:33:46.966 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-09-09 11:33:46.972 +01:00 [DBG] The unchanged property 'Employee.DeptId' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-09 11:33:46.978 +01:00 [DBG] An entity of type 'Employee' tracked by 'CMSDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:33:46.985 +01:00 [DBG] The foreign key property 'Employee.DeptId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-09 11:33:46.993 +01:00 [DBG] The unchanged property 'Employee.Email' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-09 11:33:47.000 +01:00 [DBG] The unchanged property 'Employee.Lastname' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-09 11:33:47.007 +01:00 [DBG] The unchanged property 'Employee.Phone' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-09 11:33:47.013 +01:00 [DBG] The unchanged property 'Employee.Role' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-09 11:33:47.020 +01:00 [DBG] The unchanged property 'Employee.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-09 11:33:47.027 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-09-09 11:33:47.033 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:33:47.040 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:33:47.046 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-09 11:33:47.051 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-09-09 11:33:47.058 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-09-09 11:33:47.065 +01:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [DeptId] = @p0, [Email] = @p1, [Lastname] = @p2, [Phone] = @p3, [Role] = @p4, [UpdatedAt] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2025-09-09 11:33:47.081 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [DeptId] = @p0, [Email] = @p1, [Lastname] = @p2, [Phone] = @p3, [Role] = @p4, [UpdatedAt] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2025-09-09 11:33:47.090 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:33:47.095 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-09-09 11:33:47.103 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:33:47.110 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (7ms).
2025-09-09 11:33:47.121 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'CMSApi.Infrastructure.Data.CMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Employees_Departments_DeptId". The conflict occurred in database "CMSDb", table "dbo.Departments", column 'DeptId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnly(Int32 commandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:15440716-991e-4f04-b0fd-192b6e048b21
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Employees_Departments_DeptId". The conflict occurred in database "CMSDb", table "dbo.Departments", column 'DeptId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnly(Int32 commandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:15440716-991e-4f04-b0fd-192b6e048b21
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2025-09-09 11:33:47.340 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-09 11:33:47.350 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-09 11:33:47.355 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-09-09 11:33:47.361 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-09-09 11:33:47.366 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.UpdateEmployee (CMSApi) in 624.332ms
2025-09-09 11:33:47.370 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.UpdateEmployee (CMSApi)'
2025-09-09 11:33:47.375 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-09 11:33:47.378 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:33:47.382 +01:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-09-09 11:33:47.387 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7258/api/Employee/1 - 400 null text/plain; charset=utf-8 748.7448ms
2025-09-09 11:34:14.741 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7258/api/Employee/1 - application/json 154
2025-09-09 11:34:14.756 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee/1'
2025-09-09 11:34:14.760 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.UpdateEmployee (CMSApi)' with route pattern 'api/Employee/{Id}' is valid for the request path '/api/Employee/1'
2025-09-09 11:34:14.764 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.UpdateEmployee (CMSApi)'
2025-09-09 11:34:14.768 +01:00 [INF] No CORS policy found for the specified request.
2025-09-09 11:34:14.772 +01:00 [DBG] Successfully validated the token.
2025-09-09 11:34:14.773 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:34:14.776 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:34:14.781 +01:00 [DBG] Authorization was successful.
2025-09-09 11:34:14.785 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.UpdateEmployee (CMSApi)'
2025-09-09 11:34:14.791 +01:00 [INF] Route matched with {action = "UpdateEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]] UpdateEmployee(Int32, CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-09 11:34:14.800 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-09 11:34:14.808 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-09 11:34:14.814 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-09 11:34:14.822 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-09 11:34:14.829 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-09 11:34:14.835 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-09 11:34:14.843 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-09 11:34:14.852 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-09 11:34:14.859 +01:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2025-09-09 11:34:14.863 +01:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2025-09-09 11:34:14.870 +01:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2025-09-09 11:34:14.877 +01:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2025-09-09 11:34:14.883 +01:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2025-09-09 11:34:14.890 +01:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2025-09-09 11:34:14.896 +01:00 [DBG] Attempting to bind parameter 'employee' of type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto' ...
2025-09-09 11:34:14.903 +01:00 [DBG] Attempting to bind parameter 'employee' of type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto' using the name '' in request data ...
2025-09-09 11:34:14.911 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-09 11:34:14.918 +01:00 [DBG] Connection id "0HNFFH41GOP9J", Request id "0HNFFH41GOP9J:00000017": started reading request body.
2025-09-09 11:34:14.925 +01:00 [DBG] Connection id "0HNFFH41GOP9J", Request id "0HNFFH41GOP9J:00000017": done reading request body.
2025-09-09 11:34:14.930 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto'
2025-09-09 11:34:14.936 +01:00 [DBG] Done attempting to bind parameter 'employee' of type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto'.
2025-09-09 11:34:14.943 +01:00 [DBG] Done attempting to bind parameter 'employee' of type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto'.
2025-09-09 11:34:14.949 +01:00 [DBG] Attempting to validate the bound parameter 'employee' of type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto' ...
2025-09-09 11:34:14.956 +01:00 [DBG] Done attempting to validate the bound parameter 'employee' of type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto'.
2025-09-09 11:34:14.962 +01:00 [DBG] Creating DbConnection.
2025-09-09 11:34:14.964 +01:00 [DBG] Created DbConnection. (2ms).
2025-09-09 11:34:14.968 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:34:14.974 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:34:14.980 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-09 11:34:14.986 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-09 11:34:14.993 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-09-09 11:34:14.999 +01:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DeptId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[Role], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE CAST([e].[Id] AS bigint) = @__id_0
2025-09-09 11:34:15.010 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DeptId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[Role], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE CAST([e].[Id] AS bigint) = @__id_0
2025-09-09 11:34:15.020 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:34:15.027 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:34:15.031 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 11ms reading results.
2025-09-09 11:34:15.037 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:34:15.043 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (5ms).
2025-09-09 11:34:15.049 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-09-09 11:34:15.054 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-09-09 11:34:15.057 +01:00 [DBG] The unchanged property 'Employee.DeptId' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-09 11:34:15.062 +01:00 [DBG] An entity of type 'Employee' tracked by 'CMSDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:34:15.070 +01:00 [DBG] The foreign key property 'Employee.DeptId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-09 11:34:15.075 +01:00 [DBG] The unchanged property 'Employee.Email' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-09 11:34:15.081 +01:00 [DBG] The unchanged property 'Employee.Lastname' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-09 11:34:15.087 +01:00 [DBG] The unchanged property 'Employee.Phone' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-09 11:34:15.094 +01:00 [DBG] The unchanged property 'Employee.Role' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-09 11:34:15.101 +01:00 [DBG] The unchanged property 'Employee.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-09 11:34:15.109 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-09-09 11:34:15.114 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:34:15.120 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:34:15.126 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-09 11:34:15.130 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-09-09 11:34:15.136 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-09-09 11:34:15.141 +01:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [DeptId] = @p0, [Email] = @p1, [Lastname] = @p2, [Phone] = @p3, [Role] = @p4, [UpdatedAt] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2025-09-09 11:34:15.152 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [DeptId] = @p0, [Email] = @p1, [Lastname] = @p2, [Phone] = @p3, [Role] = @p4, [UpdatedAt] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2025-09-09 11:34:15.164 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:34:15.170 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-09-09 11:34:15.178 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:34:15.184 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (6ms).
2025-09-09 11:34:15.194 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'CMSApi.Infrastructure.Data.CMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Employees_Departments_DeptId". The conflict occurred in database "CMSDb", table "dbo.Departments", column 'DeptId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnly(Int32 commandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:15440716-991e-4f04-b0fd-192b6e048b21
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Employees_Departments_DeptId". The conflict occurred in database "CMSDb", table "dbo.Departments", column 'DeptId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnly(Int32 commandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:15440716-991e-4f04-b0fd-192b6e048b21
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2025-09-09 11:34:15.405 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-09 11:34:15.414 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-09 11:34:15.420 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-09-09 11:34:15.426 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-09-09 11:34:15.433 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.UpdateEmployee (CMSApi) in 597.6063ms
2025-09-09 11:34:15.439 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.UpdateEmployee (CMSApi)'
2025-09-09 11:34:15.443 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-09 11:34:15.446 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:34:15.451 +01:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-09-09 11:34:15.457 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7258/api/Employee/1 - 400 null text/plain; charset=utf-8 716.0514ms
2025-09-09 11:35:03.001 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Dept - null null
2025-09-09 11:35:03.022 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept'
2025-09-09 11:35:03.024 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)' with route pattern 'api/Dept' is valid for the request path '/api/Dept'
2025-09-09 11:35:03.027 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)'
2025-09-09 11:35:03.031 +01:00 [DBG] Successfully validated the token.
2025-09-09 11:35:03.035 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:35:03.039 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:35:03.043 +01:00 [DBG] Authorization was successful.
2025-09-09 11:35:03.046 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)'
2025-09-09 11:35:03.049 +01:00 [INF] Route matched with {action = "GetDepartments", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartments() on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-09-09 11:35:03.055 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-09 11:35:03.060 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-09 11:35:03.066 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-09 11:35:03.075 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-09 11:35:03.080 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-09 11:35:03.086 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-09 11:35:03.090 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-09 11:35:03.115 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-09 11:35:03.122 +01:00 [DBG] Creating DbConnection.
2025-09-09 11:35:03.126 +01:00 [DBG] Created DbConnection. (3ms).
2025-09-09 11:35:03.130 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:35:03.138 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:35:03.145 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-09 11:35:03.151 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-09 11:35:03.158 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-09-09 11:35:03.163 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-09 11:35:03.178 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-09 11:35:03.190 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:35:03.195 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:35:03.201 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 11ms reading results.
2025-09-09 11:35:03.210 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:35:03.216 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (6ms).
2025-09-09 11:35:03.225 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:35:03.232 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:35:03.238 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-09 11:35:03.244 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-09 11:35:03.250 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-09-09 11:35:03.258 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-09 11:35:03.267 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-09 11:35:03.277 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:35:03.282 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:35:03.290 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:35:03.296 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:35:03.303 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:35:03.310 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 32ms reading results.
2025-09-09 11:35:03.317 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:35:03.324 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (7ms).
2025-09-09 11:35:03.332 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-09 11:35:03.343 +01:00 [DBG] No information found on request to perform content negotiation.
2025-09-09 11:35:03.347 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-09 11:35:03.351 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-09 11:35:03.356 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-09 11:35:03.362 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.DeptDto.DepartmentResponseDto'.
2025-09-09 11:35:03.369 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi) in 282.957ms
2025-09-09 11:35:03.376 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)'
2025-09-09 11:35:03.380 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-09 11:35:03.384 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:35:03.389 +01:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-09-09 11:35:03.396 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Dept - 200 null application/json; charset=utf-8 395.0201ms
2025-09-09 11:35:19.914 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7258/api/Employee/1 - application/json 154
2025-09-09 11:35:19.918 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee/1'
2025-09-09 11:35:19.931 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.UpdateEmployee (CMSApi)' with route pattern 'api/Employee/{Id}' is valid for the request path '/api/Employee/1'
2025-09-09 11:35:19.938 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.UpdateEmployee (CMSApi)'
2025-09-09 11:35:19.941 +01:00 [INF] No CORS policy found for the specified request.
2025-09-09 11:35:19.944 +01:00 [DBG] Successfully validated the token.
2025-09-09 11:35:19.948 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:35:19.954 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:35:19.958 +01:00 [DBG] Authorization was successful.
2025-09-09 11:35:19.962 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.UpdateEmployee (CMSApi)'
2025-09-09 11:35:19.967 +01:00 [INF] Route matched with {action = "UpdateEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]] UpdateEmployee(Int32, CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-09 11:35:19.977 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-09 11:35:19.983 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-09 11:35:19.990 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-09 11:35:20.000 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-09 11:35:20.006 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-09 11:35:20.014 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-09 11:35:20.021 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-09 11:35:20.030 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-09 11:35:20.037 +01:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2025-09-09 11:35:20.042 +01:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2025-09-09 11:35:20.050 +01:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2025-09-09 11:35:20.057 +01:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2025-09-09 11:35:20.063 +01:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2025-09-09 11:35:20.070 +01:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2025-09-09 11:35:20.075 +01:00 [DBG] Attempting to bind parameter 'employee' of type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto' ...
2025-09-09 11:35:20.082 +01:00 [DBG] Attempting to bind parameter 'employee' of type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto' using the name '' in request data ...
2025-09-09 11:35:20.091 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-09 11:35:20.097 +01:00 [DBG] Connection id "0HNFFH41GOP9J", Request id "0HNFFH41GOP9J:0000001B": started reading request body.
2025-09-09 11:35:20.103 +01:00 [DBG] Connection id "0HNFFH41GOP9J", Request id "0HNFFH41GOP9J:0000001B": done reading request body.
2025-09-09 11:35:20.109 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto'
2025-09-09 11:35:20.113 +01:00 [DBG] Done attempting to bind parameter 'employee' of type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto'.
2025-09-09 11:35:20.121 +01:00 [DBG] Done attempting to bind parameter 'employee' of type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto'.
2025-09-09 11:35:20.127 +01:00 [DBG] Attempting to validate the bound parameter 'employee' of type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto' ...
2025-09-09 11:35:20.135 +01:00 [DBG] Done attempting to validate the bound parameter 'employee' of type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto'.
2025-09-09 11:35:20.143 +01:00 [DBG] Creating DbConnection.
2025-09-09 11:35:20.147 +01:00 [DBG] Created DbConnection. (4ms).
2025-09-09 11:35:20.153 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:35:20.160 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:35:20.167 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-09 11:35:20.173 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-09-09 11:35:20.178 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-09-09 11:35:20.182 +01:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DeptId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[Role], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE CAST([e].[Id] AS bigint) = @__id_0
2025-09-09 11:35:20.194 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DeptId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[Role], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE CAST([e].[Id] AS bigint) = @__id_0
2025-09-09 11:35:20.204 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:35:20.210 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:35:20.217 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 12ms reading results.
2025-09-09 11:35:20.224 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:35:20.230 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (5ms).
2025-09-09 11:35:20.238 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-09-09 11:35:20.243 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-09-09 11:35:20.248 +01:00 [DBG] The unchanged property 'Employee.DeptId' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-09 11:35:20.256 +01:00 [DBG] An entity of type 'Employee' tracked by 'CMSDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:35:20.265 +01:00 [DBG] The foreign key property 'Employee.DeptId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-09 11:35:20.271 +01:00 [DBG] The unchanged property 'Employee.Email' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-09 11:35:20.278 +01:00 [DBG] The unchanged property 'Employee.Lastname' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-09 11:35:20.284 +01:00 [DBG] The unchanged property 'Employee.Phone' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-09 11:35:20.290 +01:00 [DBG] The unchanged property 'Employee.Role' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-09 11:35:20.296 +01:00 [DBG] The unchanged property 'Employee.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-09 11:35:20.304 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-09-09 11:35:20.310 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:35:20.316 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:35:20.323 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-09 11:35:20.328 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-09 11:35:20.334 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-09-09 11:35:20.342 +01:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [DeptId] = @p0, [Email] = @p1, [Lastname] = @p2, [Phone] = @p3, [Role] = @p4, [UpdatedAt] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2025-09-09 11:35:20.374 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [DeptId] = @p0, [Email] = @p1, [Lastname] = @p2, [Phone] = @p3, [Role] = @p4, [UpdatedAt] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2025-09-09 11:35:20.386 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:35:20.393 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-09-09 11:35:20.401 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:35:20.408 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (6ms).
2025-09-09 11:35:20.416 +01:00 [DBG] An entity of type 'Employee' tracked by 'CMSDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-09 11:35:20.425 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 1 entities written to the database.
2025-09-09 11:35:20.431 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-09 11:35:20.438 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-09 11:35:20.443 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-09 11:35:20.448 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-09 11:35:20.451 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-09 11:35:20.454 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-09 11:35:20.459 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto'.
2025-09-09 11:35:20.466 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.UpdateEmployee (CMSApi) in 451.7946ms
2025-09-09 11:35:20.472 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.UpdateEmployee (CMSApi)'
2025-09-09 11:35:20.475 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-09 11:35:20.478 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:35:20.481 +01:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-09-09 11:35:20.485 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7258/api/Employee/1 - 200 null application/json; charset=utf-8 571.2201ms
2025-09-09 11:37:33.815 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee - null null
2025-09-09 11:37:33.836 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-09 11:37:33.843 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-09 11:37:33.851 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-09 11:37:33.858 +01:00 [DBG] Successfully validated the token.
2025-09-09 11:37:33.861 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:37:33.865 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-09 11:37:33.870 +01:00 [DBG] Authorization was successful.
2025-09-09 11:37:33.874 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-09 11:37:33.878 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll() on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-09 11:37:33.884 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-09 11:37:33.890 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-09 11:37:33.897 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-09 11:37:33.903 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-09 11:37:33.909 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-09 11:37:33.917 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-09 11:37:33.925 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-09 11:37:33.932 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-09 11:37:33.941 +01:00 [DBG] Creating DbConnection.
2025-09-09 11:37:33.944 +01:00 [DBG] Created DbConnection. (3ms).
2025-09-09 11:37:33.949 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:37:33.958 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:37:33.964 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-09 11:37:33.969 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-09-09 11:37:33.975 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-09-09 11:37:33.982 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
2025-09-09 11:37:33.997 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
2025-09-09 11:37:34.009 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:37:34.016 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-09-09 11:37:34.025 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:37:34.031 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (6ms).
2025-09-09 11:37:34.040 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-09 11:37:34.051 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-09 11:37:34.058 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-09 11:37:34.064 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-09 11:37:34.068 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-09 11:37:34.072 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-09 11:37:34.078 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto, CMSApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 11:37:34.084 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 167.8779ms
2025-09-09 11:37:34.090 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-09 11:37:34.095 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-09 11:37:34.099 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-09 11:37:34.103 +01:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-09-09 11:37:34.107 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee - 200 null application/json; charset=utf-8 292.5759ms
2025-09-09 11:52:12.572 +01:00 [DBG] Connection id "0HNFFH41GOP9J" received FIN.
2025-09-09 11:52:12.591 +01:00 [DBG] Connection id "0HNFFH41GOP9J" is closed. The last processed stream ID was 29.
2025-09-09 11:52:12.594 +01:00 [DBG] The connection queue processing loop for 0HNFFH41GOP9J completed.
2025-09-09 11:52:12.632 +01:00 [DBG] Connection id "0HNFFH41GOP9J" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-09 11:52:12.657 +01:00 [DBG] Connection id "0HNFFH41GOP9J" stopped.
2025-09-09 20:45:50.405 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-09 20:45:50.549 +01:00 [DBG] Hosting starting
2025-09-09 20:45:50.595 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 20:45:50.615 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-09-09 20:45:50.681 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-09-09 20:45:50.710 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-09-09 20:45:50.721 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-09 20:45:50.729 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-09-09 20:45:50.736 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-09 20:45:50.754 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-09-09 20:45:50.760 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-09-09 20:45:50.763 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-09-09 20:45:50.766 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-09-09 20:45:50.778 +01:00 [DBG] Middleware loaded
2025-09-09 20:45:50.784 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-09-09 20:45:50.789 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-09 20:45:50.977 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-09 20:45:50.982 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-09 20:45:50.996 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-09 20:45:51.158 +01:00 [INF] Now listening on: https://localhost:7258
2025-09-09 20:45:51.162 +01:00 [INF] Now listening on: http://localhost:5191
2025-09-09 20:45:51.165 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-09-09 20:45:51.167 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-09-09 20:45:51.168 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-09 20:45:51.169 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-09-09 20:45:51.177 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-09 20:45:51.190 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-09 20:45:51.233 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-09 20:45:51.236 +01:00 [INF] Hosting environment: Development
2025-09-09 20:45:51.238 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-09-09 20:45:51.239 +01:00 [DBG] Hosting started
2025-09-09 20:45:54.266 +01:00 [DBG] Connection id "0HNFFR5UHVAB5" accepted.
2025-09-09 20:45:54.272 +01:00 [DBG] Connection id "0HNFFR5UHVAB5" started.
2025-09-09 20:45:54.388 +01:00 [DBG] Connection 0HNFFR5UHVAB5 established using the following protocol: "Tls13"
2025-09-09 20:45:54.521 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-09-09 20:45:54.892 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-09-09 20:45:54.899 +01:00 [DBG] Request did not match any endpoints
2025-09-09 20:45:55.084 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-09-09 20:45:55.092 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-09-09 20:45:55.106 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-09-09 20:45:55.112 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-09-09 20:45:55.119 +01:00 [DBG] Connection id "0HNFFR5UHVAB5" received FIN.
2025-09-09 20:45:55.120 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 609.4969ms
2025-09-09 20:45:55.141 +01:00 [DBG] Connection id "0HNFFR5UHVAB5" is closed. The last processed stream ID was 1.
2025-09-09 20:45:55.151 +01:00 [DBG] Connection id "0HNFFR5UHVAB5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-09 20:45:55.151 +01:00 [DBG] The connection queue processing loop for 0HNFFR5UHVAB5 completed.
2025-09-09 20:45:55.168 +01:00 [DBG] Connection id "0HNFFR5UHVAB5" stopped.
2025-09-09 20:45:56.974 +01:00 [DBG] Connection id "0HNFFR5UHVAB6" accepted.
2025-09-09 20:45:56.996 +01:00 [DBG] Connection id "0HNFFR5UHVAB6" started.
2025-09-09 20:45:57.009 +01:00 [DBG] Connection 0HNFFR5UHVAB6 established using the following protocol: "Tls13"
2025-09-09 20:45:57.020 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/swagger-ui-bundle.js - null null
2025-09-09 20:45:57.020 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.css - null null
2025-09-09 20:45:57.020 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/swagger-ui.css - null null
2025-09-09 20:45:57.109 +01:00 [DBG] No candidates found for the request path '/swagger/index.css'
2025-09-09 20:45:57.062 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-09-09 20:45:57.093 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2025-09-09 20:45:57.020 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.js - null null
2025-09-09 20:45:57.149 +01:00 [DBG] Request did not match any endpoints
2025-09-09 20:45:57.142 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2025-09-09 20:45:57.171 +01:00 [DBG] Request did not match any endpoints
2025-09-09 20:45:57.228 +01:00 [DBG] No candidates found for the request path '/swagger/index.js'
2025-09-09 20:45:57.063 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/swagger-ui-standalone-preset.js - null null
2025-09-09 20:45:57.286 +01:00 [DBG] Request did not match any endpoints
2025-09-09 20:45:57.298 +01:00 [DBG] Request did not match any endpoints
2025-09-09 20:45:57.081 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-09-09 20:45:57.233 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-09-09 20:45:57.318 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2025-09-09 20:45:57.358 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.js - 200 null application/javascript;charset=utf-8 338.0543ms
2025-09-09 20:45:57.359 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.css - 304 null null 339.5071ms
2025-09-09 20:45:57.359 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/swagger-ui.css - 304 null null 339.5301ms
2025-09-09 20:45:57.359 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/swagger-ui-bundle.js - 304 null null 339.2378ms
2025-09-09 20:45:57.384 +01:00 [DBG] Request did not match any endpoints
2025-09-09 20:45:57.379 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 316.8683ms
2025-09-09 20:45:57.443 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/swagger-ui-standalone-preset.js - 304 null null 381.0987ms
2025-09-09 20:45:57.481 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 400.4976ms
2025-09-09 20:45:57.539 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-09-09 20:45:57.546 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/favicon-32x32.png - null null
2025-09-09 20:45:57.546 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-09-09 20:45:57.552 +01:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2025-09-09 20:45:57.557 +01:00 [DBG] Request did not match any endpoints
2025-09-09 20:45:57.561 +01:00 [DBG] Request did not match any endpoints
2025-09-09 20:45:57.570 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/favicon-32x32.png - 304 null null 23.9998ms
2025-09-09 20:45:57.861 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 322.5672ms
2025-09-09 20:49:01.864 +01:00 [DBG] Connection id "0HNFFR5UHVAB6" received FIN.
2025-09-09 20:49:02.209 +01:00 [DBG] Connection id "0HNFFR5UHVAB6" is closed. The last processed stream ID was 17.
2025-09-09 20:49:02.314 +01:00 [DBG] The connection queue processing loop for 0HNFFR5UHVAB6 completed.
2025-09-09 20:49:02.319 +01:00 [DBG] Connection id "0HNFFR5UHVAB6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-09 20:49:02.862 +01:00 [DBG] Connection id "0HNFFR5UHVAB6" stopped.
