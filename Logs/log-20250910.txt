2025-09-10 09:36:25.756 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-10 09:36:25.895 +01:00 [DBG] Hosting starting
2025-09-10 09:36:25.953 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-10 09:36:25.989 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-09-10 09:36:26.063 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-09-10 09:36:26.085 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-09-10 09:36:26.093 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-10 09:36:26.099 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-09-10 09:36:26.103 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-10 09:36:26.110 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-09-10 09:36:26.115 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-09-10 09:36:26.118 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-09-10 09:36:26.120 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-09-10 09:36:26.128 +01:00 [DBG] Middleware loaded
2025-09-10 09:36:26.132 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-09-10 09:36:26.135 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-10 09:36:26.417 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-10 09:36:26.422 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-10 09:36:26.445 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-10 09:36:26.686 +01:00 [INF] Now listening on: https://localhost:7258
2025-09-10 09:36:26.690 +01:00 [INF] Now listening on: http://localhost:5191
2025-09-10 09:36:26.693 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-09-10 09:36:26.694 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-09-10 09:36:26.696 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-10 09:36:26.698 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-09-10 09:36:26.708 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-10 09:36:26.725 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-10 09:36:26.787 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-10 09:36:26.788 +01:00 [INF] Hosting environment: Development
2025-09-10 09:36:26.790 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-09-10 09:36:26.793 +01:00 [DBG] Hosting started
2025-09-10 09:37:01.065 +01:00 [DBG] Connection id "0HNFG8KR4HV7P" accepted.
2025-09-10 09:37:01.082 +01:00 [DBG] Connection id "0HNFG8KR4HV7P" started.
2025-09-10 09:37:01.180 +01:00 [DBG] Connection 0HNFG8KR4HV7P established using the following protocol: "Tls13"
2025-09-10 09:37:01.299 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-09-10 09:37:01.486 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-09-10 09:37:01.492 +01:00 [DBG] Request did not match any endpoints
2025-09-10 09:37:01.582 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-09-10 09:37:01.587 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-09-10 09:37:01.605 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-09-10 09:37:01.610 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-09-10 09:37:01.618 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 331.1367ms
2025-09-10 09:37:01.626 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-09-10 09:37:01.660 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-09-10 09:37:01.682 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-09-10 09:37:01.688 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 61.9289ms
2025-09-10 09:37:01.730 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 103.5265ms
2025-09-10 09:37:01.763 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-09-10 09:37:01.770 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-09-10 09:37:01.774 +01:00 [DBG] Request did not match any endpoints
2025-09-10 09:37:01.920 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 156.2445ms
2025-09-10 10:19:05.176 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-10 10:19:05.392 +01:00 [DBG] Hosting starting
2025-09-10 10:19:05.455 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-10 10:19:05.478 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-09-10 10:19:05.496 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-09-10 10:19:05.518 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-09-10 10:19:05.529 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-10 10:19:05.537 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-09-10 10:19:05.543 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-10 10:19:05.554 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-09-10 10:19:05.562 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-09-10 10:19:05.568 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-09-10 10:19:05.571 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-09-10 10:19:05.585 +01:00 [DBG] Middleware loaded
2025-09-10 10:19:05.592 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-09-10 10:19:05.598 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-10 10:19:05.798 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-10 10:19:05.805 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-10 10:19:05.825 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-10 10:19:06.074 +01:00 [INF] Now listening on: https://localhost:7258
2025-09-10 10:19:06.081 +01:00 [INF] Now listening on: http://localhost:5191
2025-09-10 10:19:06.086 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-09-10 10:19:06.091 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-09-10 10:19:06.095 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-10 10:19:06.101 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-09-10 10:19:06.119 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-10 10:19:06.137 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-10 10:19:06.199 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-10 10:19:06.202 +01:00 [INF] Hosting environment: Development
2025-09-10 10:19:06.207 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-09-10 10:19:06.210 +01:00 [DBG] Hosting started
2025-09-10 10:19:43.441 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-10 10:19:43.601 +01:00 [DBG] Hosting starting
2025-09-10 10:19:43.671 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-10 10:19:43.696 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-09-10 10:19:43.711 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-09-10 10:19:43.729 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-09-10 10:19:43.741 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-10 10:19:43.749 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-09-10 10:19:43.756 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-10 10:19:43.771 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-09-10 10:19:43.780 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-09-10 10:19:43.791 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-09-10 10:19:43.797 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-09-10 10:19:43.814 +01:00 [DBG] Middleware loaded
2025-09-10 10:19:43.821 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-09-10 10:19:43.829 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-10 10:19:44.097 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-10 10:19:44.105 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-10 10:19:44.128 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-10 10:19:44.342 +01:00 [INF] Now listening on: https://localhost:7258
2025-09-10 10:19:44.349 +01:00 [INF] Now listening on: http://localhost:5191
2025-09-10 10:19:44.355 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-09-10 10:19:44.361 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-09-10 10:19:44.366 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-10 10:19:44.371 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-09-10 10:19:44.390 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-10 10:19:44.410 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-10 10:19:44.476 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-10 10:19:44.480 +01:00 [INF] Hosting environment: Development
2025-09-10 10:19:44.483 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-09-10 10:19:44.485 +01:00 [DBG] Hosting started
2025-09-10 10:19:56.097 +01:00 [DBG] Connection id "0HNFG9CQHV49T" accepted.
2025-09-10 10:19:56.117 +01:00 [DBG] Connection id "0HNFG9CQHV49T" started.
2025-09-10 10:19:56.209 +01:00 [DBG] Connection 0HNFG9CQHV49T established using the following protocol: "Tls13"
2025-09-10 10:19:56.332 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-09-10 10:19:56.671 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-09-10 10:19:56.677 +01:00 [DBG] Request did not match any endpoints
2025-09-10 10:19:56.769 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-09-10 10:19:56.776 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-09-10 10:19:56.796 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-09-10 10:19:56.801 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-09-10 10:19:56.814 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 495.7011ms
2025-09-10 10:19:56.837 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-09-10 10:19:56.844 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-09-10 10:19:56.878 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-09-10 10:19:56.888 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 51.2589ms
2025-09-10 10:19:56.937 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 92.6791ms
2025-09-10 10:19:57.041 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-09-10 10:19:57.051 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-09-10 10:19:57.056 +01:00 [DBG] Request did not match any endpoints
2025-09-10 10:19:57.362 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 321.1211ms
2025-09-10 10:20:18.720 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?Gender=Male - null null
2025-09-10 10:20:18.773 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 10:20:18.780 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 10:20:18.790 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:20:19.062 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-10 10:20:19.074 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-10 10:20:19.079 +01:00 [DBG] Policy authentication schemes Bearer did not succeed
2025-09-10 10:20:19.091 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-10 10:20:19.107 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-10 10:20:19.112 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?Gender=Male - 401 0 null 391.965ms
2025-09-10 10:21:20.420 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7258/api/signin - application/json 73
2025-09-10 10:21:20.450 +01:00 [DBG] 1 candidate(s) found for the request path '/api/signin'
2025-09-10 10:21:20.455 +01:00 [DBG] Request matched endpoint 'HTTP: POST /api/signin => SignIn'
2025-09-10 10:21:20.462 +01:00 [INF] No CORS policy found for the specified request.
2025-09-10 10:21:20.469 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-10 10:21:20.475 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-10 10:21:20.483 +01:00 [INF] Executing endpoint 'HTTP: POST /api/signin => SignIn'
2025-09-10 10:21:20.498 +01:00 [DBG] Connection id "0HNFG9CQHV49T", Request id "0HNFG9CQHV49T:0000000B": started reading request body.
2025-09-10 10:21:20.506 +01:00 [DBG] Connection id "0HNFG9CQHV49T", Request id "0HNFG9CQHV49T:0000000B": done reading request body.
2025-09-10 10:21:20.847 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-10 10:21:22.138 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-09-10 10:21:22.146 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-09-10 10:21:22.447 +01:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2025-09-10 10:21:22.737 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 10:21:22.951 +01:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-09-10 10:21:23.655 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: SingleQueryingEnumerable.Create<AppUser>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: AppUser.DOB (DateOnly) Required, 16], [Property: AppUser.Fullname (string) Required, 17], [Property: AppUser.Gender (string) Required, 18], [Property: AppUser.LibraryID (int?), 19] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.DOB, a.Fullname, a.Gender, a.LibraryID
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'AppUser') && (a.NormalizedEmail == @__normalizedEmail_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: AppUser.DOB (DateOnly) Required, 16], [Property: AppUser.Fullname (string) Required, 17], [Property: AppUser.Gender (string) Required, 18], [Property: AppUser.LibraryID (int?), 19] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.DOB, a.Fullname, a.Gender, a.LibraryID
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'AppUser') && (a.NormalizedEmail == @__normalizedEmail_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            AppUser entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                AppUser instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(AppUser);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: IdentityUser.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (AppUser)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = 
                    {
                        string discriminator;
                        discriminator = dataReader.GetString(3);
                        return switch (discriminator)
                        {
                            case "AppUser": 
                                [LIFTABLE Constant: EntityType: AppUser Base: IdentityUser | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser")]
                            default: 
                                {
                                    throw StructuralTypeShaperExpression.CreateUnableToDiscriminateException(
                                        type: [LIFTABLE Constant: EntityType: AppUser Base: IdentityUser | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser")], 
                                        discriminator: (object)discriminator);
                                    return null;
                                }
                        }
                    };
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: AppUser Base: IdentityUser | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser")]: 
                            {
                                shadowSnapshot1 = (ISnapshot)new Snapshot<string>(dataReader.GetString(3));
                                return 
                                {
                                    AppUser instance;
                                    instance = new AppUser();
                                    instance.<Id>k__BackingField = dataReader.GetString(0);
                                    instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(1);
                                    instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(5);
                                    instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(6);
                                    instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(7);
                                    instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                    instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                    instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                    instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(12);
                                    instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(13) ? default(string) : dataReader.GetString(13);
                                    instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(14);
                                    instance.<UserName>k__BackingField = dataReader.IsDBNull(15) ? default(string) : dataReader.GetString(15);
                                    instance.<DOB>k__BackingField = dataReader.IsDBNull(16) ? default(DateOnly) : dataReader.GetFieldValue<DateOnly>(16);
                                    instance.<Fullname>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                    instance.<Gender>k__BackingField = dataReader.IsDBNull(18) ? default(string) : dataReader.GetString(18);
                                    instance.<LibraryID>k__BackingField = dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: AppUser Base: IdentityUser | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(AppUser)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-10 10:21:23.771 +01:00 [DBG] Creating DbConnection.
2025-09-10 10:21:23.842 +01:00 [DBG] Created DbConnection. (66ms).
2025-09-10 10:21:23.854 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:21:24.705 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:21:24.721 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 10:21:24.744 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (17ms).
2025-09-10 10:21:24.769 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (49ms).
2025-09-10 10:21:24.793 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DOB], [a].[Fullname], [a].[Gender], [a].[LibraryID]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'AppUser' AND [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-10 10:21:24.995 +01:00 [INF] Executed DbCommand (204ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DOB], [a].[Fullname], [a].[Gender], [a].[LibraryID]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'AppUser' AND [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-10 10:21:25.126 +01:00 [DBG] Context 'CMSDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 10:21:25.239 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:21:25.263 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 244ms reading results.
2025-09-10 10:21:25.278 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:21:25.297 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (19ms).
2025-09-10 10:21:25.581 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2025-09-10 10:21:25.683 +01:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<string>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        value1 = dataReader.IsDBNull(0) ? default(string) : dataReader.GetString(0);
        return value1;
    }, 
    contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-10 10:21:25.697 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:21:25.705 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:21:25.712 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 10:21:25.717 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-10 10:21:25.723 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-09-10 10:21:25.729 +01:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-10 10:21:25.766 +01:00 [INF] Executed DbCommand (38ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-10 10:21:25.777 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:21:25.782 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 8ms reading results.
2025-09-10 10:21:25.787 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:21:25.792 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (4ms).
2025-09-10 10:21:25.887 +01:00 [INF] Setting HTTP status code 200.
2025-09-10 10:21:25.898 +01:00 [INF] Writing value of type '<>f__AnonymousType12`1' as Json.
2025-09-10 10:21:25.908 +01:00 [INF] Executed endpoint 'HTTP: POST /api/signin => SignIn'
2025-09-10 10:21:25.921 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 10:21:25.938 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:21:25.952 +01:00 [DBG] Disposed connection to database '' on server '' (14ms).
2025-09-10 10:21:25.960 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7258/api/signin - 200 null application/json; charset=utf-8 5539.6291ms
2025-09-10 10:21:50.290 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?Gender=Male - null null
2025-09-10 10:21:50.327 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 10:21:50.331 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 10:21:50.338 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:21:50.453 +01:00 [DBG] Successfully validated the token.
2025-09-10 10:21:50.458 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:21:50.467 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:21:50.474 +01:00 [DBG] Authorization was successful.
2025-09-10 10:21:50.479 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:21:50.528 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 10:21:50.540 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 10:21:50.547 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 10:21:50.555 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 10:21:50.564 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 10:21:50.572 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 10:21:50.585 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:21:50.707 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 10:21:50.912 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:21:50.972 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:21:50.984 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 10:21:51.002 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 10:21:51.014 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:21:51.026 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32' using the name 'DeptId' in request data ...
2025-09-10 10:21:51.034 +01:00 [DBG] Could not find a value in the request with name 'DeptId' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:21:51.042 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:21:51.048 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean' using the name 'IsActive' in request data ...
2025-09-10 10:21:51.056 +01:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:21:51.064 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:21:51.072 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:21:51.076 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:21:51.082 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:21:51.108 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:21:51.146 +01:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Include(e => e.Department)
    .Where(e => e.Gender == __filter_Gender_0)
    .Where(e => e.IsActive == __filter_IsActive_1)
    .Select(e => new EmployeeResponseDto{ 
        Id = e.Id, 
        Fullname = string.Format(
            format: "{0} {1} {2}", 
            arg0: e.Firstname, 
            arg1: e.Middlename, 
            arg2: e.Lastname), 
        Gender = e.Gender, 
        Email = e.Email, 
        Phone = e.Phone, 
        DOB = e.DOB, 
        Role = e.Role, 
        DeptId = e.DeptId, 
        DeptName = e.Department.DeptName, 
        IsActive = e.IsActive 
    }
    )'
2025-09-10 10:21:51.273 +01:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<EmployeeResponseDto>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
            5 -> 5
            6 -> 6
            7 -> 7
            8 -> 8
            9 -> 9
            10 -> 10
            11 -> 11
        SELECT e.Id, e.Firstname, e.Middlename, e.Lastname, e.Gender, e.Email, e.Phone, e.DOB, e.Role, e.DeptId, d.DeptName, e.IsActive
        FROM Employees AS e
        LEFT JOIN Departments AS d ON e.DeptId == d.DeptId
        WHERE (e.Gender == @__filter_Gender_0) && (e.IsActive == @__filter_IsActive_1)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
            5 -> 5
            6 -> 6
            7 -> 7
            8 -> 8
            9 -> 9
            10 -> 10
            11 -> 11
        SELECT e.Id, e.Firstname, e.Middlename, e.Lastname, e.Gender, e.Email, e.Phone, e.DOB, e.Role, e.DeptId, d.DeptName, e.IsActive
        FROM Employees AS e
        LEFT JOIN Departments AS d ON e.DeptId == d.DeptId
        WHERE (e.Gender == @__filter_Gender_0) && (e.IsActive == @__filter_IsActive_1), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        int? value1;
        string value2;
        string value3;
        string value4;
        string value5;
        string value6;
        string value7;
        DateOnly? value8;
        string value9;
        int? value10;
        string value11;
        bool? value12;
        value1 = (int?)dataReader.GetInt32(0);
        value2 = dataReader.GetString(1);
        value3 = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
        value4 = dataReader.GetString(3);
        value5 = dataReader.GetString(4);
        value6 = dataReader.GetString(5);
        value7 = dataReader.GetString(6);
        value8 = (DateOnly?)dataReader.GetFieldValue<DateOnly>(7);
        value9 = dataReader.GetString(8);
        value10 = dataReader.IsDBNull(9) ? default(int?) : (int?)dataReader.GetInt32(9);
        value11 = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
        value12 = (bool?)dataReader.GetBoolean(11);
        return new EmployeeResponseDto{ 
            Id = (int)value1, 
            Fullname = string.Format(
                format: "{0} {1} {2}", 
                arg0: value2, 
                arg1: value3, 
                arg2: value4), 
            Gender = value5, 
            Email = value6, 
            Phone = value7, 
            DOB = (DateOnly)value8, 
            Role = value9, 
            DeptId = value10, 
            DeptName = value11, 
            IsActive = (bool)value12 
        }
        ;
    }, 
    contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-10 10:21:51.288 +01:00 [DBG] Creating DbConnection.
2025-09-10 10:21:51.292 +01:00 [DBG] Created DbConnection. (4ms).
2025-09-10 10:21:51.299 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:21:51.305 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:21:51.311 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 10:21:51.316 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-10 10:21:51.324 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-09-10 10:21:51.334 +01:00 [DBG] Executing DbCommand [Parameters=[@__filter_Gender_0='?' (Size = 4000), @__filter_IsActive_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0 AND [e].[IsActive] = @__filter_IsActive_1
2025-09-10 10:21:51.403 +01:00 [INF] Executed DbCommand (72ms) [Parameters=[@__filter_Gender_0='?' (Size = 4000), @__filter_IsActive_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0 AND [e].[IsActive] = @__filter_IsActive_1
2025-09-10 10:21:51.420 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:21:51.426 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 12ms reading results.
2025-09-10 10:21:51.433 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:21:51.438 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (5ms).
2025-09-10 10:21:51.460 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 10:21:51.478 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-10 10:21:51.487 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 10:21:51.495 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 10:21:51.498 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 10:21:51.502 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 10:21:51.508 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto, CMSApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-10 10:21:51.551 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 965.1559ms
2025-09-10 10:21:51.557 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:21:51.561 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 10:21:51.585 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:21:51.589 +01:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-09-10 10:21:51.593 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?Gender=Male - 200 null application/json; charset=utf-8 1303.2202ms
2025-09-10 10:22:35.961 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?Gender=Male&DeptId=3 - null null
2025-09-10 10:22:35.986 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 10:22:35.991 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 10:22:35.998 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:22:36.003 +01:00 [DBG] Successfully validated the token.
2025-09-10 10:22:36.008 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:22:36.012 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:22:36.018 +01:00 [DBG] Authorization was successful.
2025-09-10 10:22:36.021 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:22:36.027 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 10:22:36.036 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 10:22:36.044 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 10:22:36.052 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 10:22:36.061 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 10:22:36.069 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 10:22:36.077 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:22:36.121 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 10:22:36.131 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:22:36.139 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:22:36.146 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 10:22:36.154 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 10:22:36.163 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:22:36.170 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32' using the name 'DeptId' in request data ...
2025-09-10 10:22:36.179 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:22:36.187 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean' using the name 'IsActive' in request data ...
2025-09-10 10:22:36.196 +01:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:22:36.204 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:22:36.211 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:22:36.218 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:22:36.225 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:22:36.231 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:22:36.243 +01:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Include(e => e.Department)
    .Where(e => e.Gender == __filter_Gender_0)
    .Where(e => e.DeptId == __filter_DeptId_1)
    .Where(e => e.IsActive == __filter_IsActive_2)
    .Select(e => new EmployeeResponseDto{ 
        Id = e.Id, 
        Fullname = string.Format(
            format: "{0} {1} {2}", 
            arg0: e.Firstname, 
            arg1: e.Middlename, 
            arg2: e.Lastname), 
        Gender = e.Gender, 
        Email = e.Email, 
        Phone = e.Phone, 
        DOB = e.DOB, 
        Role = e.Role, 
        DeptId = e.DeptId, 
        DeptName = e.Department.DeptName, 
        IsActive = e.IsActive 
    }
    )'
2025-09-10 10:22:36.261 +01:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<EmployeeResponseDto>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
            5 -> 5
            6 -> 6
            7 -> 7
            8 -> 8
            9 -> 9
            10 -> 10
            11 -> 11
        SELECT e.Id, e.Firstname, e.Middlename, e.Lastname, e.Gender, e.Email, e.Phone, e.DOB, e.Role, e.DeptId, d.DeptName, e.IsActive
        FROM Employees AS e
        LEFT JOIN Departments AS d ON e.DeptId == d.DeptId
        WHERE ((e.Gender == @__filter_Gender_0) && (e.DeptId == @__filter_DeptId_1)) && (e.IsActive == @__filter_IsActive_2)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
            5 -> 5
            6 -> 6
            7 -> 7
            8 -> 8
            9 -> 9
            10 -> 10
            11 -> 11
        SELECT e.Id, e.Firstname, e.Middlename, e.Lastname, e.Gender, e.Email, e.Phone, e.DOB, e.Role, e.DeptId, d.DeptName, e.IsActive
        FROM Employees AS e
        LEFT JOIN Departments AS d ON e.DeptId == d.DeptId
        WHERE ((e.Gender == @__filter_Gender_0) && (e.DeptId == @__filter_DeptId_1)) && (e.IsActive == @__filter_IsActive_2), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        int? value1;
        string value2;
        string value3;
        string value4;
        string value5;
        string value6;
        string value7;
        DateOnly? value8;
        string value9;
        int? value10;
        string value11;
        bool? value12;
        value1 = (int?)dataReader.GetInt32(0);
        value2 = dataReader.GetString(1);
        value3 = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
        value4 = dataReader.GetString(3);
        value5 = dataReader.GetString(4);
        value6 = dataReader.GetString(5);
        value7 = dataReader.GetString(6);
        value8 = (DateOnly?)dataReader.GetFieldValue<DateOnly>(7);
        value9 = dataReader.GetString(8);
        value10 = dataReader.IsDBNull(9) ? default(int?) : (int?)dataReader.GetInt32(9);
        value11 = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
        value12 = (bool?)dataReader.GetBoolean(11);
        return new EmployeeResponseDto{ 
            Id = (int)value1, 
            Fullname = string.Format(
                format: "{0} {1} {2}", 
                arg0: value2, 
                arg1: value3, 
                arg2: value4), 
            Gender = value5, 
            Email = value6, 
            Phone = value7, 
            DOB = (DateOnly)value8, 
            Role = value9, 
            DeptId = value10, 
            DeptName = value11, 
            IsActive = (bool)value12 
        }
        ;
    }, 
    contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-10 10:22:36.273 +01:00 [DBG] Creating DbConnection.
2025-09-10 10:22:36.276 +01:00 [DBG] Created DbConnection. (3ms).
2025-09-10 10:22:36.281 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:22:36.288 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:22:36.294 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 10:22:36.300 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-09-10 10:22:36.306 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-09-10 10:22:36.312 +01:00 [DBG] Executing DbCommand [Parameters=[@__filter_Gender_0='?' (Size = 4000), @__filter_DeptId_1='?' (DbType = Int32), @__filter_IsActive_2='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0 AND [e].[DeptId] = @__filter_DeptId_1 AND [e].[IsActive] = @__filter_IsActive_2
2025-09-10 10:22:36.358 +01:00 [INF] Executed DbCommand (45ms) [Parameters=[@__filter_Gender_0='?' (Size = 4000), @__filter_DeptId_1='?' (DbType = Int32), @__filter_IsActive_2='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0 AND [e].[DeptId] = @__filter_DeptId_1 AND [e].[IsActive] = @__filter_IsActive_2
2025-09-10 10:22:36.366 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:22:36.372 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-09-10 10:22:36.378 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:22:36.384 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (5ms).
2025-09-10 10:22:36.391 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 10:22:36.400 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-10 10:22:36.406 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 10:22:36.412 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 10:22:36.418 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 10:22:36.422 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 10:22:36.428 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto, CMSApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-10 10:22:36.436 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 358.9675ms
2025-09-10 10:22:36.457 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:22:36.462 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 10:22:36.468 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:22:36.474 +01:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-09-10 10:22:36.481 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?Gender=Male&DeptId=3 - 200 null application/json; charset=utf-8 519.5108ms
2025-09-10 10:22:53.827 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?DeptId=3 - null null
2025-09-10 10:22:53.835 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 10:22:53.855 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 10:22:53.865 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:22:53.871 +01:00 [DBG] Successfully validated the token.
2025-09-10 10:22:53.874 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:22:53.879 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:22:53.884 +01:00 [DBG] Authorization was successful.
2025-09-10 10:22:53.888 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:22:53.892 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 10:22:53.903 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 10:22:53.909 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 10:22:53.916 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 10:22:53.924 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 10:22:53.930 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 10:22:53.937 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:22:53.952 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 10:22:53.962 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:22:53.969 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:22:53.976 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 10:22:53.984 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 10:22:53.992 +01:00 [DBG] Could not find a value in the request with name 'Gender' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:22:54.002 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:22:54.009 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32' using the name 'DeptId' in request data ...
2025-09-10 10:22:54.019 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:22:54.026 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean' using the name 'IsActive' in request data ...
2025-09-10 10:22:54.036 +01:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:22:54.045 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:22:54.053 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:22:54.060 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:22:54.066 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:22:54.075 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:22:54.083 +01:00 [DBG] The request has model state errors, returning an error response.
2025-09-10 10:22:54.090 +01:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-09-10 10:22:54.095 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 10:22:54.107 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-09-10 10:22:54.121 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 10:22:54.129 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-09-10 10:22:54.142 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-09-10 10:22:54.149 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-10 10:22:54.183 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 246.0006ms
2025-09-10 10:22:54.190 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:22:54.195 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 10:22:54.201 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?DeptId=3 - 400 null application/problem+json; charset=utf-8 373.7347ms
2025-09-10 10:23:11.243 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?IsActive=true - null null
2025-09-10 10:23:11.264 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 10:23:11.272 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 10:23:11.280 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:23:11.286 +01:00 [DBG] Successfully validated the token.
2025-09-10 10:23:11.289 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:23:11.295 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:23:11.301 +01:00 [DBG] Authorization was successful.
2025-09-10 10:23:11.304 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:23:11.310 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 10:23:11.319 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 10:23:11.325 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 10:23:11.331 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 10:23:11.340 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 10:23:11.347 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 10:23:11.352 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:23:11.362 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 10:23:11.370 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:23:11.376 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:23:11.382 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 10:23:11.388 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 10:23:11.397 +01:00 [DBG] Could not find a value in the request with name 'Gender' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:23:11.403 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:23:11.409 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32' using the name 'DeptId' in request data ...
2025-09-10 10:23:11.417 +01:00 [DBG] Could not find a value in the request with name 'DeptId' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:23:11.424 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:23:11.434 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean' using the name 'IsActive' in request data ...
2025-09-10 10:23:11.444 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:23:11.452 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:23:11.459 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:23:11.466 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:23:11.473 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:23:11.480 +01:00 [DBG] The request has model state errors, returning an error response.
2025-09-10 10:23:11.485 +01:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-09-10 10:23:11.490 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 10:23:11.501 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-09-10 10:23:11.515 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 10:23:11.521 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-09-10 10:23:11.537 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-09-10 10:23:11.551 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-10 10:23:11.558 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 205.5512ms
2025-09-10 10:23:11.564 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:23:11.569 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 10:23:11.573 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?IsActive=true - 400 null application/problem+json; charset=utf-8 329.9432ms
2025-09-10 10:23:17.463 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?IsActive=true - null null
2025-09-10 10:23:17.473 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 10:23:17.477 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 10:23:17.483 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:23:17.487 +01:00 [DBG] Successfully validated the token.
2025-09-10 10:23:17.490 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:23:17.495 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:23:17.500 +01:00 [DBG] Authorization was successful.
2025-09-10 10:23:17.503 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:23:17.508 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 10:23:17.516 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 10:23:17.523 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 10:23:17.529 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 10:23:17.538 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 10:23:17.546 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 10:23:17.554 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:23:17.563 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 10:23:17.573 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:23:17.579 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:23:17.584 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 10:23:17.591 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 10:23:17.600 +01:00 [DBG] Could not find a value in the request with name 'Gender' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:23:17.610 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:23:17.616 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32' using the name 'DeptId' in request data ...
2025-09-10 10:23:17.624 +01:00 [DBG] Could not find a value in the request with name 'DeptId' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:23:17.631 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:23:17.637 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean' using the name 'IsActive' in request data ...
2025-09-10 10:23:17.644 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:23:17.650 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:23:17.653 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:23:17.658 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:23:17.663 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:23:17.668 +01:00 [DBG] The request has model state errors, returning an error response.
2025-09-10 10:23:17.671 +01:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-09-10 10:23:17.676 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 10:23:17.683 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-09-10 10:23:17.695 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 10:23:17.702 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-09-10 10:23:17.713 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-09-10 10:23:17.719 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-10 10:23:17.727 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 173.7482ms
2025-09-10 10:23:17.733 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:23:17.738 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 10:23:17.744 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?IsActive=true - 400 null application/problem+json; charset=utf-8 280.3399ms
2025-09-10 10:23:27.135 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?Gender=Female&IsActive=true - null null
2025-09-10 10:23:27.158 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 10:23:27.167 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 10:23:27.172 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:23:27.177 +01:00 [DBG] Successfully validated the token.
2025-09-10 10:23:27.181 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:23:27.184 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:23:27.189 +01:00 [DBG] Authorization was successful.
2025-09-10 10:23:27.193 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:23:27.199 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 10:23:27.206 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 10:23:27.213 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 10:23:27.220 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 10:23:27.229 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 10:23:27.237 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 10:23:27.244 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:23:27.251 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 10:23:27.258 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:23:27.266 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:23:27.272 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 10:23:27.281 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 10:23:27.290 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:23:27.297 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32' using the name 'DeptId' in request data ...
2025-09-10 10:23:27.306 +01:00 [DBG] Could not find a value in the request with name 'DeptId' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:23:27.315 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:23:27.322 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean' using the name 'IsActive' in request data ...
2025-09-10 10:23:27.332 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:23:27.340 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:23:27.346 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:23:27.352 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:23:27.358 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:23:27.373 +01:00 [DBG] Creating DbConnection.
2025-09-10 10:23:27.377 +01:00 [DBG] Created DbConnection. (4ms).
2025-09-10 10:23:27.382 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:23:27.389 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:23:27.396 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 10:23:27.401 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-10 10:23:27.408 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-09-10 10:23:27.415 +01:00 [DBG] Executing DbCommand [Parameters=[@__filter_Gender_0='?' (Size = 4000), @__filter_IsActive_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0 AND [e].[IsActive] = @__filter_IsActive_1
2025-09-10 10:23:27.461 +01:00 [INF] Executed DbCommand (47ms) [Parameters=[@__filter_Gender_0='?' (Size = 4000), @__filter_IsActive_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0 AND [e].[IsActive] = @__filter_IsActive_1
2025-09-10 10:23:27.472 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:23:27.479 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-09-10 10:23:27.487 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:23:27.493 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (6ms).
2025-09-10 10:23:27.502 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 10:23:27.513 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-10 10:23:27.520 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 10:23:27.526 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 10:23:27.530 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 10:23:27.534 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 10:23:27.540 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto, CMSApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-10 10:23:27.547 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 303.2215ms
2025-09-10 10:23:27.553 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:23:27.558 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 10:23:27.564 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:23:27.568 +01:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-09-10 10:23:27.574 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?Gender=Female&IsActive=true - 200 null application/json; charset=utf-8 439.0224ms
2025-09-10 10:23:55.969 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?Gender=Female&IsActive=false - null null
2025-09-10 10:23:55.988 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 10:23:55.992 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 10:23:56.000 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:23:56.004 +01:00 [DBG] Successfully validated the token.
2025-09-10 10:23:56.008 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:23:56.013 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:23:56.018 +01:00 [DBG] Authorization was successful.
2025-09-10 10:23:56.022 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:23:56.027 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 10:23:56.035 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 10:23:56.042 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 10:23:56.058 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 10:23:56.066 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 10:23:56.072 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 10:23:56.078 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:23:56.087 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 10:23:56.096 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:23:56.102 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:23:56.108 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 10:23:56.115 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 10:23:56.122 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:23:56.130 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32' using the name 'DeptId' in request data ...
2025-09-10 10:23:56.140 +01:00 [DBG] Could not find a value in the request with name 'DeptId' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:23:56.149 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:23:56.156 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean' using the name 'IsActive' in request data ...
2025-09-10 10:23:56.166 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:23:56.173 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:23:56.209 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:23:56.214 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:23:56.221 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:23:56.229 +01:00 [DBG] Creating DbConnection.
2025-09-10 10:23:56.233 +01:00 [DBG] Created DbConnection. (3ms).
2025-09-10 10:23:56.238 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:23:56.244 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:23:56.249 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 10:23:56.254 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-09-10 10:23:56.260 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-09-10 10:23:56.265 +01:00 [DBG] Executing DbCommand [Parameters=[@__filter_Gender_0='?' (Size = 4000), @__filter_IsActive_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0 AND [e].[IsActive] = @__filter_IsActive_1
2025-09-10 10:23:56.304 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[@__filter_Gender_0='?' (Size = 4000), @__filter_IsActive_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0 AND [e].[IsActive] = @__filter_IsActive_1
2025-09-10 10:23:56.315 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:23:56.321 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-09-10 10:23:56.328 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:23:56.334 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (5ms).
2025-09-10 10:23:56.340 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 10:23:56.351 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-10 10:23:56.358 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 10:23:56.363 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 10:23:56.366 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 10:23:56.369 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 10:23:56.375 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto, CMSApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-10 10:23:56.382 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 303.7205ms
2025-09-10 10:23:56.388 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:23:56.393 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 10:23:56.398 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:23:56.403 +01:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-09-10 10:23:56.409 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?Gender=Female&IsActive=false - 200 null application/json; charset=utf-8 439.5769ms
2025-09-10 10:24:12.069 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?Gender=male&IsActive=false - null null
2025-09-10 10:24:12.091 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 10:24:12.100 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 10:24:12.107 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:24:12.113 +01:00 [DBG] Successfully validated the token.
2025-09-10 10:24:12.117 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:24:12.121 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:24:12.125 +01:00 [DBG] Authorization was successful.
2025-09-10 10:24:12.130 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:24:12.135 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 10:24:12.143 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 10:24:12.150 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 10:24:12.158 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 10:24:12.169 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 10:24:12.177 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 10:24:12.185 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:24:12.208 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 10:24:12.219 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:24:12.225 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:24:12.232 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 10:24:12.240 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 10:24:12.249 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:24:12.257 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32' using the name 'DeptId' in request data ...
2025-09-10 10:24:12.267 +01:00 [DBG] Could not find a value in the request with name 'DeptId' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:24:12.275 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:24:12.282 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean' using the name 'IsActive' in request data ...
2025-09-10 10:24:12.290 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:24:12.297 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:24:12.304 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:24:12.311 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:24:12.318 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:24:12.325 +01:00 [DBG] Creating DbConnection.
2025-09-10 10:24:12.332 +01:00 [DBG] Created DbConnection. (6ms).
2025-09-10 10:24:12.337 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:24:12.343 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:24:12.353 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 10:24:12.358 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-09-10 10:24:12.366 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-09-10 10:24:12.372 +01:00 [DBG] Executing DbCommand [Parameters=[@__filter_Gender_0='?' (Size = 4000), @__filter_IsActive_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0 AND [e].[IsActive] = @__filter_IsActive_1
2025-09-10 10:24:12.385 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__filter_Gender_0='?' (Size = 4000), @__filter_IsActive_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0 AND [e].[IsActive] = @__filter_IsActive_1
2025-09-10 10:24:12.396 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:24:12.402 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-09-10 10:24:12.410 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:24:12.418 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (8ms).
2025-09-10 10:24:12.427 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 10:24:12.437 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-10 10:24:12.445 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 10:24:12.452 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 10:24:12.456 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 10:24:12.460 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 10:24:12.466 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto, CMSApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-10 10:24:12.473 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 287.8971ms
2025-09-10 10:24:12.479 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:24:12.485 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 10:24:12.489 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:24:12.496 +01:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-09-10 10:24:12.503 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?Gender=male&IsActive=false - 200 null application/json; charset=utf-8 434.0764ms
2025-09-10 10:24:22.387 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?Gender=male - null null
2025-09-10 10:24:22.396 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 10:24:22.399 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 10:24:22.406 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:24:22.411 +01:00 [DBG] Successfully validated the token.
2025-09-10 10:24:22.414 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:24:22.417 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:24:22.422 +01:00 [DBG] Authorization was successful.
2025-09-10 10:24:22.425 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:24:22.428 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 10:24:22.436 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 10:24:22.444 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 10:24:22.451 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 10:24:22.461 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 10:24:22.468 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 10:24:22.475 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:24:22.484 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 10:24:22.493 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:24:22.500 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:24:22.507 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 10:24:22.517 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 10:24:22.526 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:24:22.534 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32' using the name 'DeptId' in request data ...
2025-09-10 10:24:22.544 +01:00 [DBG] Could not find a value in the request with name 'DeptId' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:24:22.553 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:24:22.561 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean' using the name 'IsActive' in request data ...
2025-09-10 10:24:22.570 +01:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:24:22.579 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:24:22.587 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:24:22.594 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:24:22.600 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:24:22.607 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:24:22.615 +01:00 [DBG] Creating DbConnection.
2025-09-10 10:24:22.620 +01:00 [DBG] Created DbConnection. (5ms).
2025-09-10 10:24:22.624 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:24:22.630 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:24:22.636 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 10:24:22.640 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-09-10 10:24:22.645 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-09-10 10:24:22.652 +01:00 [DBG] Executing DbCommand [Parameters=[@__filter_Gender_0='?' (Size = 4000), @__filter_IsActive_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0 AND [e].[IsActive] = @__filter_IsActive_1
2025-09-10 10:24:22.662 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__filter_Gender_0='?' (Size = 4000), @__filter_IsActive_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0 AND [e].[IsActive] = @__filter_IsActive_1
2025-09-10 10:24:22.672 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:24:22.677 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-09-10 10:24:22.684 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:24:22.690 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (6ms).
2025-09-10 10:24:22.696 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 10:24:22.705 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-10 10:24:22.710 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 10:24:22.716 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 10:24:22.720 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 10:24:22.724 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 10:24:22.730 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto, CMSApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-10 10:24:22.737 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 261.4137ms
2025-09-10 10:24:22.743 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:24:22.747 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 10:24:22.752 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:24:22.759 +01:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-09-10 10:24:22.765 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?Gender=male - 200 null application/json; charset=utf-8 378.3624ms
2025-09-10 10:24:30.249 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?Gender=male - null null
2025-09-10 10:24:30.259 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 10:24:30.264 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 10:24:30.269 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:24:30.274 +01:00 [DBG] Successfully validated the token.
2025-09-10 10:24:30.277 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:24:30.282 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:24:30.287 +01:00 [DBG] Authorization was successful.
2025-09-10 10:24:30.292 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:24:30.297 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 10:24:30.305 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 10:24:30.311 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 10:24:30.318 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 10:24:30.328 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 10:24:30.335 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 10:24:30.342 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:24:30.350 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 10:24:30.358 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:24:30.364 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:24:30.370 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 10:24:30.377 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 10:24:30.384 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:24:30.390 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32' using the name 'DeptId' in request data ...
2025-09-10 10:24:30.399 +01:00 [DBG] Could not find a value in the request with name 'DeptId' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:24:30.408 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:24:30.415 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean' using the name 'IsActive' in request data ...
2025-09-10 10:24:30.425 +01:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:24:30.433 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:24:30.441 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:24:30.448 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:24:30.453 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:24:30.461 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:24:30.468 +01:00 [DBG] Creating DbConnection.
2025-09-10 10:24:30.472 +01:00 [DBG] Created DbConnection. (3ms).
2025-09-10 10:24:30.478 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:24:30.483 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:24:30.489 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 10:24:30.496 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-09-10 10:24:30.500 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-09-10 10:24:30.505 +01:00 [DBG] Executing DbCommand [Parameters=[@__filter_Gender_0='?' (Size = 4000), @__filter_IsActive_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0 AND [e].[IsActive] = @__filter_IsActive_1
2025-09-10 10:24:30.518 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__filter_Gender_0='?' (Size = 4000), @__filter_IsActive_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0 AND [e].[IsActive] = @__filter_IsActive_1
2025-09-10 10:24:30.528 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:24:30.533 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-09-10 10:24:30.541 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:24:30.547 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (5ms).
2025-09-10 10:24:30.554 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 10:24:30.563 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-10 10:24:30.568 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 10:24:30.574 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 10:24:30.578 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 10:24:30.581 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 10:24:30.585 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto, CMSApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-10 10:24:30.590 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 248.6509ms
2025-09-10 10:24:30.596 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:24:30.601 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 10:24:30.604 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:24:30.609 +01:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-09-10 10:24:30.614 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?Gender=male - 200 null application/json; charset=utf-8 365.2692ms
2025-09-10 10:24:41.765 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?Gender=Female - null null
2025-09-10 10:24:41.777 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 10:24:41.781 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 10:24:41.788 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:24:41.794 +01:00 [DBG] Successfully validated the token.
2025-09-10 10:24:41.798 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:24:41.803 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:24:41.807 +01:00 [DBG] Authorization was successful.
2025-09-10 10:24:41.811 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:24:41.817 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 10:24:41.826 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 10:24:41.834 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 10:24:41.840 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 10:24:41.849 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 10:24:41.856 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 10:24:41.865 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:24:41.872 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 10:24:41.882 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:24:41.888 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:24:41.893 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 10:24:41.901 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 10:24:41.910 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:24:41.918 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32' using the name 'DeptId' in request data ...
2025-09-10 10:24:41.926 +01:00 [DBG] Could not find a value in the request with name 'DeptId' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:24:41.933 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:24:41.940 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean' using the name 'IsActive' in request data ...
2025-09-10 10:24:41.953 +01:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:24:41.962 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:24:41.970 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:24:41.977 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:24:41.984 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:24:41.991 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:24:41.999 +01:00 [DBG] Creating DbConnection.
2025-09-10 10:24:42.003 +01:00 [DBG] Created DbConnection. (4ms).
2025-09-10 10:24:42.008 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:24:42.016 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:24:42.022 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 10:24:42.026 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-09-10 10:24:42.032 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-09-10 10:24:42.040 +01:00 [DBG] Executing DbCommand [Parameters=[@__filter_Gender_0='?' (Size = 4000), @__filter_IsActive_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0 AND [e].[IsActive] = @__filter_IsActive_1
2025-09-10 10:24:42.050 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__filter_Gender_0='?' (Size = 4000), @__filter_IsActive_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0 AND [e].[IsActive] = @__filter_IsActive_1
2025-09-10 10:24:42.060 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:24:42.066 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-09-10 10:24:42.072 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:24:42.078 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (5ms).
2025-09-10 10:24:42.086 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 10:24:42.097 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-10 10:24:42.104 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 10:24:42.111 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 10:24:42.116 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 10:24:42.120 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 10:24:42.127 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto, CMSApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-10 10:24:42.134 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 269.2584ms
2025-09-10 10:24:42.139 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:24:42.144 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 10:24:42.149 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:24:42.155 +01:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-09-10 10:24:42.163 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?Gender=Female - 200 null application/json; charset=utf-8 397.3056ms
2025-09-10 10:25:10.217 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?Gender=Male - null null
2025-09-10 10:25:10.234 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 10:25:10.240 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 10:25:10.246 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:25:10.252 +01:00 [DBG] Successfully validated the token.
2025-09-10 10:25:10.256 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:25:10.261 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:25:10.267 +01:00 [DBG] Authorization was successful.
2025-09-10 10:25:10.271 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:25:10.275 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 10:25:10.284 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 10:25:10.290 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 10:25:10.297 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 10:25:10.306 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 10:25:10.314 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 10:25:10.321 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:25:10.330 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 10:25:10.339 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:25:10.344 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:25:10.351 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 10:25:10.357 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 10:25:10.364 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:25:10.370 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32' using the name 'DeptId' in request data ...
2025-09-10 10:25:10.377 +01:00 [DBG] Could not find a value in the request with name 'DeptId' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:25:10.386 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:25:10.392 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean' using the name 'IsActive' in request data ...
2025-09-10 10:25:10.399 +01:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:25:10.406 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:25:10.412 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:25:10.417 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:25:10.422 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:25:10.427 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:25:10.434 +01:00 [DBG] Creating DbConnection.
2025-09-10 10:25:10.438 +01:00 [DBG] Created DbConnection. (3ms).
2025-09-10 10:25:10.443 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:25:10.449 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:25:10.455 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 10:25:10.460 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-09-10 10:25:10.468 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-09-10 10:25:10.474 +01:00 [DBG] Executing DbCommand [Parameters=[@__filter_Gender_0='?' (Size = 4000), @__filter_IsActive_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0 AND [e].[IsActive] = @__filter_IsActive_1
2025-09-10 10:25:10.504 +01:00 [INF] Executed DbCommand (30ms) [Parameters=[@__filter_Gender_0='?' (Size = 4000), @__filter_IsActive_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0 AND [e].[IsActive] = @__filter_IsActive_1
2025-09-10 10:25:10.513 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:25:10.520 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-09-10 10:25:10.527 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:25:10.533 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (6ms).
2025-09-10 10:25:10.541 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 10:25:10.553 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-10 10:25:10.560 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 10:25:10.566 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 10:25:10.569 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 10:25:10.574 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 10:25:10.580 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto, CMSApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-10 10:25:10.586 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 264.9921ms
2025-09-10 10:25:10.593 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:25:10.597 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 10:25:10.605 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:25:10.610 +01:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-09-10 10:25:10.617 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?Gender=Male - 200 null application/json; charset=utf-8 400.0644ms
2025-09-10 10:25:25.397 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?DeptId=1 - null null
2025-09-10 10:25:25.406 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 10:25:25.410 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 10:25:25.416 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:25:25.421 +01:00 [DBG] Successfully validated the token.
2025-09-10 10:25:25.425 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:25:25.430 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:25:25.434 +01:00 [DBG] Authorization was successful.
2025-09-10 10:25:25.438 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:25:25.442 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 10:25:25.452 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 10:25:25.458 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 10:25:25.464 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 10:25:25.473 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 10:25:25.481 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 10:25:25.487 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:25:25.493 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 10:25:25.503 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:25:25.509 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:25:25.515 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 10:25:25.521 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 10:25:25.526 +01:00 [DBG] Could not find a value in the request with name 'Gender' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:25:25.531 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:25:25.536 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32' using the name 'DeptId' in request data ...
2025-09-10 10:25:25.542 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:25:25.546 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean' using the name 'IsActive' in request data ...
2025-09-10 10:25:25.551 +01:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:25:25.556 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:25:25.560 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:25:25.563 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:25:25.567 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:25:25.571 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:25:25.575 +01:00 [DBG] The request has model state errors, returning an error response.
2025-09-10 10:25:25.578 +01:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-09-10 10:25:25.582 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 10:25:25.593 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-09-10 10:25:25.607 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 10:25:25.612 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-09-10 10:25:25.621 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-09-10 10:25:25.625 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-10 10:25:25.630 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 142.545ms
2025-09-10 10:25:25.647 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:25:25.652 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 10:25:25.657 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?DeptId=1 - 400 null application/problem+json; charset=utf-8 259.9585ms
2025-09-10 10:26:51.770 +01:00 [DBG] Connection id "0HNFG9CQHV49T" received FIN.
2025-09-10 10:26:51.801 +01:00 [DBG] Connection id "0HNFG9CQHV49T" is closed. The last processed stream ID was 37.
2025-09-10 10:26:51.803 +01:00 [DBG] The connection queue processing loop for 0HNFG9CQHV49T completed.
2025-09-10 10:26:51.808 +01:00 [DBG] Connection id "0HNFG9CQHV49T" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-10 10:26:51.834 +01:00 [DBG] Connection id "0HNFG9CQHV49T" stopped.
2025-09-10 10:29:45.312 +01:00 [DBG] Connection id "0HNFG9CQHV49U" accepted.
2025-09-10 10:29:45.348 +01:00 [DBG] Connection id "0HNFG9CQHV49U" started.
2025-09-10 10:29:45.361 +01:00 [DBG] Connection 0HNFG9CQHV49U established using the following protocol: "Tls13"
2025-09-10 10:29:45.369 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee - null null
2025-09-10 10:29:45.400 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 10:29:45.407 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 10:29:45.418 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:29:45.425 +01:00 [DBG] Successfully validated the token.
2025-09-10 10:29:45.431 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:29:45.438 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:29:45.445 +01:00 [DBG] Authorization was successful.
2025-09-10 10:29:45.451 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:29:45.457 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 10:29:45.466 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 10:29:45.474 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 10:29:45.480 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 10:29:45.490 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 10:29:45.497 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 10:29:45.504 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:29:45.512 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 10:29:45.523 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:29:45.531 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:29:45.539 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 10:29:45.548 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 10:29:45.557 +01:00 [DBG] Could not find a value in the request with name 'Gender' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:29:45.568 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:29:45.576 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32' using the name 'DeptId' in request data ...
2025-09-10 10:29:45.586 +01:00 [DBG] Could not find a value in the request with name 'DeptId' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:29:45.597 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:29:45.606 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean' using the name 'IsActive' in request data ...
2025-09-10 10:29:45.616 +01:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:29:45.626 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:29:45.635 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:29:45.642 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:29:45.650 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:29:45.656 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:29:45.663 +01:00 [DBG] The request has model state errors, returning an error response.
2025-09-10 10:29:45.668 +01:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-09-10 10:29:45.672 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 10:29:45.682 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-09-10 10:29:45.699 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 10:29:45.704 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-09-10 10:29:45.714 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-09-10 10:29:45.720 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-10 10:29:45.727 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 223.029ms
2025-09-10 10:29:45.733 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:29:45.738 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 10:29:45.743 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee - 400 null application/problem+json; charset=utf-8 374.4209ms
2025-09-10 10:29:56.578 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?Gender=ash - null null
2025-09-10 10:29:56.601 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 10:29:56.606 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 10:29:56.612 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:29:56.617 +01:00 [DBG] Successfully validated the token.
2025-09-10 10:29:56.620 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:29:56.626 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:29:56.630 +01:00 [DBG] Authorization was successful.
2025-09-10 10:29:56.633 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:29:56.639 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 10:29:56.647 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 10:29:56.654 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 10:29:56.661 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 10:29:56.669 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 10:29:56.676 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 10:29:56.683 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:29:56.691 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 10:29:56.700 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:29:56.706 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:29:56.712 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 10:29:56.720 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 10:29:56.729 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:29:56.737 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32' using the name 'DeptId' in request data ...
2025-09-10 10:29:56.746 +01:00 [DBG] Could not find a value in the request with name 'DeptId' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:29:56.756 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:29:56.763 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean' using the name 'IsActive' in request data ...
2025-09-10 10:29:56.772 +01:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:29:56.781 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:29:56.789 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:29:56.795 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:29:56.802 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:29:56.809 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:29:56.817 +01:00 [DBG] Creating DbConnection.
2025-09-10 10:29:56.822 +01:00 [DBG] Created DbConnection. (4ms).
2025-09-10 10:29:56.827 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:29:56.833 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:29:56.840 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 10:29:56.846 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-10 10:29:56.851 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-09-10 10:29:56.859 +01:00 [DBG] Executing DbCommand [Parameters=[@__filter_Gender_0='?' (Size = 4000), @__filter_IsActive_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0 AND [e].[IsActive] = @__filter_IsActive_1
2025-09-10 10:29:56.895 +01:00 [INF] Executed DbCommand (36ms) [Parameters=[@__filter_Gender_0='?' (Size = 4000), @__filter_IsActive_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0 AND [e].[IsActive] = @__filter_IsActive_1
2025-09-10 10:29:56.909 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:29:56.917 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 8ms reading results.
2025-09-10 10:29:56.926 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:29:56.933 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (6ms).
2025-09-10 10:30:19.821 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 23137.8565ms
2025-09-10 10:30:19.840 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:30:19.862 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: No Employee found
   at CMSApi.Application.Services.EmployeeService.GetAllEmployees(Filter filter) in C:\Users\HP\Documents\repos\CMSApi\CMSApi\Application\Services\EmployeeService.cs:line 85
   at CMSApi.Presentation.Controllers.EmployeeController.GetAll(Filter filter) in C:\Users\HP\Documents\repos\CMSApi\CMSApi\Presentation\Controllers\EmployeeController.cs:line 23
   at lambda_method172(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-10 10:30:20.082 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 10:30:20.120 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:30:20.131 +01:00 [DBG] Disposed connection to database '' on server '' (11ms).
2025-09-10 10:30:20.147 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?Gender=ash - 500 null text/plain; charset=utf-8 23568.5629ms
2025-09-10 10:30:22.256 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?Gender=male - null null
2025-09-10 10:30:22.267 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 10:30:22.291 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 10:30:22.299 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:30:22.306 +01:00 [DBG] Successfully validated the token.
2025-09-10 10:30:22.312 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:30:22.318 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:30:22.325 +01:00 [DBG] Authorization was successful.
2025-09-10 10:30:22.330 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:30:22.336 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 10:30:22.348 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 10:30:22.357 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 10:30:22.367 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 10:30:22.377 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 10:30:22.387 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 10:30:22.396 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:30:22.405 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 10:30:22.417 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:30:22.425 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:30:22.434 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 10:30:22.443 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 10:30:22.453 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:30:22.461 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32' using the name 'DeptId' in request data ...
2025-09-10 10:30:22.470 +01:00 [DBG] Could not find a value in the request with name 'DeptId' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:30:22.480 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:30:22.488 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean' using the name 'IsActive' in request data ...
2025-09-10 10:30:22.498 +01:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:30:22.507 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:30:22.515 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:30:22.519 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:30:22.523 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:30:22.533 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:30:22.542 +01:00 [DBG] Creating DbConnection.
2025-09-10 10:30:22.544 +01:00 [DBG] Created DbConnection. (2ms).
2025-09-10 10:30:22.548 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:30:22.553 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:30:22.558 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 10:30:22.562 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-09-10 10:30:22.567 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-09-10 10:30:22.572 +01:00 [DBG] Executing DbCommand [Parameters=[@__filter_Gender_0='?' (Size = 4000), @__filter_IsActive_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0 AND [e].[IsActive] = @__filter_IsActive_1
2025-09-10 10:30:22.598 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__filter_Gender_0='?' (Size = 4000), @__filter_IsActive_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0 AND [e].[IsActive] = @__filter_IsActive_1
2025-09-10 10:30:22.611 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:30:22.618 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-09-10 10:30:22.626 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:30:22.633 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (7ms).
2025-09-10 10:30:22.639 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 10:30:22.647 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-10 10:30:22.649 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 10:30:22.652 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 10:30:22.653 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 10:30:22.656 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 10:30:22.660 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto, CMSApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-10 10:30:22.662 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 265.8108ms
2025-09-10 10:30:22.665 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:30:22.667 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 10:30:22.669 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:30:22.674 +01:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-09-10 10:30:22.678 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?Gender=male - 200 null application/json; charset=utf-8 422.773ms
2025-09-10 10:30:31.712 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?Gender=males - null null
2025-09-10 10:30:31.723 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 10:30:31.727 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 10:30:31.733 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:30:31.738 +01:00 [DBG] Successfully validated the token.
2025-09-10 10:30:31.741 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:30:31.746 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:30:31.751 +01:00 [DBG] Authorization was successful.
2025-09-10 10:30:31.755 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:30:31.760 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 10:30:31.769 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 10:30:31.775 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 10:30:31.784 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 10:30:31.791 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 10:30:31.797 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 10:30:31.804 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:30:31.814 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 10:30:31.823 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:30:31.829 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:30:31.837 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 10:30:31.843 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 10:30:31.851 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:30:31.858 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32' using the name 'DeptId' in request data ...
2025-09-10 10:30:31.869 +01:00 [DBG] Could not find a value in the request with name 'DeptId' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:30:31.876 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:30:31.884 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean' using the name 'IsActive' in request data ...
2025-09-10 10:30:31.891 +01:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:30:31.900 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:30:31.906 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:30:31.912 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:30:31.919 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:30:31.924 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:30:31.934 +01:00 [DBG] Creating DbConnection.
2025-09-10 10:30:31.938 +01:00 [DBG] Created DbConnection. (3ms).
2025-09-10 10:30:31.944 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:30:31.953 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:30:31.958 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 10:30:31.962 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-09-10 10:30:31.970 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-09-10 10:30:31.975 +01:00 [DBG] Executing DbCommand [Parameters=[@__filter_Gender_0='?' (Size = 4000), @__filter_IsActive_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0 AND [e].[IsActive] = @__filter_IsActive_1
2025-09-10 10:30:31.986 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__filter_Gender_0='?' (Size = 4000), @__filter_IsActive_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0 AND [e].[IsActive] = @__filter_IsActive_1
2025-09-10 10:30:31.996 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:30:32.003 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-09-10 10:30:32.011 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:30:32.018 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (7ms).
2025-09-10 10:30:43.053 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 11248.1514ms
2025-09-10 10:30:43.060 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:30:43.068 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: No Employee found
   at CMSApi.Application.Services.EmployeeService.GetAllEmployees(Filter filter) in C:\Users\HP\Documents\repos\CMSApi\CMSApi\Application\Services\EmployeeService.cs:line 85
   at CMSApi.Presentation.Controllers.EmployeeController.GetAll(Filter filter) in C:\Users\HP\Documents\repos\CMSApi\CMSApi\Presentation\Controllers\EmployeeController.cs:line 23
   at lambda_method172(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-10 10:30:43.090 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 10:30:43.094 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:30:43.100 +01:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-09-10 10:30:43.106 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?Gender=males - 500 null text/plain; charset=utf-8 11394.4866ms
2025-09-10 10:30:45.304 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?Gender=female - null null
2025-09-10 10:30:45.317 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 10:30:45.323 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 10:30:45.331 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:30:45.337 +01:00 [DBG] Successfully validated the token.
2025-09-10 10:30:45.343 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:30:45.347 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:30:45.352 +01:00 [DBG] Authorization was successful.
2025-09-10 10:30:45.356 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:30:45.359 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 10:30:45.362 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 10:30:45.368 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 10:30:45.372 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 10:30:45.375 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 10:30:45.377 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 10:30:45.382 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:30:45.388 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 10:30:45.395 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:30:45.401 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:30:45.407 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 10:30:45.414 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 10:30:45.425 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:30:45.430 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32' using the name 'DeptId' in request data ...
2025-09-10 10:30:45.439 +01:00 [DBG] Could not find a value in the request with name 'DeptId' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:30:45.443 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:30:45.447 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean' using the name 'IsActive' in request data ...
2025-09-10 10:30:45.452 +01:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:30:45.455 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:30:45.458 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:30:45.460 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:30:45.463 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:30:45.467 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:30:45.470 +01:00 [DBG] Creating DbConnection.
2025-09-10 10:30:45.472 +01:00 [DBG] Created DbConnection. (1ms).
2025-09-10 10:30:45.473 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:30:45.475 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:30:45.478 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 10:30:45.481 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-09-10 10:30:45.486 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-09-10 10:30:45.489 +01:00 [DBG] Executing DbCommand [Parameters=[@__filter_Gender_0='?' (Size = 4000), @__filter_IsActive_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0 AND [e].[IsActive] = @__filter_IsActive_1
2025-09-10 10:30:45.493 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__filter_Gender_0='?' (Size = 4000), @__filter_IsActive_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0 AND [e].[IsActive] = @__filter_IsActive_1
2025-09-10 10:30:45.499 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:30:45.504 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-09-10 10:30:45.507 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:30:45.510 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (2ms).
2025-09-10 10:30:45.515 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 10:30:45.524 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-10 10:30:45.528 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 10:30:45.533 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 10:30:45.538 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 10:30:45.540 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 10:30:45.543 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto, CMSApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-10 10:30:45.546 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 164.4744ms
2025-09-10 10:30:45.551 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:30:45.556 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 10:30:45.560 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:30:45.564 +01:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-09-10 10:30:45.572 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?Gender=female - 200 null application/json; charset=utf-8 268.6157ms
2025-09-10 10:31:17.571 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?Gender=female&IsActive=false - null null
2025-09-10 10:31:17.583 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 10:31:17.590 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 10:31:17.596 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:31:17.602 +01:00 [DBG] Successfully validated the token.
2025-09-10 10:31:17.606 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:31:17.608 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:31:17.612 +01:00 [DBG] Authorization was successful.
2025-09-10 10:31:17.615 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:31:17.620 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 10:31:17.624 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 10:31:17.628 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 10:31:17.633 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 10:31:17.638 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 10:31:17.641 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 10:31:17.644 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:31:17.651 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 10:31:17.658 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:31:17.662 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:31:17.667 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 10:31:17.674 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 10:31:17.682 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:31:17.689 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32' using the name 'DeptId' in request data ...
2025-09-10 10:31:17.698 +01:00 [DBG] Could not find a value in the request with name 'DeptId' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:31:17.705 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:31:17.712 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean' using the name 'IsActive' in request data ...
2025-09-10 10:31:17.720 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:31:17.726 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:31:17.731 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:31:17.736 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:31:17.742 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:31:17.750 +01:00 [DBG] Creating DbConnection.
2025-09-10 10:31:17.753 +01:00 [DBG] Created DbConnection. (3ms).
2025-09-10 10:31:17.758 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:31:17.763 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:31:17.769 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 10:31:17.775 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-10 10:31:17.781 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-09-10 10:31:17.788 +01:00 [DBG] Executing DbCommand [Parameters=[@__filter_Gender_0='?' (Size = 4000), @__filter_IsActive_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0 AND [e].[IsActive] = @__filter_IsActive_1
2025-09-10 10:31:17.801 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__filter_Gender_0='?' (Size = 4000), @__filter_IsActive_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0 AND [e].[IsActive] = @__filter_IsActive_1
2025-09-10 10:31:17.814 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:31:17.822 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 8ms reading results.
2025-09-10 10:31:17.831 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:31:17.839 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (7ms).
2025-09-10 10:31:17.848 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 10:31:17.861 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-10 10:31:17.868 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 10:31:17.875 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 10:31:17.878 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 10:31:17.884 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 10:31:17.890 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto, CMSApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-10 10:31:17.898 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 253.5911ms
2025-09-10 10:31:17.918 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:31:17.924 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 10:31:17.929 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:31:17.936 +01:00 [DBG] Disposed connection to database '' on server '' (7ms).
2025-09-10 10:31:17.943 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?Gender=female&IsActive=false - 200 null application/json; charset=utf-8 374.8241ms
2025-09-10 10:34:21.507 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-10 10:34:21.794 +01:00 [DBG] Hosting starting
2025-09-10 10:34:21.901 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-10 10:34:21.948 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-09-10 10:34:21.990 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-09-10 10:34:22.041 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-09-10 10:34:22.068 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-10 10:34:22.085 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-09-10 10:34:22.097 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-10 10:34:22.124 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-09-10 10:34:22.138 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-09-10 10:34:22.154 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-09-10 10:34:22.165 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-09-10 10:34:22.200 +01:00 [DBG] Middleware loaded
2025-09-10 10:34:22.214 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-09-10 10:34:22.225 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-10 10:34:22.620 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-10 10:34:22.628 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-10 10:34:22.669 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-10 10:34:22.990 +01:00 [INF] Now listening on: https://localhost:7258
2025-09-10 10:34:22.995 +01:00 [INF] Now listening on: http://localhost:5191
2025-09-10 10:34:22.998 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-09-10 10:34:23.000 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-09-10 10:34:23.002 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-10 10:34:23.003 +01:00 [DBG] Connection id "0HNFG9KSTEDHT" accepted.
2025-09-10 10:34:23.004 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-09-10 10:34:23.008 +01:00 [DBG] Connection id "0HNFG9KSTEDHT" started.
2025-09-10 10:34:23.028 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-10 10:34:23.043 +01:00 [DBG] Connection id "0HNFG9KSTEDHU" accepted.
2025-09-10 10:34:23.046 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-10 10:34:23.049 +01:00 [DBG] Connection id "0HNFG9KSTEDHU" started.
2025-09-10 10:34:23.099 +01:00 [DBG] Connection id "0HNFG9KSTEDHT" received FIN.
2025-09-10 10:34:23.181 +01:00 [DBG] Connection 0HNFG9KSTEDHT established using the following protocol: "Tls13"
2025-09-10 10:34:23.181 +01:00 [DBG] Connection 0HNFG9KSTEDHU established using the following protocol: "Tls13"
2025-09-10 10:34:23.230 +01:00 [DBG] Connection id "0HNFG9KSTEDHT" is closed. The last processed stream ID was 0.
2025-09-10 10:34:23.234 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-10 10:34:23.237 +01:00 [DBG] Connection id "0HNFG9KSTEDHT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-10 10:34:23.239 +01:00 [INF] Hosting environment: Development
2025-09-10 10:34:23.249 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-09-10 10:34:23.250 +01:00 [DBG] The connection queue processing loop for 0HNFG9KSTEDHT completed.
2025-09-10 10:34:23.252 +01:00 [DBG] Hosting started
2025-09-10 10:34:23.265 +01:00 [DBG] Connection id "0HNFG9KSTEDHT" stopped.
2025-09-10 10:34:23.304 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee - null null
2025-09-10 10:34:23.422 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 10:34:23.433 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 10:34:23.447 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:34:23.855 +01:00 [DBG] Successfully validated the token.
2025-09-10 10:34:23.862 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:34:23.874 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:34:23.886 +01:00 [DBG] Authorization was successful.
2025-09-10 10:34:23.893 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:34:23.938 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 10:34:23.951 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 10:34:23.961 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 10:34:23.969 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 10:34:23.972 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 10:34:23.977 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 10:34:23.982 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:34:24.255 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-10 10:34:25.823 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-09-10 10:34:25.831 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-09-10 10:34:26.273 +01:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2025-09-10 10:34:26.666 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 10:34:26.865 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:34:26.905 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:34:26.916 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 10:34:26.931 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 10:34:26.941 +01:00 [DBG] Could not find a value in the request with name 'Gender' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:34:26.950 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:34:26.963 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32' using the name 'DeptId' in request data ...
2025-09-10 10:34:26.973 +01:00 [DBG] Could not find a value in the request with name 'DeptId' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:34:26.982 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:34:26.989 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean' using the name 'IsActive' in request data ...
2025-09-10 10:34:26.999 +01:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:34:27.007 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:34:27.016 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:34:27.022 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:34:27.029 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:34:27.058 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:34:27.066 +01:00 [DBG] The request has model state errors, returning an error response.
2025-09-10 10:34:27.074 +01:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-09-10 10:34:27.085 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 10:34:27.101 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-09-10 10:34:27.117 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 10:34:27.125 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-09-10 10:34:27.140 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-09-10 10:34:27.147 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-10 10:34:27.200 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 3213.7071ms
2025-09-10 10:34:27.212 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:34:27.226 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 10:34:27.244 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee - 400 null application/problem+json; charset=utf-8 3950.0102ms
2025-09-10 10:34:35.134 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-09-10 10:34:35.581 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-09-10 10:34:35.593 +01:00 [DBG] Request did not match any endpoints
2025-09-10 10:34:35.804 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-09-10 10:34:35.814 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-09-10 10:34:35.840 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-09-10 10:34:35.847 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-09-10 10:34:35.853 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 719.9356ms
2025-09-10 10:34:35.873 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-09-10 10:34:35.873 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-09-10 10:34:35.909 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-09-10 10:34:35.920 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 46.5221ms
2025-09-10 10:34:36.014 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 140.843ms
2025-09-10 10:34:36.375 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-09-10 10:34:36.398 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-09-10 10:34:36.405 +01:00 [DBG] Request did not match any endpoints
2025-09-10 10:34:36.723 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 348.0586ms
2025-09-10 10:35:09.911 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7258/api/signin - application/json 73
2025-09-10 10:35:09.976 +01:00 [DBG] 1 candidate(s) found for the request path '/api/signin'
2025-09-10 10:35:09.983 +01:00 [DBG] Request matched endpoint 'HTTP: POST /api/signin => SignIn'
2025-09-10 10:35:09.991 +01:00 [INF] No CORS policy found for the specified request.
2025-09-10 10:35:10.003 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-10 10:35:10.014 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-10 10:35:10.021 +01:00 [INF] Executing endpoint 'HTTP: POST /api/signin => SignIn'
2025-09-10 10:35:10.042 +01:00 [DBG] Connection id "0HNFG9KSTEDHU", Request id "0HNFG9KSTEDHU:0000000B": started reading request body.
2025-09-10 10:35:10.052 +01:00 [DBG] Connection id "0HNFG9KSTEDHU", Request id "0HNFG9KSTEDHU:0000000B": done reading request body.
2025-09-10 10:35:10.334 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 10:35:10.608 +01:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-09-10 10:35:11.361 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: SingleQueryingEnumerable.Create<AppUser>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: AppUser.DOB (DateOnly) Required, 16], [Property: AppUser.Fullname (string) Required, 17], [Property: AppUser.Gender (string) Required, 18], [Property: AppUser.LibraryID (int?), 19] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.DOB, a.Fullname, a.Gender, a.LibraryID
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'AppUser') && (a.NormalizedEmail == @__normalizedEmail_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: AppUser.DOB (DateOnly) Required, 16], [Property: AppUser.Fullname (string) Required, 17], [Property: AppUser.Gender (string) Required, 18], [Property: AppUser.LibraryID (int?), 19] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.DOB, a.Fullname, a.Gender, a.LibraryID
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'AppUser') && (a.NormalizedEmail == @__normalizedEmail_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            AppUser entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                AppUser instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(AppUser);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: IdentityUser.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (AppUser)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = 
                    {
                        string discriminator;
                        discriminator = dataReader.GetString(3);
                        return switch (discriminator)
                        {
                            case "AppUser": 
                                [LIFTABLE Constant: EntityType: AppUser Base: IdentityUser | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser")]
                            default: 
                                {
                                    throw StructuralTypeShaperExpression.CreateUnableToDiscriminateException(
                                        type: [LIFTABLE Constant: EntityType: AppUser Base: IdentityUser | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser")], 
                                        discriminator: (object)discriminator);
                                    return null;
                                }
                        }
                    };
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: AppUser Base: IdentityUser | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser")]: 
                            {
                                shadowSnapshot1 = (ISnapshot)new Snapshot<string>(dataReader.GetString(3));
                                return 
                                {
                                    AppUser instance;
                                    instance = new AppUser();
                                    instance.<Id>k__BackingField = dataReader.GetString(0);
                                    instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(1);
                                    instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(5);
                                    instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(6);
                                    instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(7);
                                    instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                    instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                    instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                    instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(12);
                                    instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(13) ? default(string) : dataReader.GetString(13);
                                    instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(14);
                                    instance.<UserName>k__BackingField = dataReader.IsDBNull(15) ? default(string) : dataReader.GetString(15);
                                    instance.<DOB>k__BackingField = dataReader.IsDBNull(16) ? default(DateOnly) : dataReader.GetFieldValue<DateOnly>(16);
                                    instance.<Fullname>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                    instance.<Gender>k__BackingField = dataReader.IsDBNull(18) ? default(string) : dataReader.GetString(18);
                                    instance.<LibraryID>k__BackingField = dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: AppUser Base: IdentityUser | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(AppUser)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-10 10:35:11.489 +01:00 [DBG] Creating DbConnection.
2025-09-10 10:35:11.536 +01:00 [DBG] Created DbConnection. (43ms).
2025-09-10 10:35:11.548 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:35:12.381 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:35:12.402 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 10:35:12.426 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (20ms).
2025-09-10 10:35:12.467 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (65ms).
2025-09-10 10:35:12.514 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DOB], [a].[Fullname], [a].[Gender], [a].[LibraryID]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'AppUser' AND [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-10 10:35:12.854 +01:00 [INF] Executed DbCommand (338ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DOB], [a].[Fullname], [a].[Gender], [a].[LibraryID]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'AppUser' AND [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-10 10:35:13.107 +01:00 [DBG] Context 'CMSDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 10:35:13.362 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:35:13.410 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 512ms reading results.
2025-09-10 10:35:13.441 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:35:13.476 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (35ms).
2025-09-10 10:35:14.000 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2025-09-10 10:35:14.122 +01:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<string>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        value1 = dataReader.IsDBNull(0) ? default(string) : dataReader.GetString(0);
        return value1;
    }, 
    contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-10 10:35:14.146 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:35:14.165 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:35:14.177 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 10:35:14.187 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2025-09-10 10:35:14.200 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (23ms).
2025-09-10 10:35:14.213 +01:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-10 10:35:14.258 +01:00 [INF] Executed DbCommand (45ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-10 10:35:14.282 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:35:14.301 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 22ms reading results.
2025-09-10 10:35:14.325 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:35:14.343 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (17ms).
2025-09-10 10:35:14.393 +01:00 [INF] Setting HTTP status code 200.
2025-09-10 10:35:14.402 +01:00 [INF] Writing value of type '<>f__AnonymousType12`1' as Json.
2025-09-10 10:35:14.411 +01:00 [INF] Executed endpoint 'HTTP: POST /api/signin => SignIn'
2025-09-10 10:35:14.420 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 10:35:14.430 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:35:14.437 +01:00 [DBG] Disposed connection to database '' on server '' (7ms).
2025-09-10 10:35:14.444 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7258/api/signin - 200 null application/json; charset=utf-8 4532.794ms
2025-09-10 10:35:45.824 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee - null null
2025-09-10 10:35:45.844 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 10:35:45.851 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 10:35:45.861 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:35:45.872 +01:00 [DBG] Successfully validated the token.
2025-09-10 10:35:45.877 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:35:45.890 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:35:45.898 +01:00 [DBG] Authorization was successful.
2025-09-10 10:35:45.905 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:35:45.912 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 10:35:45.925 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 10:35:45.935 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 10:35:45.946 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 10:35:45.959 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 10:35:45.971 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 10:35:45.981 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:35:46.046 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 10:35:46.059 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:35:46.070 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:35:46.079 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 10:35:46.090 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 10:35:46.101 +01:00 [DBG] Could not find a value in the request with name 'Gender' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:35:46.113 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:35:46.124 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32' using the name 'DeptId' in request data ...
2025-09-10 10:35:46.137 +01:00 [DBG] Could not find a value in the request with name 'DeptId' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:35:46.149 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Int32'.
2025-09-10 10:35:46.160 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean' using the name 'IsActive' in request data ...
2025-09-10 10:35:46.172 +01:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:35:46.184 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Boolean'.
2025-09-10 10:35:46.195 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:35:46.205 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:35:46.213 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:35:46.224 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:35:46.232 +01:00 [DBG] The request has model state errors, returning an error response.
2025-09-10 10:35:46.238 +01:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-09-10 10:35:46.245 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 10:35:46.260 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-09-10 10:35:46.280 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 10:35:46.290 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-09-10 10:35:46.305 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-09-10 10:35:46.314 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-10 10:35:46.324 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 343.014ms
2025-09-10 10:35:46.333 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:35:46.340 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 10:35:46.347 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee - 400 null application/problem+json; charset=utf-8 523.3668ms
2025-09-10 10:38:10.647 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-10 10:38:10.981 +01:00 [DBG] Hosting starting
2025-09-10 10:38:11.056 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-10 10:38:11.089 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-09-10 10:38:11.114 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-09-10 10:38:11.144 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-09-10 10:38:11.162 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-10 10:38:11.172 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-09-10 10:38:11.180 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-10 10:38:11.198 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-09-10 10:38:11.208 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-09-10 10:38:11.220 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-09-10 10:38:11.229 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-09-10 10:38:11.249 +01:00 [DBG] Middleware loaded
2025-09-10 10:38:11.261 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-09-10 10:38:11.270 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-10 10:38:11.633 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-10 10:38:11.650 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-10 10:38:11.738 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-10 10:38:12.080 +01:00 [INF] Now listening on: https://localhost:7258
2025-09-10 10:38:12.084 +01:00 [INF] Now listening on: http://localhost:5191
2025-09-10 10:38:12.086 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-09-10 10:38:12.088 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-09-10 10:38:12.091 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-10 10:38:12.094 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-09-10 10:38:12.110 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-10 10:38:12.126 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-10 10:38:12.222 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-10 10:38:12.225 +01:00 [INF] Hosting environment: Development
2025-09-10 10:38:12.229 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-09-10 10:38:12.232 +01:00 [DBG] Hosting started
2025-09-10 10:39:57.678 +01:00 [DBG] Connection id "0HNFG9O0L51DE" accepted.
2025-09-10 10:39:57.730 +01:00 [DBG] Connection id "0HNFG9O0L51DE" started.
2025-09-10 10:39:57.989 +01:00 [DBG] Connection 0HNFG9O0L51DE established using the following protocol: "Tls13"
2025-09-10 10:39:58.271 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee - null null
2025-09-10 10:39:58.493 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 10:39:58.501 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 10:39:58.511 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:39:59.051 +01:00 [DBG] Successfully validated the token.
2025-09-10 10:39:59.063 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:39:59.090 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:39:59.120 +01:00 [DBG] Authorization was successful.
2025-09-10 10:39:59.139 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:39:59.254 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 10:39:59.276 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 10:39:59.290 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 10:39:59.305 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 10:39:59.335 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 10:39:59.351 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 10:39:59.397 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:39:59.695 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-10 10:40:01.416 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-09-10 10:40:01.425 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-09-10 10:40:01.734 +01:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2025-09-10 10:40:01.994 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 10:40:02.202 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:40:02.243 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:40:02.255 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 10:40:02.273 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 10:40:02.284 +01:00 [DBG] Could not find a value in the request with name 'Gender' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:40:02.295 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:40:02.308 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]' using the name 'DeptId' in request data ...
2025-09-10 10:40:02.317 +01:00 [DBG] Could not find a value in the request with name 'DeptId' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 10:40:02.327 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 10:40:02.335 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2025-09-10 10:40:02.345 +01:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 10:40:02.365 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 10:40:02.374 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:40:02.381 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:40:02.388 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:40:02.412 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:40:02.601 +01:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Include(e => e.Department)
    .Where(e => (bool?)e.IsActive == __filter_IsActive_0)
    .Select(e => new EmployeeResponseDto{ 
        Id = e.Id, 
        Fullname = string.Format(
            format: "{0} {1} {2}", 
            arg0: e.Firstname, 
            arg1: e.Middlename, 
            arg2: e.Lastname), 
        Gender = e.Gender, 
        Email = e.Email, 
        Phone = e.Phone, 
        DOB = e.DOB, 
        Role = e.Role, 
        DeptId = e.DeptId, 
        DeptName = e.Department.DeptName, 
        IsActive = e.IsActive 
    }
    )'
2025-09-10 10:40:03.435 +01:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<EmployeeResponseDto>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
            5 -> 5
            6 -> 6
            7 -> 7
            8 -> 8
            9 -> 9
            10 -> 10
            11 -> 11
        SELECT e.Id, e.Firstname, e.Middlename, e.Lastname, e.Gender, e.Email, e.Phone, e.DOB, e.Role, e.DeptId, d.DeptName, e.IsActive
        FROM Employees AS e
        LEFT JOIN Departments AS d ON e.DeptId == d.DeptId
        WHERE e.IsActive == @__filter_IsActive_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
            5 -> 5
            6 -> 6
            7 -> 7
            8 -> 8
            9 -> 9
            10 -> 10
            11 -> 11
        SELECT e.Id, e.Firstname, e.Middlename, e.Lastname, e.Gender, e.Email, e.Phone, e.DOB, e.Role, e.DeptId, d.DeptName, e.IsActive
        FROM Employees AS e
        LEFT JOIN Departments AS d ON e.DeptId == d.DeptId
        WHERE e.IsActive == @__filter_IsActive_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        int? value1;
        string value2;
        string value3;
        string value4;
        string value5;
        string value6;
        string value7;
        DateOnly? value8;
        string value9;
        int? value10;
        string value11;
        bool? value12;
        value1 = (int?)dataReader.GetInt32(0);
        value2 = dataReader.GetString(1);
        value3 = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
        value4 = dataReader.GetString(3);
        value5 = dataReader.GetString(4);
        value6 = dataReader.GetString(5);
        value7 = dataReader.GetString(6);
        value8 = (DateOnly?)dataReader.GetFieldValue<DateOnly>(7);
        value9 = dataReader.GetString(8);
        value10 = dataReader.IsDBNull(9) ? default(int?) : (int?)dataReader.GetInt32(9);
        value11 = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
        value12 = (bool?)dataReader.GetBoolean(11);
        return new EmployeeResponseDto{ 
            Id = (int)value1, 
            Fullname = string.Format(
                format: "{0} {1} {2}", 
                arg0: value2, 
                arg1: value3, 
                arg2: value4), 
            Gender = value5, 
            Email = value6, 
            Phone = value7, 
            DOB = (DateOnly)value8, 
            Role = value9, 
            DeptId = value10, 
            DeptName = value11, 
            IsActive = (bool)value12 
        }
        ;
    }, 
    contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-10 10:40:03.570 +01:00 [DBG] Creating DbConnection.
2025-09-10 10:40:03.625 +01:00 [DBG] Created DbConnection. (48ms).
2025-09-10 10:40:03.651 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:40:04.691 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:40:04.730 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 10:40:04.783 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (36ms).
2025-09-10 10:40:04.797 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (71ms).
2025-09-10 10:40:04.823 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE 0 = 1
2025-09-10 10:40:05.014 +01:00 [INF] Executed DbCommand (182ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE 0 = 1
2025-09-10 10:40:05.055 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:40:05.077 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 38ms reading results.
2025-09-10 10:40:05.094 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:40:05.117 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (23ms).
2025-09-10 10:40:48.261 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?Gender=male - null null
2025-09-10 10:40:48.276 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 48877.3626ms
2025-09-10 10:40:48.294 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 10:40:48.310 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:40:48.315 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 10:40:48.344 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:40:48.352 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: No Employee found
   at CMSApi.Application.Services.EmployeeService.GetAllEmployees(Filter filter) in C:\Users\HP\Documents\repos\CMSApi\CMSApi\Application\Services\EmployeeService.cs:line 85
   at CMSApi.Presentation.Controllers.EmployeeController.GetAll(Filter filter) in C:\Users\HP\Documents\repos\CMSApi\CMSApi\Presentation\Controllers\EmployeeController.cs:line 23
   at lambda_method22(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-10 10:40:48.381 +01:00 [DBG] Successfully validated the token.
2025-09-10 10:40:48.568 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:40:48.578 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:40:48.590 +01:00 [DBG] Authorization was successful.
2025-09-10 10:40:48.598 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:40:48.645 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 10:40:48.649 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 10:40:48.661 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 10:40:48.706 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:40:48.712 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 10:40:48.725 +01:00 [DBG] Disposed connection to database '' on server '' (19ms).
2025-09-10 10:40:48.730 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 10:40:48.749 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee - 500 null text/plain; charset=utf-8 50517.4737ms
2025-09-10 10:40:48.758 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 10:40:48.793 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 10:40:48.805 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:40:49.019 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 10:40:49.027 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:40:49.041 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:40:49.048 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 10:40:49.053 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 10:40:49.061 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:40:49.067 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]' using the name 'DeptId' in request data ...
2025-09-10 10:40:49.075 +01:00 [DBG] Could not find a value in the request with name 'DeptId' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 10:40:49.081 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 10:40:49.087 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2025-09-10 10:40:49.094 +01:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 10:40:49.099 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 10:40:49.105 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:40:49.111 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:40:49.115 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:40:49.120 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:40:49.130 +01:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Include(e => e.Department)
    .Where(e => e.Gender == __filter_Gender_0)
    .Where(e => (bool?)e.IsActive == __filter_IsActive_1)
    .Select(e => new EmployeeResponseDto{ 
        Id = e.Id, 
        Fullname = string.Format(
            format: "{0} {1} {2}", 
            arg0: e.Firstname, 
            arg1: e.Middlename, 
            arg2: e.Lastname), 
        Gender = e.Gender, 
        Email = e.Email, 
        Phone = e.Phone, 
        DOB = e.DOB, 
        Role = e.Role, 
        DeptId = e.DeptId, 
        DeptName = e.Department.DeptName, 
        IsActive = e.IsActive 
    }
    )'
2025-09-10 10:40:49.150 +01:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<EmployeeResponseDto>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
            5 -> 5
            6 -> 6
            7 -> 7
            8 -> 8
            9 -> 9
            10 -> 10
            11 -> 11
        SELECT e.Id, e.Firstname, e.Middlename, e.Lastname, e.Gender, e.Email, e.Phone, e.DOB, e.Role, e.DeptId, d.DeptName, e.IsActive
        FROM Employees AS e
        LEFT JOIN Departments AS d ON e.DeptId == d.DeptId
        WHERE (e.Gender == @__filter_Gender_0) && (e.IsActive == @__filter_IsActive_1)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
            5 -> 5
            6 -> 6
            7 -> 7
            8 -> 8
            9 -> 9
            10 -> 10
            11 -> 11
        SELECT e.Id, e.Firstname, e.Middlename, e.Lastname, e.Gender, e.Email, e.Phone, e.DOB, e.Role, e.DeptId, d.DeptName, e.IsActive
        FROM Employees AS e
        LEFT JOIN Departments AS d ON e.DeptId == d.DeptId
        WHERE (e.Gender == @__filter_Gender_0) && (e.IsActive == @__filter_IsActive_1), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        int? value1;
        string value2;
        string value3;
        string value4;
        string value5;
        string value6;
        string value7;
        DateOnly? value8;
        string value9;
        int? value10;
        string value11;
        bool? value12;
        value1 = (int?)dataReader.GetInt32(0);
        value2 = dataReader.GetString(1);
        value3 = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
        value4 = dataReader.GetString(3);
        value5 = dataReader.GetString(4);
        value6 = dataReader.GetString(5);
        value7 = dataReader.GetString(6);
        value8 = (DateOnly?)dataReader.GetFieldValue<DateOnly>(7);
        value9 = dataReader.GetString(8);
        value10 = dataReader.IsDBNull(9) ? default(int?) : (int?)dataReader.GetInt32(9);
        value11 = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
        value12 = (bool?)dataReader.GetBoolean(11);
        return new EmployeeResponseDto{ 
            Id = (int)value1, 
            Fullname = string.Format(
                format: "{0} {1} {2}", 
                arg0: value2, 
                arg1: value3, 
                arg2: value4), 
            Gender = value5, 
            Email = value6, 
            Phone = value7, 
            DOB = (DateOnly)value8, 
            Role = value9, 
            DeptId = value10, 
            DeptName = value11, 
            IsActive = (bool)value12 
        }
        ;
    }, 
    contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-10 10:40:49.175 +01:00 [DBG] Creating DbConnection.
2025-09-10 10:40:49.179 +01:00 [DBG] Created DbConnection. (4ms).
2025-09-10 10:40:49.196 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:40:49.211 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:40:49.217 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 10:40:49.223 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-09-10 10:40:49.229 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-09-10 10:40:49.234 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE 0 = 1
2025-09-10 10:40:49.263 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE 0 = 1
2025-09-10 10:40:49.272 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:40:49.277 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-09-10 10:40:49.282 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:40:49.287 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (5ms).
2025-09-10 10:41:36.875 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 48069.8415ms
2025-09-10 10:41:36.882 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:41:36.889 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: No Employee found
   at CMSApi.Application.Services.EmployeeService.GetAllEmployees(Filter filter)
   at CMSApi.Presentation.Controllers.EmployeeController.GetAll(Filter filter)
   at lambda_method22(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-10 10:41:36.914 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 10:41:36.919 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:41:36.925 +01:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-09-10 10:41:36.931 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?Gender=male - 500 null text/plain; charset=utf-8 48671.3518ms
2025-09-10 10:41:37.929 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-09-10 10:41:38.192 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-09-10 10:41:38.197 +01:00 [DBG] Request did not match any endpoints
2025-09-10 10:41:38.368 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-09-10 10:41:38.374 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-09-10 10:41:38.390 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-09-10 10:41:38.394 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-09-10 10:41:38.398 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 468.1686ms
2025-09-10 10:41:38.419 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-09-10 10:41:38.419 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-09-10 10:41:38.457 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-09-10 10:41:38.467 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 47.7893ms
2025-09-10 10:41:38.524 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 104.7108ms
2025-09-10 10:41:38.809 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-09-10 10:41:38.824 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-09-10 10:41:38.829 +01:00 [DBG] Request did not match any endpoints
2025-09-10 10:41:38.857 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-10 10:41:38.870 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-10 10:41:39.126 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 316.6641ms
2025-09-10 10:41:51.752 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-10 10:41:51.995 +01:00 [DBG] Hosting starting
2025-09-10 10:41:52.119 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-10 10:41:52.171 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-09-10 10:41:52.220 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-09-10 10:41:52.291 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-09-10 10:41:52.312 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-10 10:41:52.321 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-09-10 10:41:52.329 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-10 10:41:52.358 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-09-10 10:41:52.364 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-09-10 10:41:52.372 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-09-10 10:41:52.376 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-09-10 10:41:52.396 +01:00 [DBG] Middleware loaded
2025-09-10 10:41:52.406 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-09-10 10:41:52.410 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-10 10:41:52.682 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-10 10:41:52.689 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-10 10:41:52.733 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-10 10:41:52.947 +01:00 [DBG] Connection id "0HNFG9P30E5KB" accepted.
2025-09-10 10:41:52.955 +01:00 [DBG] Connection id "0HNFG9P30E5KB" started.
2025-09-10 10:41:52.956 +01:00 [INF] Now listening on: https://localhost:7258
2025-09-10 10:41:52.963 +01:00 [INF] Now listening on: http://localhost:5191
2025-09-10 10:41:52.977 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-09-10 10:41:52.979 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-09-10 10:41:52.988 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-10 10:41:52.992 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-09-10 10:41:53.012 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-10 10:41:53.029 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-10 10:41:53.068 +01:00 [DBG] Connection 0HNFG9P30E5KB established using the following protocol: "Tls13"
2025-09-10 10:41:53.130 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-10 10:41:53.133 +01:00 [INF] Hosting environment: Development
2025-09-10 10:41:53.137 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-09-10 10:41:53.140 +01:00 [DBG] Hosting started
2025-09-10 10:41:53.170 +01:00 [DBG] Connection id "0HNFG9P30E5KC" accepted.
2025-09-10 10:41:53.174 +01:00 [DBG] Connection id "0HNFG9P30E5KC" started.
2025-09-10 10:41:53.180 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-09-10 10:41:53.184 +01:00 [DBG] Connection 0HNFG9P30E5KC established using the following protocol: "Tls13"
2025-09-10 10:41:53.445 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-09-10 10:41:53.461 +01:00 [DBG] Request did not match any endpoints
2025-09-10 10:41:53.665 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-09-10 10:41:53.672 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-09-10 10:41:53.688 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-09-10 10:41:53.693 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-09-10 10:41:53.706 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 537.9379ms
2025-09-10 10:41:53.717 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-09-10 10:41:53.722 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-09-10 10:41:53.763 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-09-10 10:41:53.767 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 44.1249ms
2025-09-10 10:41:53.800 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 83.5896ms
2025-09-10 10:41:53.875 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-09-10 10:41:53.889 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-09-10 10:41:53.894 +01:00 [DBG] Request did not match any endpoints
2025-09-10 10:41:54.131 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 256.2692ms
2025-09-10 10:43:27.343 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7258/api/signin - application/json 73
2025-09-10 10:43:27.395 +01:00 [DBG] 1 candidate(s) found for the request path '/api/signin'
2025-09-10 10:43:27.402 +01:00 [DBG] Request matched endpoint 'HTTP: POST /api/signin => SignIn'
2025-09-10 10:43:27.432 +01:00 [INF] No CORS policy found for the specified request.
2025-09-10 10:43:27.602 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-10 10:43:27.615 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-10 10:43:27.623 +01:00 [INF] Executing endpoint 'HTTP: POST /api/signin => SignIn'
2025-09-10 10:43:27.638 +01:00 [DBG] Connection id "0HNFG9P30E5KB", Request id "0HNFG9P30E5KB:00000009": started reading request body.
2025-09-10 10:43:27.646 +01:00 [DBG] Connection id "0HNFG9P30E5KB", Request id "0HNFG9P30E5KB:00000009": done reading request body.
2025-09-10 10:43:27.953 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-10 10:43:29.272 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-09-10 10:43:29.282 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-09-10 10:43:29.577 +01:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2025-09-10 10:43:29.854 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 10:43:30.040 +01:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-09-10 10:43:30.752 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: SingleQueryingEnumerable.Create<AppUser>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: AppUser.DOB (DateOnly) Required, 16], [Property: AppUser.Fullname (string) Required, 17], [Property: AppUser.Gender (string) Required, 18], [Property: AppUser.LibraryID (int?), 19] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.DOB, a.Fullname, a.Gender, a.LibraryID
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'AppUser') && (a.NormalizedEmail == @__normalizedEmail_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: AppUser.DOB (DateOnly) Required, 16], [Property: AppUser.Fullname (string) Required, 17], [Property: AppUser.Gender (string) Required, 18], [Property: AppUser.LibraryID (int?), 19] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.DOB, a.Fullname, a.Gender, a.LibraryID
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'AppUser') && (a.NormalizedEmail == @__normalizedEmail_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            AppUser entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                AppUser instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(AppUser);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: IdentityUser.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (AppUser)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = 
                    {
                        string discriminator;
                        discriminator = dataReader.GetString(3);
                        return switch (discriminator)
                        {
                            case "AppUser": 
                                [LIFTABLE Constant: EntityType: AppUser Base: IdentityUser | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser")]
                            default: 
                                {
                                    throw StructuralTypeShaperExpression.CreateUnableToDiscriminateException(
                                        type: [LIFTABLE Constant: EntityType: AppUser Base: IdentityUser | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser")], 
                                        discriminator: (object)discriminator);
                                    return null;
                                }
                        }
                    };
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: AppUser Base: IdentityUser | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser")]: 
                            {
                                shadowSnapshot1 = (ISnapshot)new Snapshot<string>(dataReader.GetString(3));
                                return 
                                {
                                    AppUser instance;
                                    instance = new AppUser();
                                    instance.<Id>k__BackingField = dataReader.GetString(0);
                                    instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(1);
                                    instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(5);
                                    instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(6);
                                    instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(7);
                                    instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                    instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                    instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                    instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(12);
                                    instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(13) ? default(string) : dataReader.GetString(13);
                                    instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(14);
                                    instance.<UserName>k__BackingField = dataReader.IsDBNull(15) ? default(string) : dataReader.GetString(15);
                                    instance.<DOB>k__BackingField = dataReader.IsDBNull(16) ? default(DateOnly) : dataReader.GetFieldValue<DateOnly>(16);
                                    instance.<Fullname>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                    instance.<Gender>k__BackingField = dataReader.IsDBNull(18) ? default(string) : dataReader.GetString(18);
                                    instance.<LibraryID>k__BackingField = dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: AppUser Base: IdentityUser | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(AppUser)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-10 10:43:30.877 +01:00 [DBG] Creating DbConnection.
2025-09-10 10:43:30.931 +01:00 [DBG] Created DbConnection. (46ms).
2025-09-10 10:43:30.949 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:43:31.619 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:43:31.636 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 10:43:31.662 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (17ms).
2025-09-10 10:43:31.688 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (53ms).
2025-09-10 10:43:31.714 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DOB], [a].[Fullname], [a].[Gender], [a].[LibraryID]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'AppUser' AND [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-10 10:43:31.887 +01:00 [INF] Executed DbCommand (174ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DOB], [a].[Fullname], [a].[Gender], [a].[LibraryID]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'AppUser' AND [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-10 10:43:31.998 +01:00 [DBG] Context 'CMSDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 10:43:32.115 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:43:32.137 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 228ms reading results.
2025-09-10 10:43:32.151 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:43:32.171 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (19ms).
2025-09-10 10:43:32.426 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2025-09-10 10:43:32.527 +01:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<string>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        value1 = dataReader.IsDBNull(0) ? default(string) : dataReader.GetString(0);
        return value1;
    }, 
    contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-10 10:43:32.539 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:43:32.547 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:43:32.553 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 10:43:32.560 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-09-10 10:43:32.567 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-09-10 10:43:32.574 +01:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-10 10:43:32.613 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-10 10:43:32.626 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:43:32.633 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 9ms reading results.
2025-09-10 10:43:32.642 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:43:32.648 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (6ms).
2025-09-10 10:43:32.734 +01:00 [INF] Setting HTTP status code 200.
2025-09-10 10:43:32.746 +01:00 [INF] Writing value of type '<>f__AnonymousType12`1' as Json.
2025-09-10 10:43:32.756 +01:00 [INF] Executed endpoint 'HTTP: POST /api/signin => SignIn'
2025-09-10 10:43:32.769 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 10:43:32.782 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:43:32.792 +01:00 [DBG] Disposed connection to database '' on server '' (8ms).
2025-09-10 10:43:32.801 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7258/api/signin - 200 null application/json; charset=utf-8 5458.5041ms
2025-09-10 10:44:06.026 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee - null null
2025-09-10 10:44:06.054 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 10:44:06.061 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 10:44:06.070 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:44:06.185 +01:00 [DBG] Successfully validated the token.
2025-09-10 10:44:06.192 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:44:06.199 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:44:06.214 +01:00 [DBG] Authorization was successful.
2025-09-10 10:44:06.220 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:44:06.272 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 10:44:06.285 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 10:44:06.293 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 10:44:06.301 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 10:44:06.312 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 10:44:06.320 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 10:44:06.332 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:44:06.452 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 10:44:06.669 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:44:06.700 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:44:06.712 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 10:44:06.730 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 10:44:06.741 +01:00 [DBG] Could not find a value in the request with name 'Gender' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:44:06.751 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:44:06.762 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]' using the name 'DeptId' in request data ...
2025-09-10 10:44:06.772 +01:00 [DBG] Could not find a value in the request with name 'DeptId' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 10:44:06.782 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 10:44:06.790 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2025-09-10 10:44:06.800 +01:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 10:44:06.810 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 10:44:06.819 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:44:06.827 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:44:06.833 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:44:06.858 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:44:06.890 +01:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Include(e => e.Department)
    .Where(e => (bool?)e.IsActive == __filter_IsActive_0)
    .Select(e => new EmployeeResponseDto{ 
        Id = e.Id, 
        Fullname = string.Format(
            format: "{0} {1} {2}", 
            arg0: e.Firstname, 
            arg1: e.Middlename, 
            arg2: e.Lastname), 
        Gender = e.Gender, 
        Email = e.Email, 
        Phone = e.Phone, 
        DOB = e.DOB, 
        Role = e.Role, 
        DeptId = e.DeptId, 
        DeptName = e.Department.DeptName, 
        IsActive = e.IsActive 
    }
    )'
2025-09-10 10:44:07.011 +01:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<EmployeeResponseDto>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
            5 -> 5
            6 -> 6
            7 -> 7
            8 -> 8
            9 -> 9
            10 -> 10
            11 -> 11
        SELECT e.Id, e.Firstname, e.Middlename, e.Lastname, e.Gender, e.Email, e.Phone, e.DOB, e.Role, e.DeptId, d.DeptName, e.IsActive
        FROM Employees AS e
        LEFT JOIN Departments AS d ON e.DeptId == d.DeptId
        WHERE e.IsActive == @__filter_IsActive_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
            5 -> 5
            6 -> 6
            7 -> 7
            8 -> 8
            9 -> 9
            10 -> 10
            11 -> 11
        SELECT e.Id, e.Firstname, e.Middlename, e.Lastname, e.Gender, e.Email, e.Phone, e.DOB, e.Role, e.DeptId, d.DeptName, e.IsActive
        FROM Employees AS e
        LEFT JOIN Departments AS d ON e.DeptId == d.DeptId
        WHERE e.IsActive == @__filter_IsActive_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        int? value1;
        string value2;
        string value3;
        string value4;
        string value5;
        string value6;
        string value7;
        DateOnly? value8;
        string value9;
        int? value10;
        string value11;
        bool? value12;
        value1 = (int?)dataReader.GetInt32(0);
        value2 = dataReader.GetString(1);
        value3 = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
        value4 = dataReader.GetString(3);
        value5 = dataReader.GetString(4);
        value6 = dataReader.GetString(5);
        value7 = dataReader.GetString(6);
        value8 = (DateOnly?)dataReader.GetFieldValue<DateOnly>(7);
        value9 = dataReader.GetString(8);
        value10 = dataReader.IsDBNull(9) ? default(int?) : (int?)dataReader.GetInt32(9);
        value11 = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
        value12 = (bool?)dataReader.GetBoolean(11);
        return new EmployeeResponseDto{ 
            Id = (int)value1, 
            Fullname = string.Format(
                format: "{0} {1} {2}", 
                arg0: value2, 
                arg1: value3, 
                arg2: value4), 
            Gender = value5, 
            Email = value6, 
            Phone = value7, 
            DOB = (DateOnly)value8, 
            Role = value9, 
            DeptId = value10, 
            DeptName = value11, 
            IsActive = (bool)value12 
        }
        ;
    }, 
    contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-10 10:44:07.026 +01:00 [DBG] Creating DbConnection.
2025-09-10 10:44:07.030 +01:00 [DBG] Created DbConnection. (4ms).
2025-09-10 10:44:07.035 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:44:07.043 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:44:07.050 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 10:44:07.055 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-10 10:44:07.062 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-09-10 10:44:07.069 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE 0 = 1
2025-09-10 10:44:07.088 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE 0 = 1
2025-09-10 10:44:07.097 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:44:07.104 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-09-10 10:44:07.112 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:44:07.119 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (6ms).
2025-09-10 10:44:24.296 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 17949.8972ms
2025-09-10 10:44:24.309 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:44:24.327 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: No Employee found
   at CMSApi.Application.Services.EmployeeService.GetAllEmployees(Filter filter) in C:\Users\HP\Documents\repos\CMSApi\CMSApi\Application\Services\EmployeeService.cs:line 85
   at CMSApi.Presentation.Controllers.EmployeeController.GetAll(Filter filter) in C:\Users\HP\Documents\repos\CMSApi\CMSApi\Presentation\Controllers\EmployeeController.cs:line 23
   at lambda_method172(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-10 10:44:24.574 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 10:44:24.589 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:44:24.602 +01:00 [DBG] Disposed connection to database '' on server '' (12ms).
2025-09-10 10:44:24.616 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee - 500 null text/plain; charset=utf-8 18589.3071ms
2025-09-10 10:44:26.281 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?Gender=male - null null
2025-09-10 10:44:26.291 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 10:44:26.310 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 10:44:26.320 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:44:26.327 +01:00 [DBG] Successfully validated the token.
2025-09-10 10:44:26.331 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:44:26.338 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:44:26.344 +01:00 [DBG] Authorization was successful.
2025-09-10 10:44:26.348 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:44:26.354 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 10:44:26.363 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 10:44:26.371 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 10:44:26.379 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 10:44:26.388 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 10:44:26.396 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 10:44:26.404 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:44:26.439 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 10:44:26.449 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:44:26.462 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:44:26.471 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 10:44:26.479 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 10:44:26.489 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:44:26.498 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]' using the name 'DeptId' in request data ...
2025-09-10 10:44:26.506 +01:00 [DBG] Could not find a value in the request with name 'DeptId' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 10:44:26.515 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 10:44:26.523 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2025-09-10 10:44:26.533 +01:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 10:44:26.542 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 10:44:26.549 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:44:26.556 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:44:26.563 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:44:26.570 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:44:26.581 +01:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Include(e => e.Department)
    .Where(e => e.Gender == __filter_Gender_0)
    .Where(e => (bool?)e.IsActive == __filter_IsActive_1)
    .Select(e => new EmployeeResponseDto{ 
        Id = e.Id, 
        Fullname = string.Format(
            format: "{0} {1} {2}", 
            arg0: e.Firstname, 
            arg1: e.Middlename, 
            arg2: e.Lastname), 
        Gender = e.Gender, 
        Email = e.Email, 
        Phone = e.Phone, 
        DOB = e.DOB, 
        Role = e.Role, 
        DeptId = e.DeptId, 
        DeptName = e.Department.DeptName, 
        IsActive = e.IsActive 
    }
    )'
2025-09-10 10:44:26.598 +01:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<EmployeeResponseDto>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
            5 -> 5
            6 -> 6
            7 -> 7
            8 -> 8
            9 -> 9
            10 -> 10
            11 -> 11
        SELECT e.Id, e.Firstname, e.Middlename, e.Lastname, e.Gender, e.Email, e.Phone, e.DOB, e.Role, e.DeptId, d.DeptName, e.IsActive
        FROM Employees AS e
        LEFT JOIN Departments AS d ON e.DeptId == d.DeptId
        WHERE (e.Gender == @__filter_Gender_0) && (e.IsActive == @__filter_IsActive_1)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
            5 -> 5
            6 -> 6
            7 -> 7
            8 -> 8
            9 -> 9
            10 -> 10
            11 -> 11
        SELECT e.Id, e.Firstname, e.Middlename, e.Lastname, e.Gender, e.Email, e.Phone, e.DOB, e.Role, e.DeptId, d.DeptName, e.IsActive
        FROM Employees AS e
        LEFT JOIN Departments AS d ON e.DeptId == d.DeptId
        WHERE (e.Gender == @__filter_Gender_0) && (e.IsActive == @__filter_IsActive_1), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        int? value1;
        string value2;
        string value3;
        string value4;
        string value5;
        string value6;
        string value7;
        DateOnly? value8;
        string value9;
        int? value10;
        string value11;
        bool? value12;
        value1 = (int?)dataReader.GetInt32(0);
        value2 = dataReader.GetString(1);
        value3 = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
        value4 = dataReader.GetString(3);
        value5 = dataReader.GetString(4);
        value6 = dataReader.GetString(5);
        value7 = dataReader.GetString(6);
        value8 = (DateOnly?)dataReader.GetFieldValue<DateOnly>(7);
        value9 = dataReader.GetString(8);
        value10 = dataReader.IsDBNull(9) ? default(int?) : (int?)dataReader.GetInt32(9);
        value11 = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
        value12 = (bool?)dataReader.GetBoolean(11);
        return new EmployeeResponseDto{ 
            Id = (int)value1, 
            Fullname = string.Format(
                format: "{0} {1} {2}", 
                arg0: value2, 
                arg1: value3, 
                arg2: value4), 
            Gender = value5, 
            Email = value6, 
            Phone = value7, 
            DOB = (DateOnly)value8, 
            Role = value9, 
            DeptId = value10, 
            DeptName = value11, 
            IsActive = (bool)value12 
        }
        ;
    }, 
    contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-10 10:44:26.610 +01:00 [DBG] Creating DbConnection.
2025-09-10 10:44:26.614 +01:00 [DBG] Created DbConnection. (3ms).
2025-09-10 10:44:26.619 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:44:26.626 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:44:26.632 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 10:44:26.638 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-10 10:44:26.644 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-09-10 10:44:26.651 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE 0 = 1
2025-09-10 10:44:26.661 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE 0 = 1
2025-09-10 10:44:26.671 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:44:26.678 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-09-10 10:44:26.686 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:44:26.692 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (6ms).
2025-09-10 10:44:41.693 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 15288.6484ms
2025-09-10 10:44:41.708 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:44:41.723 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: No Employee found
   at CMSApi.Application.Services.EmployeeService.GetAllEmployees(Filter filter) in C:\Users\HP\Documents\repos\CMSApi\CMSApi\Application\Services\EmployeeService.cs:line 85
   at CMSApi.Presentation.Controllers.EmployeeController.GetAll(Filter filter) in C:\Users\HP\Documents\repos\CMSApi\CMSApi\Presentation\Controllers\EmployeeController.cs:line 23
   at lambda_method172(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-10 10:44:41.769 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 10:44:41.778 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:44:41.790 +01:00 [DBG] Disposed connection to database '' on server '' (12ms).
2025-09-10 10:44:41.808 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?Gender=male - 500 null text/plain; charset=utf-8 15526.9481ms
2025-09-10 10:44:54.960 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?Gender=Female&DeptId=1&IsActive=true - null null
2025-09-10 10:44:54.992 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 10:44:55.003 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 10:44:55.012 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:44:55.017 +01:00 [DBG] Successfully validated the token.
2025-09-10 10:44:55.022 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:44:55.027 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:44:55.032 +01:00 [DBG] Authorization was successful.
2025-09-10 10:44:55.037 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:44:55.042 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 10:44:55.052 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 10:44:55.062 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 10:44:55.072 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 10:44:55.083 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 10:44:55.093 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 10:44:55.103 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:44:55.121 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 10:44:55.133 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:44:55.143 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:44:55.151 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 10:44:55.162 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 10:44:55.174 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:44:55.183 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]' using the name 'DeptId' in request data ...
2025-09-10 10:44:55.195 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 10:44:55.205 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2025-09-10 10:44:55.216 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 10:44:55.225 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:44:55.231 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:44:55.240 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:44:55.247 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:44:55.257 +01:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Include(e => e.Department)
    .Where(e => e.Gender == __filter_Gender_0)
    .Where(e => e.DeptId == __filter_DeptId_1)
    .Where(e => (bool?)e.IsActive == __filter_IsActive_2)
    .Select(e => new EmployeeResponseDto{ 
        Id = e.Id, 
        Fullname = string.Format(
            format: "{0} {1} {2}", 
            arg0: e.Firstname, 
            arg1: e.Middlename, 
            arg2: e.Lastname), 
        Gender = e.Gender, 
        Email = e.Email, 
        Phone = e.Phone, 
        DOB = e.DOB, 
        Role = e.Role, 
        DeptId = e.DeptId, 
        DeptName = e.Department.DeptName, 
        IsActive = e.IsActive 
    }
    )'
2025-09-10 10:44:55.273 +01:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<EmployeeResponseDto>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
            5 -> 5
            6 -> 6
            7 -> 7
            8 -> 8
            9 -> 9
            10 -> 10
            11 -> 11
        SELECT e.Id, e.Firstname, e.Middlename, e.Lastname, e.Gender, e.Email, e.Phone, e.DOB, e.Role, e.DeptId, d.DeptName, e.IsActive
        FROM Employees AS e
        LEFT JOIN Departments AS d ON e.DeptId == d.DeptId
        WHERE ((e.Gender == @__filter_Gender_0) && (e.DeptId == @__filter_DeptId_1)) && (e.IsActive == @__filter_IsActive_2)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
            5 -> 5
            6 -> 6
            7 -> 7
            8 -> 8
            9 -> 9
            10 -> 10
            11 -> 11
        SELECT e.Id, e.Firstname, e.Middlename, e.Lastname, e.Gender, e.Email, e.Phone, e.DOB, e.Role, e.DeptId, d.DeptName, e.IsActive
        FROM Employees AS e
        LEFT JOIN Departments AS d ON e.DeptId == d.DeptId
        WHERE ((e.Gender == @__filter_Gender_0) && (e.DeptId == @__filter_DeptId_1)) && (e.IsActive == @__filter_IsActive_2), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        int? value1;
        string value2;
        string value3;
        string value4;
        string value5;
        string value6;
        string value7;
        DateOnly? value8;
        string value9;
        int? value10;
        string value11;
        bool? value12;
        value1 = (int?)dataReader.GetInt32(0);
        value2 = dataReader.GetString(1);
        value3 = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
        value4 = dataReader.GetString(3);
        value5 = dataReader.GetString(4);
        value6 = dataReader.GetString(5);
        value7 = dataReader.GetString(6);
        value8 = (DateOnly?)dataReader.GetFieldValue<DateOnly>(7);
        value9 = dataReader.GetString(8);
        value10 = dataReader.IsDBNull(9) ? default(int?) : (int?)dataReader.GetInt32(9);
        value11 = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
        value12 = (bool?)dataReader.GetBoolean(11);
        return new EmployeeResponseDto{ 
            Id = (int)value1, 
            Fullname = string.Format(
                format: "{0} {1} {2}", 
                arg0: value2, 
                arg1: value3, 
                arg2: value4), 
            Gender = value5, 
            Email = value6, 
            Phone = value7, 
            DOB = (DateOnly)value8, 
            Role = value9, 
            DeptId = value10, 
            DeptName = value11, 
            IsActive = (bool)value12 
        }
        ;
    }, 
    contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-10 10:44:55.288 +01:00 [DBG] Creating DbConnection.
2025-09-10 10:44:55.292 +01:00 [DBG] Created DbConnection. (4ms).
2025-09-10 10:44:55.299 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:44:55.306 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:44:55.315 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 10:44:55.322 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-09-10 10:44:55.331 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2025-09-10 10:44:55.340 +01:00 [DBG] Executing DbCommand [Parameters=[@__filter_Gender_0='?' (Size = 4000), @__filter_DeptId_1='?' (DbType = Int32), @__filter_IsActive_2='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0 AND [e].[DeptId] = @__filter_DeptId_1 AND [e].[IsActive] = @__filter_IsActive_2
2025-09-10 10:44:55.382 +01:00 [INF] Executed DbCommand (43ms) [Parameters=[@__filter_Gender_0='?' (Size = 4000), @__filter_DeptId_1='?' (DbType = Int32), @__filter_IsActive_2='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0 AND [e].[DeptId] = @__filter_DeptId_1 AND [e].[IsActive] = @__filter_IsActive_2
2025-09-10 10:44:55.398 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:44:55.406 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 10ms reading results.
2025-09-10 10:44:55.416 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:44:55.424 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (8ms).
2025-09-10 10:44:55.440 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 10:44:55.460 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-10 10:44:55.470 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 10:44:55.479 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 10:44:55.484 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 10:44:55.491 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 10:44:55.500 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto, CMSApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-10 10:44:55.530 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 427.2389ms
2025-09-10 10:44:55.536 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:44:55.544 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 10:44:55.549 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:44:55.556 +01:00 [DBG] Disposed connection to database '' on server '' (7ms).
2025-09-10 10:44:55.564 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?Gender=Female&DeptId=1&IsActive=true - 200 null application/json; charset=utf-8 603.7134ms
2025-09-10 10:45:04.727 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?Gender=Female&DeptId=1 - null null
2025-09-10 10:45:04.737 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 10:45:04.744 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 10:45:04.751 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:45:04.757 +01:00 [DBG] Successfully validated the token.
2025-09-10 10:45:04.763 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:45:04.768 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:45:04.772 +01:00 [DBG] Authorization was successful.
2025-09-10 10:45:04.775 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:45:04.781 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 10:45:04.788 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 10:45:04.797 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 10:45:04.804 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 10:45:04.811 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 10:45:04.819 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 10:45:04.826 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:45:04.835 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 10:45:04.844 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:45:04.851 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:45:04.856 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 10:45:04.863 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 10:45:04.870 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:45:04.880 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]' using the name 'DeptId' in request data ...
2025-09-10 10:45:04.888 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 10:45:04.893 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2025-09-10 10:45:04.899 +01:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 10:45:04.902 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 10:45:04.906 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:45:04.909 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:45:04.913 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:45:04.915 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:45:04.925 +01:00 [DBG] Creating DbConnection.
2025-09-10 10:45:04.930 +01:00 [DBG] Created DbConnection. (5ms).
2025-09-10 10:45:04.933 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:45:04.935 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:45:04.938 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 10:45:04.941 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-09-10 10:45:04.946 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-09-10 10:45:04.948 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE 0 = 1
2025-09-10 10:45:04.953 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE 0 = 1
2025-09-10 10:45:04.961 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:45:04.964 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-09-10 10:45:04.968 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:45:04.970 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (2ms).
2025-09-10 10:45:19.050 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 14224.795ms
2025-09-10 10:45:19.063 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:45:19.076 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: No Employee found
   at CMSApi.Application.Services.EmployeeService.GetAllEmployees(Filter filter) in C:\Users\HP\Documents\repos\CMSApi\CMSApi\Application\Services\EmployeeService.cs:line 85
   at CMSApi.Presentation.Controllers.EmployeeController.GetAll(Filter filter) in C:\Users\HP\Documents\repos\CMSApi\CMSApi\Presentation\Controllers\EmployeeController.cs:line 23
   at lambda_method172(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-10 10:45:19.119 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 10:45:19.132 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:45:19.146 +01:00 [DBG] Disposed connection to database '' on server '' (14ms).
2025-09-10 10:45:19.160 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?Gender=Female&DeptId=1 - 500 null text/plain; charset=utf-8 14433.1501ms
2025-09-10 10:45:23.032 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?Gender=Female&IsActive=true - null null
2025-09-10 10:45:23.041 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 10:45:23.046 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 10:45:23.052 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:45:23.058 +01:00 [DBG] Successfully validated the token.
2025-09-10 10:45:23.061 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:45:23.064 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 10:45:23.070 +01:00 [DBG] Authorization was successful.
2025-09-10 10:45:23.074 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:45:23.079 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 10:45:23.089 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 10:45:23.097 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 10:45:23.104 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 10:45:23.114 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 10:45:23.122 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 10:45:23.129 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:45:23.139 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 10:45:23.149 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 10:45:23.156 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:45:23.163 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 10:45:23.171 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 10:45:23.181 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 10:45:23.188 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]' using the name 'DeptId' in request data ...
2025-09-10 10:45:23.197 +01:00 [DBG] Could not find a value in the request with name 'DeptId' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 10:45:23.206 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 10:45:23.213 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2025-09-10 10:45:23.226 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 10:45:23.233 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:45:23.238 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:45:23.245 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 10:45:23.252 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 10:45:23.261 +01:00 [DBG] Creating DbConnection.
2025-09-10 10:45:23.265 +01:00 [DBG] Created DbConnection. (4ms).
2025-09-10 10:45:23.270 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:45:23.277 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:45:23.282 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 10:45:23.286 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-09-10 10:45:23.293 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-09-10 10:45:23.300 +01:00 [DBG] Executing DbCommand [Parameters=[@__filter_Gender_0='?' (Size = 4000), @__filter_IsActive_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0 AND [e].[IsActive] = @__filter_IsActive_1
2025-09-10 10:45:23.316 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__filter_Gender_0='?' (Size = 4000), @__filter_IsActive_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0 AND [e].[IsActive] = @__filter_IsActive_1
2025-09-10 10:45:23.328 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:45:23.335 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-09-10 10:45:23.343 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:45:23.348 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (5ms).
2025-09-10 10:45:23.357 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 10:45:23.369 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-10 10:45:23.376 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 10:45:23.382 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 10:45:23.386 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 10:45:23.391 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 10:45:23.397 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto, CMSApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-10 10:45:23.405 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 275.7798ms
2025-09-10 10:45:23.411 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 10:45:23.417 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 10:45:23.427 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 10:45:23.432 +01:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-09-10 10:45:23.449 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?Gender=Female&IsActive=true - 200 null application/json; charset=utf-8 416.8932ms
2025-09-10 10:46:12.009 +01:00 [DBG] Connection id "0HNFG9P30E5KC" received FIN.
2025-09-10 10:46:12.069 +01:00 [DBG] Connection id "0HNFG9P30E5KC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-10 10:46:12.070 +01:00 [DBG] Connection id "0HNFG9P30E5KC" is closed. The last processed stream ID was 0.
2025-09-10 10:46:12.095 +01:00 [DBG] The connection queue processing loop for 0HNFG9P30E5KC completed.
2025-09-10 10:46:12.118 +01:00 [DBG] Connection id "0HNFG9P30E5KC" stopped.
2025-09-10 11:01:19.980 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-10 11:01:20.085 +01:00 [DBG] Hosting starting
2025-09-10 11:01:20.124 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-10 11:01:20.138 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-09-10 11:01:20.147 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-09-10 11:01:20.160 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-09-10 11:01:20.167 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-10 11:01:20.172 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-09-10 11:01:20.175 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-10 11:01:20.180 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-09-10 11:01:20.182 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-09-10 11:01:20.185 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-09-10 11:01:20.187 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-09-10 11:01:20.195 +01:00 [DBG] Middleware loaded
2025-09-10 11:01:20.197 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-09-10 11:01:20.199 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-10 11:01:20.331 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-10 11:01:20.336 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-10 11:01:20.352 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-10 11:01:20.453 +01:00 [INF] Now listening on: https://localhost:7258
2025-09-10 11:01:20.458 +01:00 [INF] Now listening on: http://localhost:5191
2025-09-10 11:01:20.460 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-09-10 11:01:20.461 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-09-10 11:01:20.462 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-10 11:01:20.463 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-09-10 11:01:20.470 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-10 11:01:20.478 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-10 11:01:20.521 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-10 11:01:20.523 +01:00 [INF] Hosting environment: Development
2025-09-10 11:01:20.524 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-09-10 11:01:20.525 +01:00 [DBG] Hosting started
2025-09-10 11:01:21.175 +01:00 [DBG] Connection id "0HNFGA3V5H6RP" accepted.
2025-09-10 11:01:21.196 +01:00 [DBG] Connection id "0HNFGA3V5H6RP" started.
2025-09-10 11:01:21.252 +01:00 [DBG] Connection 0HNFGA3V5H6RP established using the following protocol: "Tls13"
2025-09-10 11:01:21.311 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee - null null
2025-09-10 11:01:21.357 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 11:01:21.361 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 11:01:21.364 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:01:21.542 +01:00 [DBG] Successfully validated the token.
2025-09-10 11:01:21.545 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:01:21.549 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:01:21.555 +01:00 [DBG] Authorization was successful.
2025-09-10 11:01:21.557 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:01:21.579 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 11:01:21.582 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 11:01:21.583 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 11:01:21.586 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 11:01:21.590 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 11:01:21.592 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 11:01:21.595 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 11:01:21.708 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-10 11:01:22.217 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-09-10 11:01:22.222 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-09-10 11:01:22.362 +01:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2025-09-10 11:01:22.474 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 11:01:22.563 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 11:01:22.582 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 11:01:22.589 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 11:01:22.594 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 11:01:22.597 +01:00 [DBG] Could not find a value in the request with name 'Gender' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 11:01:22.599 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 11:01:22.604 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]' using the name 'DeptId' in request data ...
2025-09-10 11:01:22.608 +01:00 [DBG] Could not find a value in the request with name 'DeptId' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 11:01:22.610 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 11:01:22.612 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2025-09-10 11:01:22.614 +01:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 11:01:22.616 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 11:01:22.619 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:01:22.622 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:01:22.625 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 11:01:22.632 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:01:22.711 +01:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Select(e => new EmployeeResponseDto{ 
        Id = (int?)e.Id, 
        Fullname = string.Format(
            format: "{0} {1} {2}", 
            arg0: e.Firstname, 
            arg1: e.Middlename, 
            arg2: e.Lastname), 
        Gender = e.Gender, 
        Email = e.Email, 
        Phone = e.Phone, 
        DOB = e.DOB, 
        Role = e.Role, 
        DeptId = e.DeptId, 
        DeptName = e.Department.DeptName, 
        IsActive = e.IsActive 
    }
    )'
2025-09-10 11:01:23.036 +01:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<EmployeeResponseDto>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
            5 -> 5
            6 -> 6
            7 -> 7
            8 -> 8
            9 -> 9
            10 -> 10
            11 -> 11
        SELECT e.Id, e.Firstname, e.Middlename, e.Lastname, e.Gender, e.Email, e.Phone, e.DOB, e.Role, e.DeptId, d.DeptName, e.IsActive
        FROM Employees AS e
        LEFT JOIN Departments AS d ON e.DeptId == d.DeptId) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
            5 -> 5
            6 -> 6
            7 -> 7
            8 -> 8
            9 -> 9
            10 -> 10
            11 -> 11
        SELECT e.Id, e.Firstname, e.Middlename, e.Lastname, e.Gender, e.Email, e.Phone, e.DOB, e.Role, e.DeptId, d.DeptName, e.IsActive
        FROM Employees AS e
        LEFT JOIN Departments AS d ON e.DeptId == d.DeptId, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        int? value1;
        string value2;
        string value3;
        string value4;
        string value5;
        string value6;
        string value7;
        DateOnly? value8;
        string value9;
        int? value10;
        string value11;
        bool? value12;
        value1 = (int?)dataReader.GetInt32(0);
        value2 = dataReader.GetString(1);
        value3 = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
        value4 = dataReader.GetString(3);
        value5 = dataReader.GetString(4);
        value6 = dataReader.GetString(5);
        value7 = dataReader.GetString(6);
        value8 = (DateOnly?)dataReader.GetFieldValue<DateOnly>(7);
        value9 = dataReader.GetString(8);
        value10 = dataReader.IsDBNull(9) ? default(int?) : (int?)dataReader.GetInt32(9);
        value11 = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
        value12 = (bool?)dataReader.GetBoolean(11);
        return new EmployeeResponseDto{ 
            Id = value1, 
            Fullname = string.Format(
                format: "{0} {1} {2}", 
                arg0: value2, 
                arg1: value3, 
                arg2: value4), 
            Gender = value5, 
            Email = value6, 
            Phone = value7, 
            DOB = (DateOnly)value8, 
            Role = value9, 
            DeptId = value10, 
            DeptName = value11, 
            IsActive = (bool)value12 
        }
        ;
    }, 
    contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-10 11:01:23.079 +01:00 [DBG] Creating DbConnection.
2025-09-10 11:01:23.105 +01:00 [DBG] Created DbConnection. (22ms).
2025-09-10 11:01:23.112 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:01:23.533 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:01:23.540 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 11:01:23.549 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-09-10 11:01:23.555 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2025-09-10 11:01:23.562 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
2025-09-10 11:01:23.618 +01:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
2025-09-10 11:01:23.645 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:01:23.655 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 24ms reading results.
2025-09-10 11:01:23.661 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:01:23.669 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (7ms).
2025-09-10 11:01:23.678 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 11:01:23.682 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-10 11:01:23.687 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 11:01:23.689 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 11:01:23.690 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 11:01:23.691 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 11:01:23.693 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto, CMSApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-10 11:01:23.714 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 2117.9244ms
2025-09-10 11:01:23.721 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:01:23.728 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 11:01:23.734 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:01:23.739 +01:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-09-10 11:01:23.742 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee - 200 null application/json; charset=utf-8 2435.463ms
2025-09-10 11:03:51.741 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?IsActive=false - null null
2025-09-10 11:03:51.783 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 11:03:51.786 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 11:03:51.789 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:03:51.794 +01:00 [DBG] Successfully validated the token.
2025-09-10 11:03:51.795 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:03:51.797 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:03:51.799 +01:00 [DBG] Authorization was successful.
2025-09-10 11:03:51.800 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:03:51.801 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 11:03:51.803 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 11:03:51.806 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 11:03:51.809 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 11:03:51.812 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 11:03:51.813 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 11:03:51.815 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 11:03:51.869 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 11:03:51.875 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 11:03:51.880 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 11:03:51.883 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 11:03:51.885 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 11:03:51.890 +01:00 [DBG] Could not find a value in the request with name 'Gender' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 11:03:51.894 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 11:03:51.898 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]' using the name 'DeptId' in request data ...
2025-09-10 11:03:51.905 +01:00 [DBG] Could not find a value in the request with name 'DeptId' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 11:03:51.908 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 11:03:51.911 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2025-09-10 11:03:51.914 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 11:03:51.916 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:03:51.918 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:03:51.919 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 11:03:51.922 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:03:51.928 +01:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Where(e => e.IsActive == __filter_IsActive_Value_0)
    .Select(e => new EmployeeResponseDto{ 
        Id = (int?)e.Id, 
        Fullname = string.Format(
            format: "{0} {1} {2}", 
            arg0: e.Firstname, 
            arg1: e.Middlename, 
            arg2: e.Lastname), 
        Gender = e.Gender, 
        Email = e.Email, 
        Phone = e.Phone, 
        DOB = e.DOB, 
        Role = e.Role, 
        DeptId = e.DeptId, 
        DeptName = e.Department.DeptName, 
        IsActive = e.IsActive 
    }
    )'
2025-09-10 11:03:51.942 +01:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<EmployeeResponseDto>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
            5 -> 5
            6 -> 6
            7 -> 7
            8 -> 8
            9 -> 9
            10 -> 10
            11 -> 11
        SELECT e.Id, e.Firstname, e.Middlename, e.Lastname, e.Gender, e.Email, e.Phone, e.DOB, e.Role, e.DeptId, d.DeptName, e.IsActive
        FROM Employees AS e
        LEFT JOIN Departments AS d ON e.DeptId == d.DeptId
        WHERE e.IsActive == @__filter_IsActive_Value_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
            5 -> 5
            6 -> 6
            7 -> 7
            8 -> 8
            9 -> 9
            10 -> 10
            11 -> 11
        SELECT e.Id, e.Firstname, e.Middlename, e.Lastname, e.Gender, e.Email, e.Phone, e.DOB, e.Role, e.DeptId, d.DeptName, e.IsActive
        FROM Employees AS e
        LEFT JOIN Departments AS d ON e.DeptId == d.DeptId
        WHERE e.IsActive == @__filter_IsActive_Value_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        int? value1;
        string value2;
        string value3;
        string value4;
        string value5;
        string value6;
        string value7;
        DateOnly? value8;
        string value9;
        int? value10;
        string value11;
        bool? value12;
        value1 = (int?)dataReader.GetInt32(0);
        value2 = dataReader.GetString(1);
        value3 = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
        value4 = dataReader.GetString(3);
        value5 = dataReader.GetString(4);
        value6 = dataReader.GetString(5);
        value7 = dataReader.GetString(6);
        value8 = (DateOnly?)dataReader.GetFieldValue<DateOnly>(7);
        value9 = dataReader.GetString(8);
        value10 = dataReader.IsDBNull(9) ? default(int?) : (int?)dataReader.GetInt32(9);
        value11 = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
        value12 = (bool?)dataReader.GetBoolean(11);
        return new EmployeeResponseDto{ 
            Id = value1, 
            Fullname = string.Format(
                format: "{0} {1} {2}", 
                arg0: value2, 
                arg1: value3, 
                arg2: value4), 
            Gender = value5, 
            Email = value6, 
            Phone = value7, 
            DOB = (DateOnly)value8, 
            Role = value9, 
            DeptId = value10, 
            DeptName = value11, 
            IsActive = (bool)value12 
        }
        ;
    }, 
    contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-10 11:03:51.952 +01:00 [DBG] Creating DbConnection.
2025-09-10 11:03:51.955 +01:00 [DBG] Created DbConnection. (3ms).
2025-09-10 11:03:51.958 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:03:51.961 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:03:51.963 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 11:03:51.964 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-10 11:03:51.968 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-09-10 11:03:51.977 +01:00 [DBG] Executing DbCommand [Parameters=[@__filter_IsActive_Value_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[IsActive] = @__filter_IsActive_Value_0
2025-09-10 11:03:52.014 +01:00 [INF] Executed DbCommand (44ms) [Parameters=[@__filter_IsActive_Value_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[IsActive] = @__filter_IsActive_Value_0
2025-09-10 11:03:52.020 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:03:52.024 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-09-10 11:03:52.027 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:03:52.029 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (1ms).
2025-09-10 11:03:52.031 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 11:03:52.035 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-10 11:03:52.038 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 11:03:52.040 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 11:03:52.041 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 11:03:52.042 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 11:03:52.044 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto, CMSApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-10 11:03:52.046 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 231.3952ms
2025-09-10 11:03:52.049 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:03:52.050 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 11:03:52.052 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:03:52.053 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-09-10 11:03:52.056 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?IsActive=false - 200 null application/json; charset=utf-8 351.7327ms
2025-09-10 11:04:13.005 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee - null null
2025-09-10 11:04:13.017 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 11:04:13.020 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 11:04:13.022 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:04:13.025 +01:00 [DBG] Successfully validated the token.
2025-09-10 11:04:13.026 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:04:13.028 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:04:13.029 +01:00 [DBG] Authorization was successful.
2025-09-10 11:04:13.030 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:04:13.032 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 11:04:13.035 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 11:04:13.038 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 11:04:13.040 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 11:04:13.043 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 11:04:13.045 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 11:04:13.047 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 11:04:13.078 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 11:04:13.112 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 11:04:13.137 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 11:04:13.160 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 11:04:13.182 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 11:04:13.210 +01:00 [DBG] Could not find a value in the request with name 'Gender' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 11:04:13.245 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 11:04:13.291 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]' using the name 'DeptId' in request data ...
2025-09-10 11:04:13.309 +01:00 [DBG] Could not find a value in the request with name 'DeptId' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 11:04:13.315 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 11:04:13.325 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2025-09-10 11:04:13.330 +01:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 11:04:13.341 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 11:04:13.346 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:04:13.350 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:04:13.354 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 11:04:13.357 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:04:13.369 +01:00 [DBG] Creating DbConnection.
2025-09-10 11:04:13.371 +01:00 [DBG] Created DbConnection. (2ms).
2025-09-10 11:04:13.373 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:04:13.376 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:04:13.378 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 11:04:13.380 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-10 11:04:13.383 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-09-10 11:04:13.387 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
2025-09-10 11:04:13.394 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
2025-09-10 11:04:13.399 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:04:13.403 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-09-10 11:04:13.406 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:04:13.409 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (2ms).
2025-09-10 11:04:13.413 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 11:04:13.419 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-10 11:04:13.423 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 11:04:13.425 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 11:04:13.427 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 11:04:13.429 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 11:04:13.432 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto, CMSApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-10 11:04:13.436 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 389.6936ms
2025-09-10 11:04:13.440 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:04:13.442 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 11:04:13.444 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:04:13.447 +01:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-09-10 11:04:13.455 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee - 200 null application/json; charset=utf-8 449.256ms
2025-09-10 11:04:37.097 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?Gender=male - null null
2025-09-10 11:04:37.118 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 11:04:37.120 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 11:04:37.122 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:04:37.125 +01:00 [DBG] Successfully validated the token.
2025-09-10 11:04:37.130 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:04:37.148 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:04:37.170 +01:00 [DBG] Authorization was successful.
2025-09-10 11:04:37.183 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:04:37.203 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 11:04:37.245 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 11:04:37.288 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 11:04:37.365 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 11:04:37.371 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 11:04:37.376 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 11:04:37.380 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 11:04:37.384 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 11:04:37.387 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 11:04:37.391 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 11:04:37.395 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 11:04:37.398 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 11:04:37.402 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 11:04:37.406 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]' using the name 'DeptId' in request data ...
2025-09-10 11:04:37.412 +01:00 [DBG] Could not find a value in the request with name 'DeptId' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 11:04:37.417 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 11:04:37.421 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2025-09-10 11:04:37.428 +01:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 11:04:37.432 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 11:04:37.435 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:04:37.439 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:04:37.443 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 11:04:37.446 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:04:37.450 +01:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Where(e => e.Gender == __filter_Gender_0)
    .Select(e => new EmployeeResponseDto{ 
        Id = (int?)e.Id, 
        Fullname = string.Format(
            format: "{0} {1} {2}", 
            arg0: e.Firstname, 
            arg1: e.Middlename, 
            arg2: e.Lastname), 
        Gender = e.Gender, 
        Email = e.Email, 
        Phone = e.Phone, 
        DOB = e.DOB, 
        Role = e.Role, 
        DeptId = e.DeptId, 
        DeptName = e.Department.DeptName, 
        IsActive = e.IsActive 
    }
    )'
2025-09-10 11:04:37.461 +01:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<EmployeeResponseDto>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
            5 -> 5
            6 -> 6
            7 -> 7
            8 -> 8
            9 -> 9
            10 -> 10
            11 -> 11
        SELECT e.Id, e.Firstname, e.Middlename, e.Lastname, e.Gender, e.Email, e.Phone, e.DOB, e.Role, e.DeptId, d.DeptName, e.IsActive
        FROM Employees AS e
        LEFT JOIN Departments AS d ON e.DeptId == d.DeptId
        WHERE e.Gender == @__filter_Gender_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
            5 -> 5
            6 -> 6
            7 -> 7
            8 -> 8
            9 -> 9
            10 -> 10
            11 -> 11
        SELECT e.Id, e.Firstname, e.Middlename, e.Lastname, e.Gender, e.Email, e.Phone, e.DOB, e.Role, e.DeptId, d.DeptName, e.IsActive
        FROM Employees AS e
        LEFT JOIN Departments AS d ON e.DeptId == d.DeptId
        WHERE e.Gender == @__filter_Gender_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        int? value1;
        string value2;
        string value3;
        string value4;
        string value5;
        string value6;
        string value7;
        DateOnly? value8;
        string value9;
        int? value10;
        string value11;
        bool? value12;
        value1 = (int?)dataReader.GetInt32(0);
        value2 = dataReader.GetString(1);
        value3 = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
        value4 = dataReader.GetString(3);
        value5 = dataReader.GetString(4);
        value6 = dataReader.GetString(5);
        value7 = dataReader.GetString(6);
        value8 = (DateOnly?)dataReader.GetFieldValue<DateOnly>(7);
        value9 = dataReader.GetString(8);
        value10 = dataReader.IsDBNull(9) ? default(int?) : (int?)dataReader.GetInt32(9);
        value11 = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
        value12 = (bool?)dataReader.GetBoolean(11);
        return new EmployeeResponseDto{ 
            Id = value1, 
            Fullname = string.Format(
                format: "{0} {1} {2}", 
                arg0: value2, 
                arg1: value3, 
                arg2: value4), 
            Gender = value5, 
            Email = value6, 
            Phone = value7, 
            DOB = (DateOnly)value8, 
            Role = value9, 
            DeptId = value10, 
            DeptName = value11, 
            IsActive = (bool)value12 
        }
        ;
    }, 
    contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-10 11:04:37.467 +01:00 [DBG] Creating DbConnection.
2025-09-10 11:04:37.469 +01:00 [DBG] Created DbConnection. (2ms).
2025-09-10 11:04:37.473 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:04:37.477 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:04:37.482 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 11:04:37.485 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-09-10 11:04:37.492 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-09-10 11:04:37.497 +01:00 [DBG] Executing DbCommand [Parameters=[@__filter_Gender_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0
2025-09-10 11:04:37.516 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__filter_Gender_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0
2025-09-10 11:04:37.522 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:04:37.526 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-09-10 11:04:37.531 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:04:37.535 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (3ms).
2025-09-10 11:04:37.540 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 11:04:37.546 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-10 11:04:37.550 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 11:04:37.553 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 11:04:37.555 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 11:04:37.557 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 11:04:37.561 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto, CMSApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-10 11:04:37.565 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 185.7809ms
2025-09-10 11:04:37.569 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:04:37.573 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 11:04:37.576 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:04:37.580 +01:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-09-10 11:04:37.584 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?Gender=male - 200 null application/json; charset=utf-8 487.7392ms
2025-09-10 11:04:50.356 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?Gender=female - null null
2025-09-10 11:04:50.362 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 11:04:50.364 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 11:04:50.366 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:04:50.368 +01:00 [DBG] Successfully validated the token.
2025-09-10 11:04:50.369 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:04:50.370 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:04:50.373 +01:00 [DBG] Authorization was successful.
2025-09-10 11:04:50.373 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:04:50.375 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 11:04:50.379 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 11:04:50.380 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 11:04:50.382 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 11:04:50.384 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 11:04:50.385 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 11:04:50.387 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 11:04:50.389 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 11:04:50.391 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 11:04:50.393 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 11:04:50.395 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 11:04:50.397 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 11:04:50.398 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 11:04:50.400 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]' using the name 'DeptId' in request data ...
2025-09-10 11:04:50.402 +01:00 [DBG] Could not find a value in the request with name 'DeptId' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 11:04:50.404 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 11:04:50.406 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2025-09-10 11:04:50.410 +01:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 11:04:50.413 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 11:04:50.415 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:04:50.417 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:04:50.418 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 11:04:50.420 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:04:50.423 +01:00 [DBG] Creating DbConnection.
2025-09-10 11:04:50.425 +01:00 [DBG] Created DbConnection. (2ms).
2025-09-10 11:04:50.428 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:04:50.431 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:04:50.432 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 11:04:50.434 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-10 11:04:50.435 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-09-10 11:04:50.437 +01:00 [DBG] Executing DbCommand [Parameters=[@__filter_Gender_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0
2025-09-10 11:04:50.439 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__filter_Gender_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0
2025-09-10 11:04:50.443 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:04:50.445 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-09-10 11:04:50.447 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:04:50.448 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (1ms).
2025-09-10 11:04:50.450 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 11:04:50.453 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-10 11:04:50.454 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 11:04:50.456 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 11:04:50.457 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 11:04:50.458 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 11:04:50.461 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto, CMSApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-10 11:04:50.463 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 75.9529ms
2025-09-10 11:04:50.465 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:04:50.466 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 11:04:50.467 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:04:50.468 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-09-10 11:04:50.470 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?Gender=female - 200 null application/json; charset=utf-8 113.2458ms
2025-09-10 11:05:05.077 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?Gender=2 - null null
2025-09-10 11:05:05.083 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 11:05:05.084 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 11:05:05.087 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:05:05.088 +01:00 [DBG] Successfully validated the token.
2025-09-10 11:05:05.089 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:05:05.092 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:05:05.095 +01:00 [DBG] Authorization was successful.
2025-09-10 11:05:05.096 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:05:05.098 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 11:05:05.100 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 11:05:05.101 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 11:05:05.103 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 11:05:05.105 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 11:05:05.109 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 11:05:05.132 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 11:05:05.159 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 11:05:05.198 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 11:05:05.220 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 11:05:05.239 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 11:05:05.262 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 11:05:05.289 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 11:05:05.323 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]' using the name 'DeptId' in request data ...
2025-09-10 11:05:05.356 +01:00 [DBG] Could not find a value in the request with name 'DeptId' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 11:05:05.366 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 11:05:05.370 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2025-09-10 11:05:05.375 +01:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 11:05:05.380 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 11:05:05.384 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:05:05.386 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:05:05.389 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 11:05:05.393 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:05:05.398 +01:00 [DBG] Creating DbConnection.
2025-09-10 11:05:05.400 +01:00 [DBG] Created DbConnection. (1ms).
2025-09-10 11:05:05.402 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:05.405 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:05.408 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 11:05:05.411 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-09-10 11:05:05.415 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-09-10 11:05:05.417 +01:00 [DBG] Executing DbCommand [Parameters=[@__filter_Gender_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0
2025-09-10 11:05:05.422 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__filter_Gender_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0
2025-09-10 11:05:05.427 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:05.431 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-09-10 11:05:05.434 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:05.437 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (2ms).
2025-09-10 11:05:05.440 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 11:05:05.446 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-10 11:05:05.449 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 11:05:05.452 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 11:05:05.454 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 11:05:05.456 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 11:05:05.460 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto[]'.
2025-09-10 11:05:05.464 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 332.7445ms
2025-09-10 11:05:05.468 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:05:05.470 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 11:05:05.473 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:05.478 +01:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-09-10 11:05:05.483 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?Gender=2 - 200 null application/json; charset=utf-8 405.5748ms
2025-09-10 11:05:11.915 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?Gender=4 - null null
2025-09-10 11:05:11.926 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 11:05:11.928 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 11:05:11.933 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:05:11.936 +01:00 [DBG] Successfully validated the token.
2025-09-10 11:05:11.938 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:05:11.939 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:05:11.941 +01:00 [DBG] Authorization was successful.
2025-09-10 11:05:11.941 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:05:11.943 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 11:05:11.947 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 11:05:11.949 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 11:05:11.951 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 11:05:11.955 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 11:05:11.957 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 11:05:11.959 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 11:05:11.962 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 11:05:11.964 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 11:05:11.966 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 11:05:11.968 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 11:05:11.971 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 11:05:11.974 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 11:05:11.977 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]' using the name 'DeptId' in request data ...
2025-09-10 11:05:11.979 +01:00 [DBG] Could not find a value in the request with name 'DeptId' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 11:05:11.981 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 11:05:11.983 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2025-09-10 11:05:11.985 +01:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 11:05:11.988 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 11:05:11.991 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:05:11.992 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:05:11.994 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 11:05:11.995 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:05:11.997 +01:00 [DBG] Creating DbConnection.
2025-09-10 11:05:11.998 +01:00 [DBG] Created DbConnection. (0ms).
2025-09-10 11:05:11.999 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:12.002 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:12.005 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 11:05:12.007 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-09-10 11:05:12.008 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-10 11:05:12.010 +01:00 [DBG] Executing DbCommand [Parameters=[@__filter_Gender_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0
2025-09-10 11:05:12.013 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__filter_Gender_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0
2025-09-10 11:05:12.016 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:12.018 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-09-10 11:05:12.021 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:12.023 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (1ms).
2025-09-10 11:05:12.025 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 11:05:12.027 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-10 11:05:12.028 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 11:05:12.031 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 11:05:12.031 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 11:05:12.032 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 11:05:12.034 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto[]'.
2025-09-10 11:05:12.036 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 77.3197ms
2025-09-10 11:05:12.039 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:05:12.040 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 11:05:12.041 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:12.042 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-09-10 11:05:12.044 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?Gender=4 - 200 null application/json; charset=utf-8 129.4369ms
2025-09-10 11:05:18.003 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?Gender=3 - null null
2025-09-10 11:05:18.008 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 11:05:18.010 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 11:05:18.013 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:05:18.015 +01:00 [DBG] Successfully validated the token.
2025-09-10 11:05:18.016 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:05:18.018 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:05:18.019 +01:00 [DBG] Authorization was successful.
2025-09-10 11:05:18.020 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:05:18.022 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 11:05:18.024 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 11:05:18.025 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 11:05:18.027 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 11:05:18.030 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 11:05:18.032 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 11:05:18.033 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 11:05:18.036 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 11:05:18.038 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 11:05:18.039 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 11:05:18.041 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 11:05:18.042 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 11:05:18.045 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 11:05:18.048 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]' using the name 'DeptId' in request data ...
2025-09-10 11:05:18.050 +01:00 [DBG] Could not find a value in the request with name 'DeptId' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 11:05:18.052 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 11:05:18.054 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2025-09-10 11:05:18.056 +01:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 11:05:18.058 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 11:05:18.059 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:05:18.061 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:05:18.063 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 11:05:18.066 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:05:18.068 +01:00 [DBG] Creating DbConnection.
2025-09-10 11:05:18.069 +01:00 [DBG] Created DbConnection. (1ms).
2025-09-10 11:05:18.070 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:18.072 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:18.073 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 11:05:18.074 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-10 11:05:18.076 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-09-10 11:05:18.077 +01:00 [DBG] Executing DbCommand [Parameters=[@__filter_Gender_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0
2025-09-10 11:05:18.081 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__filter_Gender_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0
2025-09-10 11:05:18.084 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:18.086 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-09-10 11:05:18.087 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:18.089 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (1ms).
2025-09-10 11:05:18.091 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 11:05:18.094 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-10 11:05:18.097 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 11:05:18.098 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 11:05:18.099 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 11:05:18.100 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 11:05:18.101 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto[]'.
2025-09-10 11:05:18.103 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 69.2031ms
2025-09-10 11:05:18.105 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:05:18.106 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 11:05:18.107 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:18.108 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-09-10 11:05:18.110 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?Gender=3 - 200 null application/json; charset=utf-8 107.3917ms
2025-09-10 11:05:21.685 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?Gender=3 - null null
2025-09-10 11:05:21.690 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 11:05:21.692 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 11:05:21.694 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:05:21.697 +01:00 [DBG] Successfully validated the token.
2025-09-10 11:05:21.698 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:05:21.699 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:05:21.700 +01:00 [DBG] Authorization was successful.
2025-09-10 11:05:21.701 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:05:21.702 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 11:05:21.704 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 11:05:21.705 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 11:05:21.707 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 11:05:21.709 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 11:05:21.711 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 11:05:21.713 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 11:05:21.715 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 11:05:21.716 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 11:05:21.718 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 11:05:21.719 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 11:05:21.720 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 11:05:21.722 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 11:05:21.725 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]' using the name 'DeptId' in request data ...
2025-09-10 11:05:21.727 +01:00 [DBG] Could not find a value in the request with name 'DeptId' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 11:05:21.729 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 11:05:21.731 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2025-09-10 11:05:21.732 +01:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 11:05:21.734 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 11:05:21.736 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:05:21.737 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:05:21.738 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 11:05:21.740 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:05:21.744 +01:00 [DBG] Creating DbConnection.
2025-09-10 11:05:21.745 +01:00 [DBG] Created DbConnection. (1ms).
2025-09-10 11:05:21.746 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:21.747 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:21.749 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 11:05:21.750 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-10 11:05:21.751 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-09-10 11:05:21.753 +01:00 [DBG] Executing DbCommand [Parameters=[@__filter_Gender_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0
2025-09-10 11:05:21.767 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__filter_Gender_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[Gender] = @__filter_Gender_0
2025-09-10 11:05:21.770 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:21.772 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-09-10 11:05:21.774 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:21.776 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (2ms).
2025-09-10 11:05:21.778 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 11:05:21.781 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-10 11:05:21.783 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 11:05:21.784 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 11:05:21.785 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 11:05:21.786 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 11:05:21.788 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto[]'.
2025-09-10 11:05:21.790 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 76.8818ms
2025-09-10 11:05:21.792 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:05:21.794 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 11:05:21.796 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:21.797 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-09-10 11:05:21.799 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?Gender=3 - 200 null application/json; charset=utf-8 114.3505ms
2025-09-10 11:05:32.521 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?DeptId=3 - null null
2025-09-10 11:05:32.532 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 11:05:32.538 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 11:05:32.545 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:05:32.552 +01:00 [DBG] Successfully validated the token.
2025-09-10 11:05:32.555 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:05:32.560 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:05:32.565 +01:00 [DBG] Authorization was successful.
2025-09-10 11:05:32.570 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:05:32.575 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 11:05:32.584 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 11:05:32.592 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 11:05:32.603 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 11:05:32.615 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 11:05:32.622 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 11:05:32.629 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 11:05:32.636 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 11:05:32.644 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 11:05:32.650 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 11:05:32.656 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 11:05:32.665 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 11:05:32.674 +01:00 [DBG] Could not find a value in the request with name 'Gender' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 11:05:32.683 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 11:05:32.691 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]' using the name 'DeptId' in request data ...
2025-09-10 11:05:32.701 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 11:05:32.710 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2025-09-10 11:05:32.723 +01:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 11:05:32.731 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 11:05:32.739 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:05:32.750 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:05:32.756 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 11:05:32.763 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:05:32.771 +01:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Where(e => e.DeptId == __filter_DeptId_0)
    .Select(e => new EmployeeResponseDto{ 
        Id = (int?)e.Id, 
        Fullname = string.Format(
            format: "{0} {1} {2}", 
            arg0: e.Firstname, 
            arg1: e.Middlename, 
            arg2: e.Lastname), 
        Gender = e.Gender, 
        Email = e.Email, 
        Phone = e.Phone, 
        DOB = e.DOB, 
        Role = e.Role, 
        DeptId = e.DeptId, 
        DeptName = e.Department.DeptName, 
        IsActive = e.IsActive 
    }
    )'
2025-09-10 11:05:32.785 +01:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<EmployeeResponseDto>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
            5 -> 5
            6 -> 6
            7 -> 7
            8 -> 8
            9 -> 9
            10 -> 10
            11 -> 11
        SELECT e.Id, e.Firstname, e.Middlename, e.Lastname, e.Gender, e.Email, e.Phone, e.DOB, e.Role, e.DeptId, d.DeptName, e.IsActive
        FROM Employees AS e
        LEFT JOIN Departments AS d ON e.DeptId == d.DeptId
        WHERE e.DeptId == @__filter_DeptId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
            5 -> 5
            6 -> 6
            7 -> 7
            8 -> 8
            9 -> 9
            10 -> 10
            11 -> 11
        SELECT e.Id, e.Firstname, e.Middlename, e.Lastname, e.Gender, e.Email, e.Phone, e.DOB, e.Role, e.DeptId, d.DeptName, e.IsActive
        FROM Employees AS e
        LEFT JOIN Departments AS d ON e.DeptId == d.DeptId
        WHERE e.DeptId == @__filter_DeptId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        int? value1;
        string value2;
        string value3;
        string value4;
        string value5;
        string value6;
        string value7;
        DateOnly? value8;
        string value9;
        int? value10;
        string value11;
        bool? value12;
        value1 = (int?)dataReader.GetInt32(0);
        value2 = dataReader.GetString(1);
        value3 = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
        value4 = dataReader.GetString(3);
        value5 = dataReader.GetString(4);
        value6 = dataReader.GetString(5);
        value7 = dataReader.GetString(6);
        value8 = (DateOnly?)dataReader.GetFieldValue<DateOnly>(7);
        value9 = dataReader.GetString(8);
        value10 = dataReader.IsDBNull(9) ? default(int?) : (int?)dataReader.GetInt32(9);
        value11 = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
        value12 = (bool?)dataReader.GetBoolean(11);
        return new EmployeeResponseDto{ 
            Id = value1, 
            Fullname = string.Format(
                format: "{0} {1} {2}", 
                arg0: value2, 
                arg1: value3, 
                arg2: value4), 
            Gender = value5, 
            Email = value6, 
            Phone = value7, 
            DOB = (DateOnly)value8, 
            Role = value9, 
            DeptId = value10, 
            DeptName = value11, 
            IsActive = (bool)value12 
        }
        ;
    }, 
    contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-10 11:05:32.808 +01:00 [DBG] Creating DbConnection.
2025-09-10 11:05:32.812 +01:00 [DBG] Created DbConnection. (3ms).
2025-09-10 11:05:32.818 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:32.824 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:32.831 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 11:05:32.837 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-10 11:05:32.843 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-09-10 11:05:32.850 +01:00 [DBG] Executing DbCommand [Parameters=[@__filter_DeptId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[DeptId] = @__filter_DeptId_0
2025-09-10 11:05:32.902 +01:00 [INF] Executed DbCommand (52ms) [Parameters=[@__filter_DeptId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[DeptId] = @__filter_DeptId_0
2025-09-10 11:05:32.920 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:32.932 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 12ms reading results.
2025-09-10 11:05:33.061 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:33.069 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (8ms).
2025-09-10 11:05:33.072 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 11:05:33.075 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-10 11:05:33.084 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 11:05:33.090 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 11:05:33.091 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 11:05:33.093 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 11:05:33.105 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto, CMSApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-10 11:05:33.107 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 478.7456ms
2025-09-10 11:05:33.110 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:05:33.117 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 11:05:33.124 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:33.131 +01:00 [DBG] Disposed connection to database '' on server '' (7ms).
2025-09-10 11:05:33.171 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?DeptId=3 - 200 null application/json; charset=utf-8 650.0152ms
2025-09-10 11:05:41.366 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?DeptId=4 - null null
2025-09-10 11:05:41.371 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 11:05:41.372 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 11:05:41.376 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:05:41.377 +01:00 [DBG] Successfully validated the token.
2025-09-10 11:05:41.378 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:05:41.380 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:05:41.381 +01:00 [DBG] Authorization was successful.
2025-09-10 11:05:41.382 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:05:41.383 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 11:05:41.388 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 11:05:41.391 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 11:05:41.393 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 11:05:41.396 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 11:05:41.398 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 11:05:41.400 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 11:05:41.403 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 11:05:41.407 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 11:05:41.408 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 11:05:41.410 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 11:05:41.412 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 11:05:41.415 +01:00 [DBG] Could not find a value in the request with name 'Gender' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 11:05:41.418 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 11:05:41.421 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]' using the name 'DeptId' in request data ...
2025-09-10 11:05:41.423 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 11:05:41.425 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2025-09-10 11:05:41.428 +01:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 11:05:41.430 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 11:05:41.432 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:05:41.434 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:05:41.438 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 11:05:41.441 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:05:41.442 +01:00 [DBG] Creating DbConnection.
2025-09-10 11:05:41.444 +01:00 [DBG] Created DbConnection. (1ms).
2025-09-10 11:05:41.445 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:41.447 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:41.448 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 11:05:41.450 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-10 11:05:41.452 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-10 11:05:41.454 +01:00 [DBG] Executing DbCommand [Parameters=[@__filter_DeptId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[DeptId] = @__filter_DeptId_0
2025-09-10 11:05:41.458 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__filter_DeptId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[DeptId] = @__filter_DeptId_0
2025-09-10 11:05:41.461 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:41.463 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-09-10 11:05:41.465 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:41.466 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (1ms).
2025-09-10 11:05:41.468 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 11:05:41.472 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-10 11:05:41.474 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 11:05:41.475 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 11:05:41.476 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 11:05:41.477 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 11:05:41.478 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto[]'.
2025-09-10 11:05:41.480 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 80.5655ms
2025-09-10 11:05:41.482 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:05:41.483 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 11:05:41.484 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:41.486 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-09-10 11:05:41.488 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?DeptId=4 - 200 null application/json; charset=utf-8 121.7161ms
2025-09-10 11:05:47.174 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?DeptId=1 - null null
2025-09-10 11:05:47.179 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 11:05:47.181 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 11:05:47.184 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:05:47.185 +01:00 [DBG] Successfully validated the token.
2025-09-10 11:05:47.187 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:05:47.188 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:05:47.189 +01:00 [DBG] Authorization was successful.
2025-09-10 11:05:47.190 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:05:47.191 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 11:05:47.193 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 11:05:47.196 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 11:05:47.198 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 11:05:47.201 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 11:05:47.203 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 11:05:47.204 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 11:05:47.207 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 11:05:47.210 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 11:05:47.211 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 11:05:47.213 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 11:05:47.215 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 11:05:47.217 +01:00 [DBG] Could not find a value in the request with name 'Gender' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 11:05:47.219 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 11:05:47.221 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]' using the name 'DeptId' in request data ...
2025-09-10 11:05:47.223 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DeptId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 11:05:47.224 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2025-09-10 11:05:47.226 +01:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 11:05:47.228 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 11:05:47.231 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:05:47.233 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:05:47.234 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 11:05:47.236 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 11:05:47.237 +01:00 [DBG] Creating DbConnection.
2025-09-10 11:05:47.238 +01:00 [DBG] Created DbConnection. (0ms).
2025-09-10 11:05:47.239 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:47.241 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:47.242 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 11:05:47.243 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-10 11:05:47.245 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-09-10 11:05:47.246 +01:00 [DBG] Executing DbCommand [Parameters=[@__filter_DeptId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[DeptId] = @__filter_DeptId_0
2025-09-10 11:05:47.250 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__filter_DeptId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DeptId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DeptId] = [d].[DeptId]
WHERE [e].[DeptId] = @__filter_DeptId_0
2025-09-10 11:05:47.253 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:47.254 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-09-10 11:05:47.256 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:47.257 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (1ms).
2025-09-10 11:05:47.259 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 11:05:47.263 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-10 11:05:47.267 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 11:05:47.268 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 11:05:47.270 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 11:05:47.271 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 11:05:47.272 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto, CMSApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-10 11:05:47.274 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 69.64ms
2025-09-10 11:05:47.275 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 11:05:47.277 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 11:05:47.278 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:05:47.281 +01:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-09-10 11:05:47.284 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?DeptId=1 - 200 null application/json; charset=utf-8 109.665ms
2025-09-10 11:10:36.658 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Dept - null null
2025-09-10 11:10:36.677 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept'
2025-09-10 11:10:36.681 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)' with route pattern 'api/Dept' is valid for the request path '/api/Dept'
2025-09-10 11:10:36.687 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)'
2025-09-10 11:10:36.691 +01:00 [DBG] Successfully validated the token.
2025-09-10 11:10:36.695 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:10:36.707 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:10:36.724 +01:00 [DBG] Authorization was successful.
2025-09-10 11:10:36.746 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)'
2025-09-10 11:10:36.813 +01:00 [INF] Route matched with {action = "GetDepartments", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartments() on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-09-10 11:10:36.831 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 11:10:36.841 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 11:10:36.847 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 11:10:36.854 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 11:10:36.859 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 11:10:36.863 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-10 11:10:36.871 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 11:10:36.878 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-10 11:10:36.892 +01:00 [DBG] Compiling query expression: 
'DbSet<Department>()'
2025-09-10 11:10:37.014 +01:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Department>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.DeptId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
        SELECT d.DeptId, d.CreatedAt, d.DeptName, d.UpdatedAt
        FROM Departments AS d) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.DeptId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
        SELECT d.DeptId, d.CreatedAt, d.DeptName, d.UpdatedAt
        FROM Departments AS d, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Department entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Department instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Department);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Department.DeptId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Department)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]: 
                        {
                            return 
                            {
                                Department instance;
                                instance = new Department();
                                instance.<DeptId>k__BackingField = dataReader.GetInt32(0);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                instance.<DeptName>k__BackingField = dataReader.GetString(2);
                                instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(3);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Department)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-10 11:10:37.032 +01:00 [DBG] Creating DbConnection.
2025-09-10 11:10:37.036 +01:00 [DBG] Created DbConnection. (3ms).
2025-09-10 11:10:37.041 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:10:37.050 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:10:37.057 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 11:10:37.061 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-09-10 11:10:37.066 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-09-10 11:10:37.072 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-10 11:10:37.101 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-10 11:10:37.305 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 11:10:37.395 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:10:37.400 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 291ms reading results.
2025-09-10 11:10:37.408 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:10:37.413 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (4ms).
2025-09-10 11:10:37.464 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:10:37.471 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:10:37.477 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 11:10:37.482 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-09-10 11:10:37.487 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-09-10 11:10:37.492 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-10 11:10:37.501 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-10 11:10:37.514 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 11:10:37.520 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 11:10:37.526 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 11:10:37.530 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 11:10:37.537 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:10:37.542 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 31ms reading results.
2025-09-10 11:10:37.548 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:10:37.554 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (5ms).
2025-09-10 11:10:37.561 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 11:10:37.572 +01:00 [DBG] No information found on request to perform content negotiation.
2025-09-10 11:10:37.575 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 11:10:37.579 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 11:10:37.582 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 11:10:37.590 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.DeptDto.DepartmentResponseDto'.
2025-09-10 11:10:37.599 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi) in 736.0885ms
2025-09-10 11:10:37.606 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)'
2025-09-10 11:10:37.610 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 11:10:37.613 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:10:37.617 +01:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-09-10 11:10:37.622 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Dept - 200 null application/json; charset=utf-8 963.5751ms
2025-09-10 11:11:31.673 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7258/api/Dept - application/json 80
2025-09-10 11:11:31.685 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept'
2025-09-10 11:11:31.686 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)' with route pattern 'api/Dept' is valid for the request path '/api/Dept'
2025-09-10 11:11:31.688 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-09-10 11:11:31.691 +01:00 [INF] No CORS policy found for the specified request.
2025-09-10 11:11:31.692 +01:00 [DBG] Successfully validated the token.
2025-09-10 11:11:31.694 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:11:31.696 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:11:31.697 +01:00 [DBG] Authorization was successful.
2025-09-10 11:11:31.698 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-09-10 11:11:31.702 +01:00 [INF] Route matched with {action = "CreateDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateDepartment(CMSApi.Application.DTO.DeptDto.CreateDeptDto) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-09-10 11:11:31.704 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 11:11:31.706 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 11:11:31.708 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 11:11:31.710 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 11:11:31.713 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 11:11:31.715 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-10 11:11:31.717 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 11:11:31.719 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-10 11:11:31.721 +01:00 [DBG] Attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' ...
2025-09-10 11:11:31.723 +01:00 [DBG] Attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' using the name '' in request data ...
2025-09-10 11:11:31.726 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-10 11:11:31.735 +01:00 [DBG] Connection id "0HNFGA3V5H6RP", Request id "0HNFGA3V5H6RP:0000001B": started reading request body.
2025-09-10 11:11:31.737 +01:00 [DBG] Connection id "0HNFGA3V5H6RP", Request id "0HNFGA3V5H6RP:0000001B": done reading request body.
2025-09-10 11:11:31.747 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'
2025-09-10 11:11:31.750 +01:00 [DBG] Done attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-09-10 11:11:31.752 +01:00 [DBG] Done attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-09-10 11:11:31.753 +01:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' ...
2025-09-10 11:11:31.756 +01:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-09-10 11:11:31.792 +01:00 [DBG] 'CMSDbContext' generated a temporary value for the property 'Department.DeptId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 11:11:31.805 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 11:15:26.428 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi) in 234713.2597ms
2025-09-10 11:15:26.439 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-09-10 11:15:26.441 +01:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
EntityEntry`1 -> ResponseDto
Microsoft.EntityFrameworkCore.ChangeTracking.EntityEntry`1[[CMSApi.Domain.Entities.Department, CMSApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> CMSApi.Application.DTO.DeptDto.ResponseDto
   at lambda_method122(Closure, Object, ResponseDto, ResolutionContext)
   at CMSApi.Application.Services.DeptService.CreateDepartment(CreateDeptDto dto)
   at CMSApi.Presentation.Controllers.DeptController.CreateDepartment(CreateDeptDto dto)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-10 11:15:26.470 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 11:15:26.472 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7258/api/Dept - 500 null text/plain; charset=utf-8 234798.7363ms
2025-09-10 11:15:27.421 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-09-10 11:15:27.651 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-09-10 11:15:27.654 +01:00 [DBG] Request did not match any endpoints
2025-09-10 11:15:27.732 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-09-10 11:15:27.737 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-09-10 11:15:27.747 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-09-10 11:15:27.749 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-09-10 11:15:27.752 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 330.7359ms
2025-09-10 11:15:27.761 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-09-10 11:15:27.762 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-09-10 11:15:27.784 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-09-10 11:15:27.788 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 26.6452ms
2025-09-10 11:15:27.810 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.0507ms
2025-09-10 11:15:28.238 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-09-10 11:15:28.245 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-09-10 11:15:28.248 +01:00 [DBG] Request did not match any endpoints
2025-09-10 11:15:28.261 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-10 11:15:28.265 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-10 11:15:28.468 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 230.2443ms
2025-09-10 11:17:11.674 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7258/api/signin - application/json 74
2025-09-10 11:17:11.681 +01:00 [DBG] 1 candidate(s) found for the request path '/api/signin'
2025-09-10 11:17:11.683 +01:00 [DBG] Request matched endpoint 'HTTP: POST /api/signin => SignIn'
2025-09-10 11:17:11.685 +01:00 [INF] No CORS policy found for the specified request.
2025-09-10 11:17:11.687 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-10 11:17:11.689 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-10 11:17:11.691 +01:00 [INF] Executing endpoint 'HTTP: POST /api/signin => SignIn'
2025-09-10 11:17:11.694 +01:00 [DBG] Connection id "0HNFGA3V5H6RP", Request id "0HNFGA3V5H6RP:00000025": started reading request body.
2025-09-10 11:17:11.695 +01:00 [DBG] Connection id "0HNFGA3V5H6RP", Request id "0HNFGA3V5H6RP:00000025": done reading request body.
2025-09-10 11:17:11.719 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 11:17:11.726 +01:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-09-10 11:17:11.751 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: SingleQueryingEnumerable.Create<AppUser>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: AppUser.DOB (DateOnly) Required, 16], [Property: AppUser.Fullname (string) Required, 17], [Property: AppUser.Gender (string) Required, 18], [Property: AppUser.LibraryID (int?), 19] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.DOB, a.Fullname, a.Gender, a.LibraryID
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'AppUser') && (a.NormalizedEmail == @__normalizedEmail_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: AppUser.DOB (DateOnly) Required, 16], [Property: AppUser.Fullname (string) Required, 17], [Property: AppUser.Gender (string) Required, 18], [Property: AppUser.LibraryID (int?), 19] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.DOB, a.Fullname, a.Gender, a.LibraryID
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'AppUser') && (a.NormalizedEmail == @__normalizedEmail_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            AppUser entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                AppUser instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(AppUser);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: IdentityUser.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (AppUser)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = 
                    {
                        string discriminator;
                        discriminator = dataReader.GetString(3);
                        return switch (discriminator)
                        {
                            case "AppUser": 
                                [LIFTABLE Constant: EntityType: AppUser Base: IdentityUser | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser")]
                            default: 
                                {
                                    throw StructuralTypeShaperExpression.CreateUnableToDiscriminateException(
                                        type: [LIFTABLE Constant: EntityType: AppUser Base: IdentityUser | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser")], 
                                        discriminator: (object)discriminator);
                                    return null;
                                }
                        }
                    };
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: AppUser Base: IdentityUser | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser")]: 
                            {
                                shadowSnapshot1 = (ISnapshot)new Snapshot<string>(dataReader.GetString(3));
                                return 
                                {
                                    AppUser instance;
                                    instance = new AppUser();
                                    instance.<Id>k__BackingField = dataReader.GetString(0);
                                    instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(1);
                                    instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(5);
                                    instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(6);
                                    instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(7);
                                    instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                    instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                    instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                    instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(12);
                                    instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(13) ? default(string) : dataReader.GetString(13);
                                    instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(14);
                                    instance.<UserName>k__BackingField = dataReader.IsDBNull(15) ? default(string) : dataReader.GetString(15);
                                    instance.<DOB>k__BackingField = dataReader.IsDBNull(16) ? default(DateOnly) : dataReader.GetFieldValue<DateOnly>(16);
                                    instance.<Fullname>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                    instance.<Gender>k__BackingField = dataReader.IsDBNull(18) ? default(string) : dataReader.GetString(18);
                                    instance.<LibraryID>k__BackingField = dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: AppUser Base: IdentityUser | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(AppUser)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-10 11:17:11.763 +01:00 [DBG] Creating DbConnection.
2025-09-10 11:17:11.765 +01:00 [DBG] Created DbConnection. (2ms).
2025-09-10 11:17:11.768 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:17:11.842 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:17:11.849 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 11:17:11.851 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-09-10 11:17:11.854 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-09-10 11:17:11.856 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DOB], [a].[Fullname], [a].[Gender], [a].[LibraryID]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'AppUser' AND [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-10 11:17:11.873 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DOB], [a].[Fullname], [a].[Gender], [a].[LibraryID]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'AppUser' AND [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-10 11:17:11.890 +01:00 [DBG] Context 'CMSDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 11:17:11.924 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:17:11.927 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 49ms reading results.
2025-09-10 11:17:11.930 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:17:11.932 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (2ms).
2025-09-10 11:17:12.020 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2025-09-10 11:17:12.029 +01:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<string>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        value1 = dataReader.IsDBNull(0) ? default(string) : dataReader.GetString(0);
        return value1;
    }, 
    contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-10 11:17:12.034 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:17:12.037 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:17:12.039 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 11:17:12.040 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-10 11:17:12.042 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-09-10 11:17:12.043 +01:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-10 11:17:12.048 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-10 11:17:12.051 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:17:12.053 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-09-10 11:17:12.056 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:17:12.057 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (1ms).
2025-09-10 11:17:12.073 +01:00 [INF] Setting HTTP status code 200.
2025-09-10 11:17:12.077 +01:00 [INF] Writing value of type '<>f__AnonymousType12`1' as Json.
2025-09-10 11:17:12.080 +01:00 [INF] Executed endpoint 'HTTP: POST /api/signin => SignIn'
2025-09-10 11:17:12.082 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 11:17:12.084 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:17:12.086 +01:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-09-10 11:17:12.088 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7258/api/signin - 200 null application/json; charset=utf-8 445.1561ms
2025-09-10 11:17:38.793 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Dept - null null
2025-09-10 11:17:38.816 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept'
2025-09-10 11:17:38.818 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)' with route pattern 'api/Dept' is valid for the request path '/api/Dept'
2025-09-10 11:17:38.821 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)'
2025-09-10 11:17:38.824 +01:00 [DBG] Successfully validated the token.
2025-09-10 11:17:38.825 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:17:38.828 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:17:38.830 +01:00 [DBG] Authorization was successful.
2025-09-10 11:17:38.831 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)'
2025-09-10 11:17:38.836 +01:00 [INF] Route matched with {action = "GetDepartments", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartments() on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-09-10 11:17:38.839 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 11:17:38.841 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 11:17:38.844 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 11:17:38.846 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 11:17:38.847 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 11:17:38.849 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-10 11:17:38.852 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 11:17:38.855 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-10 11:17:38.858 +01:00 [DBG] Creating DbConnection.
2025-09-10 11:17:38.859 +01:00 [DBG] Created DbConnection. (1ms).
2025-09-10 11:17:38.861 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:17:38.862 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:17:38.864 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 11:17:38.865 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-10 11:17:38.867 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-09-10 11:17:38.868 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-10 11:17:38.881 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-10 11:17:38.883 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 11:17:38.885 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:17:38.886 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-09-10 11:17:38.888 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:17:38.890 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (1ms).
2025-09-10 11:17:38.894 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:17:38.896 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:17:38.897 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 11:17:38.898 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-10 11:17:38.899 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-09-10 11:17:38.901 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-10 11:17:38.903 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-10 11:17:38.905 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 11:17:38.907 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 11:17:38.910 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 11:17:38.912 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 11:17:38.913 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:17:38.914 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 9ms reading results.
2025-09-10 11:17:38.916 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:17:38.917 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (1ms).
2025-09-10 11:17:38.919 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 11:17:38.921 +01:00 [DBG] No information found on request to perform content negotiation.
2025-09-10 11:17:38.922 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 11:17:38.923 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 11:17:38.924 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 11:17:38.927 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.DeptDto.DepartmentResponseDto'.
2025-09-10 11:17:38.930 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi) in 80.8802ms
2025-09-10 11:17:38.932 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)'
2025-09-10 11:17:38.933 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 11:17:38.934 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:17:38.936 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-09-10 11:17:38.937 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Dept - 200 null application/json; charset=utf-8 143.8262ms
2025-09-10 11:18:09.218 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7258/api/Dept - application/json 80
2025-09-10 11:18:09.229 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept'
2025-09-10 11:18:09.231 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)' with route pattern 'api/Dept' is valid for the request path '/api/Dept'
2025-09-10 11:18:09.233 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-09-10 11:18:09.234 +01:00 [INF] No CORS policy found for the specified request.
2025-09-10 11:18:09.236 +01:00 [DBG] Successfully validated the token.
2025-09-10 11:18:09.237 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:18:09.238 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:18:09.239 +01:00 [DBG] Authorization was successful.
2025-09-10 11:18:09.240 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-09-10 11:18:09.246 +01:00 [INF] Route matched with {action = "CreateDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateDepartment(CMSApi.Application.DTO.DeptDto.CreateDeptDto) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-09-10 11:18:09.249 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 11:18:09.251 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 11:18:09.252 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 11:18:09.255 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 11:18:09.257 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 11:18:09.260 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-10 11:18:09.263 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 11:18:09.266 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-10 11:18:09.267 +01:00 [DBG] Attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' ...
2025-09-10 11:18:09.269 +01:00 [DBG] Attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' using the name '' in request data ...
2025-09-10 11:18:09.271 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-10 11:18:09.274 +01:00 [DBG] Connection id "0HNFGA3V5H6RP", Request id "0HNFGA3V5H6RP:00000029": started reading request body.
2025-09-10 11:18:09.276 +01:00 [DBG] Connection id "0HNFGA3V5H6RP", Request id "0HNFGA3V5H6RP:00000029": done reading request body.
2025-09-10 11:18:09.278 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'
2025-09-10 11:18:09.279 +01:00 [DBG] Done attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-09-10 11:18:09.281 +01:00 [DBG] Done attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-09-10 11:18:09.282 +01:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' ...
2025-09-10 11:18:09.285 +01:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-09-10 11:18:09.288 +01:00 [DBG] 'CMSDbContext' generated a temporary value for the property 'Department.DeptId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 11:18:09.292 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 11:18:09.296 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-09-10 11:18:09.300 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-09-10 11:18:09.313 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-09-10 11:18:09.382 +01:00 [DBG] Creating DbConnection.
2025-09-10 11:18:09.383 +01:00 [DBG] Created DbConnection. (1ms).
2025-09-10 11:18:09.386 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:18:09.388 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:18:09.392 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 11:18:09.394 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-10 11:18:09.396 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-09-10 11:18:09.398 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Departments] ([CreatedAt], [DeptName], [UpdatedAt])
OUTPUT INSERTED.[DeptId]
VALUES (@p0, @p1, @p2);
2025-09-10 11:18:09.420 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Departments] ([CreatedAt], [DeptName], [UpdatedAt])
OUTPUT INSERTED.[DeptId]
VALUES (@p0, @p1, @p2);
2025-09-10 11:18:09.436 +01:00 [DBG] The foreign key property 'Department.DeptId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-10 11:18:09.446 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:18:09.450 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 24ms reading results.
2025-09-10 11:18:09.454 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:18:09.455 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (1ms).
2025-09-10 11:18:09.468 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 11:18:09.476 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 1 entities written to the database.
2025-09-10 11:20:13.291 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-10 11:20:13.423 +01:00 [DBG] Hosting starting
2025-09-10 11:20:13.462 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-10 11:20:13.482 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-09-10 11:20:13.496 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-09-10 11:20:13.508 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-09-10 11:20:13.514 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-10 11:20:13.522 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-09-10 11:20:13.525 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-10 11:20:13.534 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-09-10 11:20:13.540 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-09-10 11:20:13.545 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-09-10 11:20:13.548 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-09-10 11:20:13.560 +01:00 [DBG] Middleware loaded
2025-09-10 11:20:13.565 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-09-10 11:20:13.569 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-10 11:20:13.727 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-10 11:20:13.733 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-10 11:20:13.761 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-10 11:20:13.968 +01:00 [INF] Now listening on: https://localhost:7258
2025-09-10 11:20:13.975 +01:00 [INF] Now listening on: http://localhost:5191
2025-09-10 11:20:13.980 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-09-10 11:20:13.986 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-09-10 11:20:13.988 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-10 11:20:13.991 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-09-10 11:20:14.000 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-10 11:20:14.011 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-10 11:20:14.057 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-10 11:20:14.059 +01:00 [INF] Hosting environment: Development
2025-09-10 11:20:14.062 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-09-10 11:20:14.065 +01:00 [DBG] Hosting started
2025-09-10 11:20:17.764 +01:00 [DBG] Connection id "0HNFGAEHSSOTF" accepted.
2025-09-10 11:20:17.770 +01:00 [DBG] Connection id "0HNFGAEHSSOTF" started.
2025-09-10 11:20:17.826 +01:00 [DBG] Connection 0HNFGAEHSSOTF established using the following protocol: "Tls13"
2025-09-10 11:20:17.919 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7258/api/Dept - application/json 80
2025-09-10 11:20:17.972 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept'
2025-09-10 11:20:17.976 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)' with route pattern 'api/Dept' is valid for the request path '/api/Dept'
2025-09-10 11:20:17.979 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-09-10 11:20:18.011 +01:00 [INF] No CORS policy found for the specified request.
2025-09-10 11:20:18.268 +01:00 [DBG] Successfully validated the token.
2025-09-10 11:20:18.272 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:20:18.281 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:20:18.288 +01:00 [DBG] Authorization was successful.
2025-09-10 11:20:18.291 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-09-10 11:20:18.318 +01:00 [INF] Route matched with {action = "CreateDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateDepartment(CMSApi.Application.DTO.DeptDto.CreateDeptDto) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-09-10 11:20:18.322 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 11:20:18.324 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 11:20:18.327 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 11:20:18.330 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 11:20:18.333 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 11:20:18.337 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-10 11:20:18.608 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-10 11:20:20.100 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-09-10 11:20:20.107 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-09-10 11:20:20.491 +01:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2025-09-10 11:20:20.764 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 11:20:20.984 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-10 11:20:21.025 +01:00 [DBG] Attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' ...
2025-09-10 11:20:21.037 +01:00 [DBG] Attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' using the name '' in request data ...
2025-09-10 11:20:21.048 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-10 11:20:21.073 +01:00 [DBG] Connection id "0HNFGAEHSSOTF", Request id "0HNFGAEHSSOTF:00000001": started reading request body.
2025-09-10 11:20:21.081 +01:00 [DBG] Connection id "0HNFGAEHSSOTF", Request id "0HNFGAEHSSOTF:00000001": done reading request body.
2025-09-10 11:20:21.102 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'
2025-09-10 11:20:21.108 +01:00 [DBG] Done attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-09-10 11:20:21.115 +01:00 [DBG] Done attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-09-10 11:20:21.122 +01:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' ...
2025-09-10 11:20:21.149 +01:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-09-10 11:20:21.253 +01:00 [DBG] 'CMSDbContext' generated a temporary value for the property 'Department.DeptId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 11:20:21.382 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 11:20:21.398 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-09-10 11:20:21.413 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-09-10 11:20:21.442 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-09-10 11:20:21.776 +01:00 [DBG] Creating DbConnection.
2025-09-10 11:20:21.856 +01:00 [DBG] Created DbConnection. (74ms).
2025-09-10 11:20:21.872 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:20:22.520 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:20:22.545 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 11:20:22.568 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (13ms).
2025-09-10 11:20:22.598 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (53ms).
2025-09-10 11:20:22.623 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Departments] ([CreatedAt], [DeptName], [UpdatedAt])
OUTPUT INSERTED.[DeptId]
VALUES (@p0, @p1, @p2);
2025-09-10 11:20:22.820 +01:00 [INF] Executed DbCommand (189ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Departments] ([CreatedAt], [DeptName], [UpdatedAt])
OUTPUT INSERTED.[DeptId]
VALUES (@p0, @p1, @p2);
2025-09-10 11:20:22.878 +01:00 [DBG] The foreign key property 'Department.DeptId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-10 11:20:22.909 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:20:22.933 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 90ms reading results.
2025-09-10 11:20:22.951 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:20:22.975 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (24ms).
2025-09-10 11:20:23.013 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 11:20:23.029 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 1 entities written to the database.
2025-09-10 11:20:23.067 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 11:20:23.083 +01:00 [DBG] No information found on request to perform content negotiation.
2025-09-10 11:20:23.087 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 11:20:23.091 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 11:20:23.099 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 11:20:23.107 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'CMSApi.Application.DTO.DeptDto.ResponseDto'.
2025-09-10 11:20:23.155 +01:00 [DBG] Found the endpoints ["CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)"] for address (name=[Customer Relation],action=[GetDepartments],controller=[Dept])
2025-09-10 11:20:23.170 +01:00 [DBG] Successfully processed template api/Dept for CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi) resulting in /api/Dept and ?name=Customer%20Relation
2025-09-10 11:20:23.182 +01:00 [DBG] Link generation succeeded for endpoints ["CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)"] with result /api/Dept?name=Customer%20Relation
2025-09-10 11:20:23.211 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi) in 4867.7117ms
2025-09-10 11:20:23.224 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-09-10 11:20:23.243 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 11:20:23.256 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:20:23.265 +01:00 [DBG] Disposed connection to database '' on server '' (8ms).
2025-09-10 11:20:23.275 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7258/api/Dept - 201 null application/json; charset=utf-8 5365.7535ms
2025-09-10 11:20:32.028 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Dept - null null
2025-09-10 11:20:32.054 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept'
2025-09-10 11:20:32.059 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)' with route pattern 'api/Dept' is valid for the request path '/api/Dept'
2025-09-10 11:20:32.066 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)'
2025-09-10 11:20:32.090 +01:00 [DBG] Successfully validated the token.
2025-09-10 11:20:32.094 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:20:32.100 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:20:32.106 +01:00 [DBG] Authorization was successful.
2025-09-10 11:20:32.111 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)'
2025-09-10 11:20:32.125 +01:00 [INF] Route matched with {action = "GetDepartments", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartments() on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-09-10 11:20:32.135 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 11:20:32.143 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 11:20:32.151 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 11:20:32.161 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 11:20:32.170 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 11:20:32.178 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-10 11:20:32.310 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 11:20:32.320 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-10 11:20:32.384 +01:00 [DBG] Compiling query expression: 
'DbSet<Department>()'
2025-09-10 11:20:32.762 +01:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Department>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.DeptId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
        SELECT d.DeptId, d.CreatedAt, d.DeptName, d.UpdatedAt
        FROM Departments AS d) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.DeptId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
        SELECT d.DeptId, d.CreatedAt, d.DeptName, d.UpdatedAt
        FROM Departments AS d, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Department entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Department instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Department);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Department.DeptId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Department)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]: 
                        {
                            return 
                            {
                                Department instance;
                                instance = new Department();
                                instance.<DeptId>k__BackingField = dataReader.GetInt32(0);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                instance.<DeptName>k__BackingField = dataReader.GetString(2);
                                instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(3);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Department)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-10 11:20:32.826 +01:00 [DBG] Creating DbConnection.
2025-09-10 11:20:32.831 +01:00 [DBG] Created DbConnection. (5ms).
2025-09-10 11:20:32.838 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:20:32.849 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:20:32.857 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 11:20:32.862 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-10 11:20:32.869 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-09-10 11:20:32.878 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-10 11:20:32.910 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-10 11:20:32.939 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 11:20:32.948 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:20:32.957 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 33ms reading results.
2025-09-10 11:20:32.967 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:20:32.975 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (9ms).
2025-09-10 11:20:33.012 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:20:33.019 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:20:33.026 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 11:20:33.032 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-10 11:20:33.039 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-09-10 11:20:33.045 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-10 11:20:33.058 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeptId], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-10 11:20:33.069 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 11:20:33.077 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 11:20:33.083 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 11:20:33.091 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 11:20:33.098 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 11:20:33.106 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 11:20:33.112 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:20:33.120 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 52ms reading results.
2025-09-10 11:20:33.129 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:20:33.136 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (7ms).
2025-09-10 11:20:33.146 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 11:20:33.159 +01:00 [DBG] No information found on request to perform content negotiation.
2025-09-10 11:20:33.163 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 11:20:33.167 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 11:20:33.172 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 11:20:33.179 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.DeptDto.DepartmentResponseDto'.
2025-09-10 11:20:33.190 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi) in 1012.4481ms
2025-09-10 11:20:33.197 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)'
2025-09-10 11:20:33.203 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 11:20:33.209 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 11:20:33.215 +01:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-09-10 11:20:33.224 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Dept - 200 null application/json; charset=utf-8 1196.4126ms
2025-09-10 11:21:03.241 +01:00 [INF] Request starting HTTP/2 DELETE https://localhost:7258/api/Dept/9 - null null
2025-09-10 11:21:03.264 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept/9'
2025-09-10 11:21:03.266 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.DeleteDepartment (CMSApi)' with route pattern 'api/Dept/{id}' is valid for the request path '/api/Dept/9'
2025-09-10 11:21:03.269 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.DeleteDepartment (CMSApi)'
2025-09-10 11:21:03.272 +01:00 [INF] No CORS policy found for the specified request.
2025-09-10 11:21:03.274 +01:00 [DBG] Successfully validated the token.
2025-09-10 11:21:03.275 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:21:03.277 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 11:21:03.279 +01:00 [DBG] Authorization was successful.
2025-09-10 11:21:03.280 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.DeleteDepartment (CMSApi)'
2025-09-10 11:21:03.286 +01:00 [INF] Route matched with {action = "DeleteDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.DeptDto.DepartmentResponseDto]] DeleteDepartment(Int32) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-09-10 11:21:03.289 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 11:21:03.291 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 11:21:03.293 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 11:21:03.296 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 11:21:03.298 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 11:21:03.300 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-10 11:21:03.316 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 11:21:03.321 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-10 11:21:03.323 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-09-10 11:21:03.325 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-09-10 11:21:03.327 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-10 11:21:03.328 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-10 11:21:03.330 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-09-10 11:21:03.331 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-09-10 11:21:03.346 +01:00 [DBG] Compiling query expression: 
'DbSet<Department>()
    .SingleOrDefault(x => (long)x.Id == __id_0)'
2025-09-10 11:42:29.285 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-10 11:42:29.400 +01:00 [DBG] Hosting starting
2025-09-10 11:42:29.435 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-10 11:42:29.447 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-09-10 11:42:29.456 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-09-10 11:42:29.467 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-09-10 11:42:29.473 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-10 11:42:29.477 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-09-10 11:42:29.479 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-10 11:42:29.484 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-09-10 11:42:29.487 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-09-10 11:42:29.489 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-09-10 11:42:29.491 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-09-10 11:42:29.498 +01:00 [DBG] Middleware loaded
2025-09-10 11:42:29.501 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-09-10 11:42:29.503 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-10 11:42:29.648 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-10 11:42:29.655 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-10 11:42:29.670 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-10 11:42:29.775 +01:00 [INF] Now listening on: https://localhost:7258
2025-09-10 11:42:29.779 +01:00 [INF] Now listening on: http://localhost:5191
2025-09-10 11:42:29.782 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-09-10 11:42:29.783 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-09-10 11:42:29.784 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-10 11:42:29.785 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-09-10 11:42:29.792 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-10 11:42:29.800 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-10 11:42:29.837 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-10 11:42:29.839 +01:00 [INF] Hosting environment: Development
2025-09-10 11:42:29.840 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-09-10 11:42:29.841 +01:00 [DBG] Hosting started
2025-09-10 11:53:40.483 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-10 11:53:40.831 +01:00 [DBG] For the relationship between dependent 'Employee.Department' and principal 'Department.Employees', the foreign key properties haven't been configured by convention because the best match {'DepartmentId' : int?} are incompatible with the current principal key {'DeptName' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-10 11:53:40.834 +01:00 [DBG] For the relationship between dependent 'Employee.Department' and principal 'Department.Employees', the foreign key properties haven't been configured by convention because the best match {'DepartmentId' : int?} are incompatible with the current principal key {'DeptName' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-10 11:53:40.834 +01:00 [DBG] For the relationship between dependent 'Employee.Department' and principal 'Department.Employees', the foreign key properties haven't been configured by convention because the best match {'DepartmentId' : int?} are incompatible with the current principal key {'DeptName' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-10 11:53:40.843 +01:00 [DBG] For the relationship between dependent 'Employee.Department' and principal 'Department.Employees', the foreign key properties haven't been configured by convention because the best match {'DepartmentId' : int?} are incompatible with the current principal key {'DeptName' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-10 11:53:40.843 +01:00 [DBG] For the relationship between dependent 'Employee.Department' and principal 'Department.Employees', the foreign key properties haven't been configured by convention because the best match {'DepartmentId' : int?} are incompatible with the current principal key {'DeptName' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-10 11:53:40.843 +01:00 [DBG] For the relationship between dependent 'Employee.Department' and principal 'Department.Employees', the foreign key properties haven't been configured by convention because the best match {'DepartmentId' : int?} are incompatible with the current principal key {'DeptName' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-10 11:53:40.843 +01:00 [DBG] For the relationship between dependent 'Employee.Department' and principal 'Department.Employees', the foreign key properties haven't been configured by convention because the best match {'DepartmentId' : int?} are incompatible with the current principal key {'DeptName' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-10 11:53:40.843 +01:00 [DBG] For the relationship between dependent 'Employee.Department' and principal 'Department.Employees', the foreign key properties haven't been configured by convention because the best match {'DepartmentId' : int?} are incompatible with the current principal key {'DeptName' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-10 11:53:40.844 +01:00 [DBG] For the relationship between dependent 'Employee.Department' and principal 'Department.Employees', the foreign key properties haven't been configured by convention because the best match {'DepartmentId' : int?} are incompatible with the current principal key {'DeptName' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-10 11:53:40.844 +01:00 [DBG] For the relationship between dependent 'Employee.Department' and principal 'Department.Employees', the foreign key properties haven't been configured by convention because the best match {'DepartmentId' : int?} are incompatible with the current principal key {'DeptName' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-10 11:53:40.844 +01:00 [DBG] For the relationship between dependent 'Employee.Department' and principal 'Department.Employees', the foreign key properties haven't been configured by convention because the best match {'DepartmentId' : int?} are incompatible with the current principal key {'DeptName' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-10 11:53:40.844 +01:00 [DBG] For the relationship between dependent 'Employee.Department' and principal 'Department.Employees', the foreign key properties haven't been configured by convention because the best match {'DepartmentId' : int?} are incompatible with the current principal key {'DeptName' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-10 11:53:40.861 +01:00 [DBG] For the relationship between dependent 'Employee.Department' and principal 'Department.Employees', the foreign key properties haven't been configured by convention because the best match {'DepartmentId' : int?} are incompatible with the current principal key {'DeptName' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-10 11:53:40.861 +01:00 [DBG] For the relationship between dependent 'Employee.Department' and principal 'Department.Employees', the foreign key properties haven't been configured by convention because the best match {'DepartmentId' : int?} are incompatible with the current principal key {'DeptName' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-10 11:53:40.861 +01:00 [DBG] For the relationship between dependent 'Employee.Department' and principal 'Department.Employees', the foreign key properties haven't been configured by convention because the best match {'DepartmentId' : int?} are incompatible with the current principal key {'DeptName' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-10 11:53:40.861 +01:00 [DBG] For the relationship between dependent 'Employee.Department' and principal 'Department.Employees', the foreign key properties haven't been configured by convention because the best match {'DepartmentId' : int?} are incompatible with the current principal key {'DeptName' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-10 11:53:40.885 +01:00 [DBG] For the relationship between dependent 'Employee.Department' and principal 'Department.Employees', the foreign key properties haven't been configured by convention because the best match {'DepartmentId' : int?} are incompatible with the current principal key {'DeptName' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-10 11:53:40.885 +01:00 [DBG] For the relationship between dependent 'Employee.Department' and principal 'Department.Employees', the foreign key properties haven't been configured by convention because the best match {'DepartmentId' : int?} are incompatible with the current principal key {'DeptName' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-10 11:53:40.983 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-09-10 11:53:40.983 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-09-10 12:14:09.076 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-10 12:14:09.538 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-09-10 12:14:09.539 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-09-10 12:14:09.643 +01:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2025-09-10 12:14:09.713 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 12:14:10.372 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 12:17:45.081 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-10 12:17:45.493 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-09-10 12:17:45.495 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-09-10 12:17:45.596 +01:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2025-09-10 12:17:45.676 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 12:17:45.837 +01:00 [DBG] Creating DbConnection.
2025-09-10 12:17:45.893 +01:00 [DBG] Created DbConnection. (52ms).
2025-09-10 12:17:45.897 +01:00 [DBG] Migrating using database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 12:17:45.905 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 12:17:46.221 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 12:17:46.228 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-10 12:17:46.234 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2025-09-10 12:17:46.236 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2025-09-10 12:17:46.242 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-10 12:17:46.274 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-10 12:17:46.276 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 12:17:46.283 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (4ms).
2025-09-10 12:17:46.283 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 12:17:46.284 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 12:17:46.284 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-10 12:17:46.286 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-10 12:17:46.286 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-10 12:17:46.286 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-10 12:17:46.286 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-09-10 12:17:46.316 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-09-10 12:17:46.373 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-10 12:17:46.381 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-09-10 12:17:46.382 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-10 12:17:46.382 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-10 12:17:46.383 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-10 12:17:46.383 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-09-10 12:17:46.386 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-09-10 12:17:46.387 +01:00 [DBG] Committing transaction.
2025-09-10 12:17:46.389 +01:00 [DBG] Committed transaction.
2025-09-10 12:17:46.390 +01:00 [DBG] Disposing transaction.
2025-09-10 12:17:46.391 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-10 12:17:46.392 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-09-10 12:17:46.393 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-10 12:17:46.394 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-10 12:17:46.394 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-10 12:17:46.394 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-10 12:17:46.395 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-10 12:17:46.395 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-10 12:17:46.395 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-10 12:17:46.395 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-10 12:17:46.395 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-10 12:17:46.396 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-10 12:17:46.397 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 12:17:46.397 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-10 12:17:46.397 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-10 12:17:46.397 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-10 12:17:46.411 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-10 12:17:46.569 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 12:17:46.569 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-09-10 12:17:46.575 +01:00 [INF] Applying migration '20250910111410_FixPrimaryKey'.
2025-09-10 12:17:46.600 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-10 12:17:46.600 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-10 12:17:46.600 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-10 12:17:46.600 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Employees] DROP CONSTRAINT [FK_Employees_Departments_DeptId];
2025-09-10 12:17:46.619 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Employees] DROP CONSTRAINT [FK_Employees_Departments_DeptId];
2025-09-10 12:17:46.620 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-10 12:17:46.620 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-10 12:17:46.620 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-10 12:17:46.620 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Employees].[DeptId]', N'DepartmentId', 'COLUMN';
2025-09-10 12:17:46.994 +01:00 [INF] Executed DbCommand (374ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Employees].[DeptId]', N'DepartmentId', 'COLUMN';
2025-09-10 12:17:46.995 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-10 12:17:46.995 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-10 12:17:46.995 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-10 12:17:46.995 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Employees].[IX_Employees_DeptId]', N'IX_Employees_DepartmentId', 'INDEX';
2025-09-10 12:17:46.999 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Employees].[IX_Employees_DeptId]', N'IX_Employees_DepartmentId', 'INDEX';
2025-09-10 12:17:46.999 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-10 12:17:46.999 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-10 12:17:46.999 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-10 12:17:46.999 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Departments].[DeptId]', N'Id', 'COLUMN';
2025-09-10 12:17:47.002 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Departments].[DeptId]', N'Id', 'COLUMN';
2025-09-10 12:17:47.002 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-10 12:17:47.002 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-10 12:17:47.002 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-10 12:17:47.002 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Departments] ADD [DepartmentId] int NOT NULL DEFAULT 0;
2025-09-10 12:17:47.015 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Departments] ADD [DepartmentId] int NOT NULL DEFAULT 0;
2025-09-10 12:17:47.015 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-10 12:17:47.015 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-10 12:17:47.016 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-10 12:17:47.016 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Employees] ADD CONSTRAINT [FK_Employees_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([Id]) ON DELETE NO ACTION;
2025-09-10 12:17:47.022 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Employees] ADD CONSTRAINT [FK_Employees_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([Id]) ON DELETE NO ACTION;
2025-09-10 12:17:47.022 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-10 12:17:47.022 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-10 12:17:47.022 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-10 12:17:47.022 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250910111410_FixPrimaryKey', N'9.0.8');
2025-09-10 12:17:47.025 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250910111410_FixPrimaryKey', N'9.0.8');
2025-09-10 12:17:48.968 +01:00 [DBG] Committing transaction.
2025-09-10 12:17:48.969 +01:00 [DBG] Committed transaction.
2025-09-10 12:17:48.969 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-10 12:17:48.969 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-10 12:17:48.969 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-10 12:17:48.970 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-09-10 12:17:48.973 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-09-10 12:17:48.974 +01:00 [DBG] Disposing transaction.
2025-09-10 12:17:48.974 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 12:17:48.974 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (0ms).
2025-09-10 12:17:48.976 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 12:17:48.977 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 12:17:48.978 +01:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-10 12:31:02.438 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-10 12:31:02.549 +01:00 [DBG] Hosting starting
2025-09-10 12:31:02.586 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-10 12:31:02.600 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-09-10 12:31:02.614 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-09-10 12:31:02.636 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-09-10 12:31:02.642 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-10 12:31:02.644 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-09-10 12:31:02.646 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-10 12:31:02.651 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-09-10 12:31:02.654 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-09-10 12:31:02.657 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-09-10 12:31:02.659 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-09-10 12:31:02.667 +01:00 [DBG] Middleware loaded
2025-09-10 12:31:02.671 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-09-10 12:31:02.674 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-10 12:31:02.842 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-10 12:31:02.848 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-10 12:31:02.874 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-10 12:31:03.008 +01:00 [INF] Now listening on: https://localhost:7258
2025-09-10 12:31:03.010 +01:00 [INF] Now listening on: http://localhost:5191
2025-09-10 12:31:03.012 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-09-10 12:31:03.013 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-09-10 12:31:03.014 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-10 12:31:03.015 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-09-10 12:31:03.022 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-10 12:31:03.029 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-10 12:31:03.069 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-10 12:31:03.070 +01:00 [INF] Hosting environment: Development
2025-09-10 12:31:03.072 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-09-10 12:31:03.074 +01:00 [DBG] Hosting started
2025-09-10 12:31:11.890 +01:00 [DBG] Connection id "0HNFGBM5NCQHQ" accepted.
2025-09-10 12:31:11.892 +01:00 [DBG] Connection id "0HNFGBM5NCQHQ" started.
2025-09-10 12:31:11.941 +01:00 [DBG] Connection 0HNFGBM5NCQHQ established using the following protocol: "Tls13"
2025-09-10 12:31:12.013 +01:00 [INF] Request starting HTTP/2 DELETE https://localhost:7258/api/Dept/9 - null null
2025-09-10 12:31:12.060 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept/9'
2025-09-10 12:31:12.065 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.DeleteDepartment (CMSApi)' with route pattern 'api/Dept/{id}' is valid for the request path '/api/Dept/9'
2025-09-10 12:31:12.068 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.DeleteDepartment (CMSApi)'
2025-09-10 12:31:12.100 +01:00 [INF] No CORS policy found for the specified request.
2025-09-10 12:31:12.315 +01:00 [DBG] Successfully validated the token.
2025-09-10 12:31:12.319 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 12:31:12.323 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 12:31:12.328 +01:00 [DBG] Authorization was successful.
2025-09-10 12:31:12.330 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.DeleteDepartment (CMSApi)'
2025-09-10 12:31:12.350 +01:00 [INF] Route matched with {action = "DeleteDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.DeptDto.DepartmentResponseDto]] DeleteDepartment(Int32) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-09-10 12:31:12.355 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 12:31:12.356 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 12:31:12.358 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 12:31:12.362 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 12:31:12.364 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 12:31:12.369 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-10 12:31:12.495 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-10 12:31:13.008 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-09-10 12:31:13.013 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-09-10 12:31:13.154 +01:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2025-09-10 12:31:13.261 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 12:31:13.352 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-10 12:31:13.371 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-09-10 12:31:13.378 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-09-10 12:31:13.383 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-10 12:31:13.385 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-10 12:31:13.387 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-09-10 12:31:13.396 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-09-10 12:31:13.485 +01:00 [DBG] Compiling query expression: 
'DbSet<Department>()
    .SingleOrDefault(x => (long)x.Id == __id_0)'
2025-09-10 12:31:13.787 +01:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Department>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DepartmentId (int) Required, 2], [Property: Department.DeptName (string) Required, 3], [Property: Department.UpdatedAt (DateTime) Required, 4] }
        SELECT TOP(2) d.Id, d.CreatedAt, d.DepartmentId, d.DeptName, d.UpdatedAt
        FROM Departments AS d
        WHERE CAST(d.Id AS bigint) == @__id_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DepartmentId (int) Required, 2], [Property: Department.DeptName (string) Required, 3], [Property: Department.UpdatedAt (DateTime) Required, 4] }
        SELECT TOP(2) d.Id, d.CreatedAt, d.DepartmentId, d.DeptName, d.UpdatedAt
        FROM Departments AS d
        WHERE CAST(d.Id AS bigint) == @__id_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Department entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Department instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Department);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Department.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Department)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]: 
                        {
                            return 
                            {
                                Department instance;
                                instance = new Department();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                instance.<DepartmentId>k__BackingField = dataReader.GetInt32(2);
                                instance.<DeptName>k__BackingField = dataReader.GetString(3);
                                instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(4);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Department)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .SingleOrDefault()'
2025-09-10 12:31:13.823 +01:00 [DBG] Creating DbConnection.
2025-09-10 12:31:13.847 +01:00 [DBG] Created DbConnection. (20ms).
2025-09-10 12:31:13.851 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 12:31:14.085 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 12:31:14.091 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 12:31:14.102 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-09-10 12:31:14.116 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (26ms).
2025-09-10 12:31:14.127 +01:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[Id], [d].[CreatedAt], [d].[DepartmentId], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE CAST([d].[Id] AS bigint) = @__id_0
2025-09-10 12:31:14.174 +01:00 [INF] Executed DbCommand (47ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[Id], [d].[CreatedAt], [d].[DepartmentId], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE CAST([d].[Id] AS bigint) = @__id_0
2025-09-10 12:31:14.221 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 12:31:14.247 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 12:31:14.257 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 73ms reading results.
2025-09-10 12:31:14.262 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 12:31:14.269 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (7ms).
2025-09-10 12:31:14.311 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 12:31:14.317 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 12:31:14.321 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 12:31:14.325 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-09-10 12:31:14.329 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-09-10 12:31:14.332 +01:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[Id], [d].[CreatedAt], [d].[DepartmentId], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE CAST([d].[Id] AS bigint) = @__id_0
2025-09-10 12:31:14.336 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[Id], [d].[CreatedAt], [d].[DepartmentId], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE CAST([d].[Id] AS bigint) = @__id_0
2025-09-10 12:31:14.340 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 12:31:14.343 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-09-10 12:31:14.345 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 12:31:14.347 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (1ms).
2025-09-10 12:31:14.359 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 12:31:14.370 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-09-10 12:31:14.376 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-09-10 12:31:14.395 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-09-10 12:31:14.468 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 12:31:14.471 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 12:31:14.477 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 12:31:14.479 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-09-10 12:31:14.481 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-10 12:31:14.483 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Departments]
OUTPUT 1
WHERE [Id] = @p0;
2025-09-10 12:31:14.490 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Departments]
OUTPUT 1
WHERE [Id] = @p0;
2025-09-10 12:31:14.497 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 12:31:14.500 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-09-10 12:31:14.503 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 12:31:14.505 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (1ms).
2025-09-10 12:31:14.511 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 12:31:14.516 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 1 entities written to the database.
2025-09-10 12:31:14.530 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 12:31:14.537 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-10 12:31:14.541 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 12:31:14.545 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 12:31:14.546 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 12:31:14.548 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 12:31:14.551 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.DeptDto.DepartmentResponseDto'.
2025-09-10 12:31:14.568 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.DeleteDepartment (CMSApi) in 2197.6833ms
2025-09-10 12:31:14.571 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.DeleteDepartment (CMSApi)'
2025-09-10 12:31:14.581 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 12:31:14.589 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 12:31:14.596 +01:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-09-10 12:31:14.600 +01:00 [INF] Request finished HTTP/2 DELETE https://localhost:7258/api/Dept/9 - 200 null application/json; charset=utf-8 2594.8584ms
2025-09-10 12:31:32.847 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Dept/9 - null null
2025-09-10 12:31:32.866 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept/9'
2025-09-10 12:31:32.868 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartment (CMSApi)' with route pattern 'api/Dept/{id}' is valid for the request path '/api/Dept/9'
2025-09-10 12:31:32.873 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartment (CMSApi)'
2025-09-10 12:31:32.886 +01:00 [DBG] Successfully validated the token.
2025-09-10 12:31:32.888 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 12:31:32.892 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 12:31:32.894 +01:00 [DBG] Authorization was successful.
2025-09-10 12:31:32.896 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartment (CMSApi)'
2025-09-10 12:31:32.901 +01:00 [INF] Route matched with {action = "GetDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartment(Int32) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-09-10 12:31:32.904 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 12:31:32.906 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 12:31:32.908 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 12:31:32.911 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 12:31:32.912 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 12:31:32.914 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-10 12:31:32.966 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 12:31:32.971 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-10 12:31:32.974 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-09-10 12:31:32.975 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-09-10 12:31:32.977 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-10 12:31:32.978 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-10 12:31:32.980 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-09-10 12:31:32.982 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-09-10 12:31:32.985 +01:00 [DBG] Creating DbConnection.
2025-09-10 12:31:32.986 +01:00 [DBG] Created DbConnection. (1ms).
2025-09-10 12:31:32.987 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 12:31:32.989 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 12:31:32.991 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 12:31:32.992 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-10 12:31:32.993 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-09-10 12:31:32.995 +01:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[Id], [d].[CreatedAt], [d].[DepartmentId], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE CAST([d].[Id] AS bigint) = @__id_0
2025-09-10 12:31:32.997 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[Id], [d].[CreatedAt], [d].[DepartmentId], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE CAST([d].[Id] AS bigint) = @__id_0
2025-09-10 12:31:32.999 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 12:31:33.001 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-09-10 12:31:33.002 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 12:31:33.005 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (2ms).
2025-09-10 12:31:33.007 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 12:31:33.009 +01:00 [DBG] No information found on request to perform content negotiation.
2025-09-10 12:31:33.011 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 12:31:33.012 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 12:31:33.013 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 12:31:33.014 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'CMSApi.Application.DTO.DeptDto.DepartmentResponseDto'.
2025-09-10 12:31:33.016 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.GetDepartment (CMSApi) in 101.7686ms
2025-09-10 12:31:33.018 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartment (CMSApi)'
2025-09-10 12:31:33.019 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 12:31:33.021 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 12:31:33.023 +01:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-09-10 12:31:33.025 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Dept/9 - 404 null application/json; charset=utf-8 177.9666ms
2025-09-10 12:31:43.611 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/index.html - null null
2025-09-10 12:31:43.722 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-09-10 12:31:43.726 +01:00 [DBG] Request did not match any endpoints
2025-09-10 12:31:43.785 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-09-10 12:31:43.788 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-09-10 12:31:43.798 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-09-10 12:31:43.801 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-09-10 12:31:43.803 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/index.html - 200 null text/html;charset=utf-8 192.3735ms
2025-09-10 12:31:43.814 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - null null
2025-09-10 12:31:43.815 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/_vs/browserLink - null null
2025-09-10 12:31:43.855 +01:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-09-10 12:31:43.858 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 43.6319ms
2025-09-10 12:31:43.879 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.3213ms
2025-09-10 12:31:44.007 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - null null
2025-09-10 12:31:44.014 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-09-10 12:31:44.016 +01:00 [DBG] Request did not match any endpoints
2025-09-10 12:31:44.137 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 130.0527ms
2025-09-10 12:35:58.810 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-10 12:35:59.150 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-09-10 12:35:59.152 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-09-10 12:35:59.234 +01:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2025-09-10 12:35:59.291 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 12:35:59.718 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 12:57:46.175 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-10 12:57:46.272 +01:00 [DBG] Hosting starting
2025-09-10 12:57:46.308 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-10 12:57:46.319 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-09-10 12:57:46.330 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-09-10 12:57:46.339 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-09-10 12:57:46.345 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-10 12:57:46.348 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-09-10 12:57:46.350 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-10 12:57:46.354 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-09-10 12:57:46.357 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-09-10 12:57:46.361 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-09-10 12:57:46.364 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-09-10 12:57:46.371 +01:00 [DBG] Middleware loaded
2025-09-10 12:57:46.374 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-09-10 12:57:46.377 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-10 12:57:46.509 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-10 12:57:46.512 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-10 12:57:46.532 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-10 12:57:46.648 +01:00 [INF] Now listening on: https://localhost:7258
2025-09-10 12:57:46.650 +01:00 [INF] Now listening on: http://localhost:5191
2025-09-10 12:57:46.652 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-09-10 12:57:46.653 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-09-10 12:57:46.654 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-10 12:57:46.655 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-09-10 12:57:46.662 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-10 12:57:46.669 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-10 12:57:46.702 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-10 12:57:46.703 +01:00 [INF] Hosting environment: Development
2025-09-10 12:57:46.704 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-09-10 12:57:46.706 +01:00 [DBG] Hosting started
2025-09-10 13:00:39.910 +01:00 [DBG] Connection id "0HNFGC6KKHNIQ" accepted.
2025-09-10 13:00:39.920 +01:00 [DBG] Connection id "0HNFGC6KKHNIQ" started.
2025-09-10 13:00:39.969 +01:00 [DBG] Connection 0HNFGC6KKHNIQ established using the following protocol: "Tls13"
2025-09-10 13:00:40.020 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Dept - null null
2025-09-10 13:00:40.059 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept'
2025-09-10 13:00:40.064 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)' with route pattern 'api/Dept' is valid for the request path '/api/Dept'
2025-09-10 13:00:40.066 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)'
2025-09-10 13:00:40.163 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-10 13:00:40.170 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-10 13:00:40.172 +01:00 [DBG] Policy authentication schemes Bearer did not succeed
2025-09-10 13:00:40.176 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-10 13:00:40.185 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-10 13:00:40.190 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Dept - 401 0 null 177.2382ms
2025-09-10 13:01:29.074 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7258/api/signin - application/json 72
2025-09-10 13:01:29.122 +01:00 [DBG] 1 candidate(s) found for the request path '/api/signin'
2025-09-10 13:01:29.125 +01:00 [DBG] Request matched endpoint 'HTTP: POST /api/signin => SignIn'
2025-09-10 13:01:29.135 +01:00 [INF] No CORS policy found for the specified request.
2025-09-10 13:01:29.137 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-10 13:01:29.139 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-10 13:01:29.141 +01:00 [INF] Executing endpoint 'HTTP: POST /api/signin => SignIn'
2025-09-10 13:01:29.150 +01:00 [DBG] Connection id "0HNFGC6KKHNIQ", Request id "0HNFGC6KKHNIQ:00000003": started reading request body.
2025-09-10 13:01:29.153 +01:00 [DBG] Connection id "0HNFGC6KKHNIQ", Request id "0HNFGC6KKHNIQ:00000003": done reading request body.
2025-09-10 13:01:29.269 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-10 13:01:29.765 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-09-10 13:01:29.770 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-09-10 13:01:29.890 +01:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2025-09-10 13:01:29.990 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 13:01:30.083 +01:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-09-10 13:01:30.367 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: SingleQueryingEnumerable.Create<AppUser>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: AppUser.DOB (DateOnly) Required, 16], [Property: AppUser.Fullname (string) Required, 17], [Property: AppUser.Gender (string) Required, 18], [Property: AppUser.LibraryID (int?), 19] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.DOB, a.Fullname, a.Gender, a.LibraryID
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'AppUser') && (a.NormalizedEmail == @__normalizedEmail_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: AppUser.DOB (DateOnly) Required, 16], [Property: AppUser.Fullname (string) Required, 17], [Property: AppUser.Gender (string) Required, 18], [Property: AppUser.LibraryID (int?), 19] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.DOB, a.Fullname, a.Gender, a.LibraryID
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'AppUser') && (a.NormalizedEmail == @__normalizedEmail_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            AppUser entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                AppUser instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(AppUser);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: IdentityUser.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (AppUser)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = 
                    {
                        string discriminator;
                        discriminator = dataReader.GetString(3);
                        return switch (discriminator)
                        {
                            case "AppUser": 
                                [LIFTABLE Constant: EntityType: AppUser Base: IdentityUser | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser")]
                            default: 
                                {
                                    throw StructuralTypeShaperExpression.CreateUnableToDiscriminateException(
                                        type: [LIFTABLE Constant: EntityType: AppUser Base: IdentityUser | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser")], 
                                        discriminator: (object)discriminator);
                                    return null;
                                }
                        }
                    };
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: AppUser Base: IdentityUser | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser")]: 
                            {
                                shadowSnapshot1 = (ISnapshot)new Snapshot<string>(dataReader.GetString(3));
                                return 
                                {
                                    AppUser instance;
                                    instance = new AppUser();
                                    instance.<Id>k__BackingField = dataReader.GetString(0);
                                    instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(1);
                                    instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(5);
                                    instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(6);
                                    instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(7) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(7);
                                    instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                    instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                    instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                    instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(12);
                                    instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(13) ? default(string) : dataReader.GetString(13);
                                    instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(14);
                                    instance.<UserName>k__BackingField = dataReader.IsDBNull(15) ? default(string) : dataReader.GetString(15);
                                    instance.<DOB>k__BackingField = dataReader.IsDBNull(16) ? default(DateOnly) : dataReader.GetFieldValue<DateOnly>(16);
                                    instance.<Fullname>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                    instance.<Gender>k__BackingField = dataReader.IsDBNull(18) ? default(string) : dataReader.GetString(18);
                                    instance.<LibraryID>k__BackingField = dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: AppUser Base: IdentityUser | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("CMSApi.Application.DTO.AppUser")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(AppUser)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-10 13:01:30.421 +01:00 [DBG] Creating DbConnection.
2025-09-10 13:01:30.441 +01:00 [DBG] Created DbConnection. (18ms).
2025-09-10 13:01:30.447 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:01:30.748 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:01:30.755 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 13:01:30.764 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-10 13:01:30.774 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (20ms).
2025-09-10 13:01:30.788 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DOB], [a].[Fullname], [a].[Gender], [a].[LibraryID]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'AppUser' AND [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-10 13:01:30.868 +01:00 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DOB], [a].[Fullname], [a].[Gender], [a].[LibraryID]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'AppUser' AND [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-10 13:01:30.913 +01:00 [DBG] Context 'CMSDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:01:30.963 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:01:30.973 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 96ms reading results.
2025-09-10 13:01:30.977 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:01:30.985 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (7ms).
2025-09-10 13:01:31.087 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2025-09-10 13:01:31.129 +01:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<string>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        value1 = dataReader.IsDBNull(0) ? default(string) : dataReader.GetString(0);
        return value1;
    }, 
    contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-10 13:01:31.135 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:01:31.138 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:01:31.141 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 13:01:31.142 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-10 13:01:31.144 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-10 13:01:31.147 +01:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-10 13:01:31.155 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-10 13:01:31.160 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:01:31.162 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-09-10 13:01:31.165 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:01:31.166 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (1ms).
2025-09-10 13:01:31.202 +01:00 [INF] Setting HTTP status code 200.
2025-09-10 13:01:31.209 +01:00 [INF] Writing value of type '<>f__AnonymousType12`1' as Json.
2025-09-10 13:01:31.215 +01:00 [INF] Executed endpoint 'HTTP: POST /api/signin => SignIn'
2025-09-10 13:01:31.222 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 13:01:31.227 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:01:31.233 +01:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-09-10 13:01:31.237 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7258/api/signin - 200 null application/json; charset=utf-8 2163.6298ms
2025-09-10 13:01:58.657 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Dept - null null
2025-09-10 13:01:58.705 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept'
2025-09-10 13:01:58.707 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)' with route pattern 'api/Dept' is valid for the request path '/api/Dept'
2025-09-10 13:01:58.709 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)'
2025-09-10 13:01:58.756 +01:00 [DBG] Successfully validated the token.
2025-09-10 13:01:58.760 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 13:01:58.767 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 13:01:58.771 +01:00 [DBG] Authorization was successful.
2025-09-10 13:01:58.772 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)'
2025-09-10 13:01:58.789 +01:00 [INF] Route matched with {action = "GetDepartments", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartments() on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-09-10 13:01:58.794 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 13:01:58.796 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 13:01:58.800 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 13:01:58.804 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 13:01:58.806 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 13:01:58.809 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-10 13:01:58.864 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 13:01:58.946 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-10 13:01:58.952 +01:00 [DBG] Compiling query expression: 
'DbSet<Department>()'
2025-09-10 13:01:58.961 +01:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Department>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
        SELECT d.Id, d.CreatedAt, d.DeptName, d.UpdatedAt
        FROM Departments AS d) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
        SELECT d.Id, d.CreatedAt, d.DeptName, d.UpdatedAt
        FROM Departments AS d, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Department entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Department instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Department);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Department.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Department)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]: 
                        {
                            return 
                            {
                                Department instance;
                                instance = new Department();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                instance.<DeptName>k__BackingField = dataReader.GetString(2);
                                instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(3);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Department)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-10 13:01:58.970 +01:00 [DBG] Creating DbConnection.
2025-09-10 13:01:58.972 +01:00 [DBG] Created DbConnection. (1ms).
2025-09-10 13:01:58.974 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:01:58.977 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:01:58.979 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 13:01:58.980 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-10 13:01:58.981 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-09-10 13:01:58.984 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-10 13:01:58.991 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-10 13:01:59.006 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:01:59.017 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:01:59.021 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 27ms reading results.
2025-09-10 13:01:59.024 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:01:59.026 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (2ms).
2025-09-10 13:01:59.043 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:01:59.046 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:01:59.049 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 13:01:59.052 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-09-10 13:01:59.054 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-09-10 13:01:59.055 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-10 13:01:59.058 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-10 13:01:59.061 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:01:59.063 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:01:59.065 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:01:59.067 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:01:59.070 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:01:59.072 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:01:59.073 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 13ms reading results.
2025-09-10 13:01:59.075 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:01:59.076 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (1ms).
2025-09-10 13:01:59.081 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 13:01:59.087 +01:00 [DBG] No information found on request to perform content negotiation.
2025-09-10 13:01:59.088 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 13:01:59.089 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 13:01:59.090 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 13:01:59.092 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.DeptDto.DepartmentResponseDto'.
2025-09-10 13:01:59.103 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi) in 289.6564ms
2025-09-10 13:01:59.105 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)'
2025-09-10 13:01:59.107 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 13:01:59.108 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:01:59.110 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-09-10 13:01:59.111 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Dept - 200 null application/json; charset=utf-8 454.9101ms
2025-09-10 13:04:42.428 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-10 13:04:42.775 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-09-10 13:04:42.776 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-09-10 13:04:42.861 +01:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2025-09-10 13:04:42.923 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 13:04:43.027 +01:00 [DBG] Creating DbConnection.
2025-09-10 13:04:43.052 +01:00 [DBG] Created DbConnection. (23ms).
2025-09-10 13:04:43.053 +01:00 [DBG] Migrating using database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:04:43.056 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:04:43.172 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:04:43.176 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-10 13:04:43.180 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-09-10 13:04:43.181 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (7ms).
2025-09-10 13:04:43.186 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-10 13:04:43.211 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-10 13:04:43.212 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:04:43.218 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (3ms).
2025-09-10 13:04:43.218 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:04:43.219 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:04:43.219 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-10 13:04:43.221 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-10 13:04:43.221 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-10 13:04:43.221 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-10 13:04:43.221 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-09-10 13:04:43.238 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-09-10 13:04:43.283 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-10 13:04:43.287 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-09-10 13:04:43.288 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-10 13:04:43.288 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-10 13:04:43.288 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-10 13:04:43.288 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-09-10 13:04:43.289 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-09-10 13:04:43.290 +01:00 [DBG] Committing transaction.
2025-09-10 13:04:43.292 +01:00 [DBG] Committed transaction.
2025-09-10 13:04:43.293 +01:00 [DBG] Disposing transaction.
2025-09-10 13:04:43.294 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-10 13:04:43.294 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-09-10 13:04:43.295 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-10 13:04:43.295 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-10 13:04:43.295 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-10 13:04:43.295 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-10 13:04:43.295 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-10 13:04:43.296 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-10 13:04:43.296 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-10 13:04:43.296 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-10 13:04:43.296 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-10 13:04:43.296 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-10 13:04:43.297 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 13:04:43.297 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-10 13:04:43.297 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-10 13:04:43.297 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-10 13:04:43.299 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-10 13:04:43.301 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:04:43.301 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-09-10 13:04:43.611 +01:00 [INF] Applying migration '20250910113559_FixDepartmentForeignKey'.
2025-09-10 13:04:43.631 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-10 13:04:43.631 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-10 13:04:43.631 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-10 13:04:43.631 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var sysname;
SELECT @var = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Departments]') AND [c].[name] = N'DepartmentId');
IF @var IS NOT NULL EXEC(N'ALTER TABLE [Departments] DROP CONSTRAINT [' + @var + '];');
ALTER TABLE [Departments] DROP COLUMN [DepartmentId];
2025-09-10 13:04:43.675 +01:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var sysname;
SELECT @var = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Departments]') AND [c].[name] = N'DepartmentId');
IF @var IS NOT NULL EXEC(N'ALTER TABLE [Departments] DROP CONSTRAINT [' + @var + '];');
ALTER TABLE [Departments] DROP COLUMN [DepartmentId];
2025-09-10 13:04:43.675 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-10 13:04:43.675 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-10 13:04:43.675 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-10 13:04:43.676 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Employees] DROP CONSTRAINT [FK_Employees_Departments_DepartmentId];
2025-09-10 13:04:43.677 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Employees] DROP CONSTRAINT [FK_Employees_Departments_DepartmentId];
2025-09-10 13:04:43.678 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-10 13:04:43.678 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-10 13:04:43.678 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-10 13:04:43.678 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Employees] ADD CONSTRAINT [FK_Employees_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([Id]) ON DELETE NO ACTION;
2025-09-10 13:04:43.682 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Employees] ADD CONSTRAINT [FK_Employees_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([Id]) ON DELETE NO ACTION;
2025-09-10 13:04:43.682 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-10 13:04:43.682 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-10 13:04:43.682 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-10 13:04:43.682 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250910113559_FixDepartmentForeignKey', N'9.0.8');
2025-09-10 13:04:43.685 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250910113559_FixDepartmentForeignKey', N'9.0.8');
2025-09-10 13:04:43.685 +01:00 [DBG] Committing transaction.
2025-09-10 13:04:43.686 +01:00 [DBG] Committed transaction.
2025-09-10 13:04:43.686 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-10 13:04:43.687 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-09-10 13:04:43.687 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-09-10 13:04:43.687 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-09-10 13:04:43.690 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-09-10 13:04:43.690 +01:00 [DBG] Disposing transaction.
2025-09-10 13:04:43.690 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:04:47.410 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (3719ms).
2025-09-10 13:04:47.412 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 13:04:47.415 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:04:47.416 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-09-10 13:08:30.044 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-10 13:08:30.167 +01:00 [DBG] Hosting starting
2025-09-10 13:08:30.203 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-10 13:08:30.213 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-09-10 13:08:30.222 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-09-10 13:08:30.232 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-09-10 13:08:30.238 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-10 13:08:30.241 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-09-10 13:08:30.243 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-10 13:08:30.249 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-09-10 13:08:30.251 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-09-10 13:08:30.255 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-09-10 13:08:30.257 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-09-10 13:08:30.264 +01:00 [DBG] Middleware loaded
2025-09-10 13:08:30.267 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-09-10 13:08:30.269 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-10 13:08:30.396 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-10 13:08:30.400 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-10 13:08:30.416 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-10 13:08:30.580 +01:00 [INF] Now listening on: https://localhost:7258
2025-09-10 13:08:30.585 +01:00 [INF] Now listening on: http://localhost:5191
2025-09-10 13:08:30.587 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-09-10 13:08:30.589 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-09-10 13:08:30.590 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-10 13:08:30.591 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-09-10 13:08:30.598 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-10 13:08:30.605 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-10 13:08:30.641 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-10 13:08:30.642 +01:00 [INF] Hosting environment: Development
2025-09-10 13:08:30.643 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-09-10 13:08:30.644 +01:00 [DBG] Hosting started
2025-09-10 13:15:51.069 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-10 13:15:51.191 +01:00 [DBG] Hosting starting
2025-09-10 13:15:51.224 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-10 13:15:51.237 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-09-10 13:15:51.247 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-09-10 13:15:51.259 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-09-10 13:15:51.264 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-10 13:15:51.267 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-09-10 13:15:51.269 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-10 13:15:51.275 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-09-10 13:15:51.277 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-09-10 13:15:51.280 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-09-10 13:15:51.282 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-09-10 13:15:51.293 +01:00 [DBG] Middleware loaded
2025-09-10 13:15:51.296 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-09-10 13:15:51.299 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-10 13:15:51.427 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-10 13:15:51.430 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-10 13:15:51.449 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-10 13:15:51.548 +01:00 [INF] Now listening on: https://localhost:7258
2025-09-10 13:15:51.552 +01:00 [INF] Now listening on: http://localhost:5191
2025-09-10 13:15:51.553 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-09-10 13:15:51.555 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-09-10 13:15:51.556 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-10 13:15:51.557 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-09-10 13:15:51.563 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-10 13:15:51.570 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-10 13:15:51.605 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-10 13:15:51.606 +01:00 [INF] Hosting environment: Development
2025-09-10 13:15:51.608 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-09-10 13:15:51.610 +01:00 [DBG] Hosting started
2025-09-10 13:16:15.283 +01:00 [DBG] Connection id "0HNFGCFBCUQRG" accepted.
2025-09-10 13:16:15.317 +01:00 [DBG] Connection id "0HNFGCFBCUQRG" started.
2025-09-10 13:16:15.391 +01:00 [DBG] Connection 0HNFGCFBCUQRG established using the following protocol: "Tls13"
2025-09-10 13:16:15.445 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Dept - null null
2025-09-10 13:16:15.496 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept'
2025-09-10 13:16:15.501 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)' with route pattern 'api/Dept' is valid for the request path '/api/Dept'
2025-09-10 13:16:15.505 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)'
2025-09-10 13:16:15.682 +01:00 [DBG] Successfully validated the token.
2025-09-10 13:16:15.686 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 13:16:15.692 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 13:16:15.699 +01:00 [DBG] Authorization was successful.
2025-09-10 13:16:15.702 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)'
2025-09-10 13:16:15.722 +01:00 [INF] Route matched with {action = "GetDepartments", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartments() on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-09-10 13:16:15.727 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 13:16:15.731 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 13:16:15.734 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 13:16:15.736 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 13:16:15.738 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 13:16:15.741 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-10 13:16:15.870 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-10 13:16:16.454 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-09-10 13:16:16.459 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-09-10 13:16:16.603 +01:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2025-09-10 13:16:16.712 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 13:16:16.799 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-10 13:16:16.849 +01:00 [DBG] Compiling query expression: 
'DbSet<Department>()'
2025-09-10 13:16:17.109 +01:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Department>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
        SELECT d.Id, d.CreatedAt, d.DeptName, d.UpdatedAt
        FROM Departments AS d) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
        SELECT d.Id, d.CreatedAt, d.DeptName, d.UpdatedAt
        FROM Departments AS d, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Department entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Department instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Department);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Department.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Department)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]: 
                        {
                            return 
                            {
                                Department instance;
                                instance = new Department();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                instance.<DeptName>k__BackingField = dataReader.GetString(2);
                                instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(3);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Department)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-10 13:16:17.141 +01:00 [DBG] Creating DbConnection.
2025-09-10 13:16:17.166 +01:00 [DBG] Created DbConnection. (23ms).
2025-09-10 13:16:17.170 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:16:17.403 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:16:17.411 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 13:16:17.421 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-09-10 13:16:17.429 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-09-10 13:16:17.437 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-10 13:16:17.469 +01:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-10 13:16:17.515 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:16:17.538 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:16:17.551 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 74ms reading results.
2025-09-10 13:16:17.555 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:16:17.565 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (9ms).
2025-09-10 13:16:17.585 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:16:17.589 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:16:17.592 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 13:16:17.596 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-09-10 13:16:17.599 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-09-10 13:16:17.601 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-10 13:16:17.604 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-10 13:16:17.610 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:16:17.613 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:16:17.615 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:16:17.617 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:16:17.618 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:16:17.620 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:16:17.622 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 14ms reading results.
2025-09-10 13:16:17.624 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:16:17.627 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (2ms).
2025-09-10 13:16:17.634 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 13:16:17.639 +01:00 [DBG] No information found on request to perform content negotiation.
2025-09-10 13:16:17.641 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 13:16:17.642 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 13:16:17.650 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 13:16:17.653 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.DeptDto.DepartmentResponseDto'.
2025-09-10 13:16:17.666 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi) in 1922.8404ms
2025-09-10 13:16:17.670 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)'
2025-09-10 13:16:17.677 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 13:16:17.683 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:16:17.688 +01:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-09-10 13:16:17.693 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Dept - 200 null application/json; charset=utf-8 2251.7307ms
2025-09-10 13:16:38.737 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee - null null
2025-09-10 13:16:38.746 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 13:16:38.748 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 13:16:38.750 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 13:16:38.756 +01:00 [DBG] Successfully validated the token.
2025-09-10 13:16:38.757 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 13:16:38.759 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 13:16:38.760 +01:00 [DBG] Authorization was successful.
2025-09-10 13:16:38.762 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 13:16:38.778 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 13:16:38.781 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 13:16:38.783 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 13:16:38.786 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 13:16:38.790 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 13:16:38.792 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 13:16:38.793 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 13:16:38.847 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 13:16:38.853 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 13:16:38.866 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 13:16:38.871 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 13:16:38.878 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 13:16:38.882 +01:00 [DBG] Could not find a value in the request with name 'Gender' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 13:16:38.886 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 13:16:38.890 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DepartmentId' of type 'System.Nullable`1[System.Int32]' using the name 'DepartmentId' in request data ...
2025-09-10 13:16:38.892 +01:00 [DBG] Could not find a value in the request with name 'DepartmentId' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.DepartmentId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 13:16:38.894 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DepartmentId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 13:16:38.896 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2025-09-10 13:16:38.898 +01:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 13:16:38.901 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 13:16:38.905 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 13:16:38.907 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 13:16:38.909 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 13:16:38.918 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 13:16:38.952 +01:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Include(e => e.Department)
    .Select(e => new EmployeeResponseDto{ 
        Id = (int?)e.Id, 
        Fullname = string.Format(
            format: "{0} {1} {2}", 
            arg0: e.Firstname, 
            arg1: e.Middlename, 
            arg2: e.Lastname), 
        Gender = e.Gender, 
        Email = e.Email, 
        Phone = e.Phone, 
        DOB = e.DOB, 
        Role = e.Role, 
        DepartmentId = e.DepartmentId, 
        DeptName = e.Department.DeptName, 
        IsActive = e.IsActive 
    }
    )'
2025-09-10 13:16:39.079 +01:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<EmployeeResponseDto>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
            5 -> 5
            6 -> 6
            7 -> 7
            8 -> 8
            9 -> 9
            10 -> 10
            11 -> 11
        SELECT e.Id, e.Firstname, e.Middlename, e.Lastname, e.Gender, e.Email, e.Phone, e.DOB, e.Role, e.DepartmentId, d.DeptName, e.IsActive
        FROM Employees AS e
        LEFT JOIN Departments AS d ON e.DepartmentId == d.Id) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
            5 -> 5
            6 -> 6
            7 -> 7
            8 -> 8
            9 -> 9
            10 -> 10
            11 -> 11
        SELECT e.Id, e.Firstname, e.Middlename, e.Lastname, e.Gender, e.Email, e.Phone, e.DOB, e.Role, e.DepartmentId, d.DeptName, e.IsActive
        FROM Employees AS e
        LEFT JOIN Departments AS d ON e.DepartmentId == d.Id, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        int? value1;
        string value2;
        string value3;
        string value4;
        string value5;
        string value6;
        string value7;
        DateOnly? value8;
        string value9;
        int? value10;
        string value11;
        bool? value12;
        value1 = (int?)dataReader.GetInt32(0);
        value2 = dataReader.GetString(1);
        value3 = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
        value4 = dataReader.GetString(3);
        value5 = dataReader.GetString(4);
        value6 = dataReader.GetString(5);
        value7 = dataReader.GetString(6);
        value8 = (DateOnly?)dataReader.GetFieldValue<DateOnly>(7);
        value9 = dataReader.GetString(8);
        value10 = dataReader.IsDBNull(9) ? default(int?) : (int?)dataReader.GetInt32(9);
        value11 = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
        value12 = (bool?)dataReader.GetBoolean(11);
        return new EmployeeResponseDto{ 
            Id = value1, 
            Fullname = string.Format(
                format: "{0} {1} {2}", 
                arg0: value2, 
                arg1: value3, 
                arg2: value4), 
            Gender = value5, 
            Email = value6, 
            Phone = value7, 
            DOB = (DateOnly)value8, 
            Role = value9, 
            DepartmentId = value10, 
            DeptName = value11, 
            IsActive = (bool)value12 
        }
        ;
    }, 
    contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-10 13:16:39.095 +01:00 [DBG] Creating DbConnection.
2025-09-10 13:16:39.098 +01:00 [DBG] Created DbConnection. (2ms).
2025-09-10 13:16:39.102 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:16:39.107 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:16:39.109 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 13:16:39.110 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-10 13:16:39.112 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-10 13:16:39.114 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DepartmentId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DepartmentId] = [d].[Id]
2025-09-10 13:16:39.131 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DepartmentId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DepartmentId] = [d].[Id]
2025-09-10 13:16:39.149 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:16:39.152 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 17ms reading results.
2025-09-10 13:16:39.159 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:16:39.164 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (4ms).
2025-09-10 13:16:39.174 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 13:16:39.183 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-10 13:16:39.188 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 13:16:39.191 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 13:16:39.192 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 13:16:39.193 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 13:16:39.194 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto, CMSApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-10 13:16:39.210 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 416.4504ms
2025-09-10 13:16:39.213 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 13:16:39.219 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 13:16:39.230 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:16:39.233 +01:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-09-10 13:16:39.236 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee - 200 null application/json; charset=utf-8 526.7801ms
2025-09-10 13:17:26.402 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Dept - null null
2025-09-10 13:17:26.415 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept'
2025-09-10 13:17:26.417 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)' with route pattern 'api/Dept' is valid for the request path '/api/Dept'
2025-09-10 13:17:26.420 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)'
2025-09-10 13:17:26.423 +01:00 [DBG] Successfully validated the token.
2025-09-10 13:17:26.424 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 13:17:26.426 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 13:17:26.427 +01:00 [DBG] Authorization was successful.
2025-09-10 13:17:26.428 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)'
2025-09-10 13:17:26.430 +01:00 [INF] Route matched with {action = "GetDepartments", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartments() on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-09-10 13:17:26.433 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 13:17:26.435 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 13:17:26.439 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 13:17:26.441 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 13:17:26.442 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 13:17:26.444 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-10 13:17:26.457 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 13:17:26.461 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-10 13:17:26.464 +01:00 [DBG] Creating DbConnection.
2025-09-10 13:17:26.465 +01:00 [DBG] Created DbConnection. (0ms).
2025-09-10 13:17:26.467 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:17:26.469 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:17:26.471 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 13:17:26.472 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-10 13:17:26.473 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-09-10 13:17:26.474 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-10 13:17:26.476 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-10 13:17:26.479 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:17:26.480 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:17:26.481 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-09-10 13:17:26.484 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:17:26.486 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (2ms).
2025-09-10 13:17:26.489 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:17:26.490 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:17:26.491 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 13:17:26.493 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-10 13:17:26.494 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-09-10 13:17:26.496 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-10 13:17:26.498 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-10 13:17:26.501 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:17:26.503 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:17:26.505 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:17:26.506 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:17:26.508 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:17:26.509 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:17:26.511 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 10ms reading results.
2025-09-10 13:17:26.513 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:17:26.515 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (2ms).
2025-09-10 13:17:26.518 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 13:17:26.523 +01:00 [DBG] No information found on request to perform content negotiation.
2025-09-10 13:17:26.524 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 13:17:26.526 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 13:17:26.527 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 13:17:26.528 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.DeptDto.DepartmentResponseDto'.
2025-09-10 13:17:26.530 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi) in 86.4731ms
2025-09-10 13:17:26.532 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)'
2025-09-10 13:17:26.535 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 13:17:26.537 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:17:26.539 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-09-10 13:17:26.541 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Dept - 200 null application/json; charset=utf-8 138.9966ms
2025-09-10 13:26:38.924 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-10 13:26:39.041 +01:00 [DBG] Hosting starting
2025-09-10 13:26:39.079 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-10 13:26:39.090 +01:00 [DBG] Reading data from file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-8647a598-9118-4347-ac0a-36d9777c35dd.xml'.
2025-09-10 13:26:39.103 +01:00 [DBG] Found key {8647a598-9118-4347-ac0a-36d9777c35dd}.
2025-09-10 13:26:39.114 +01:00 [DBG] Considering key {8647a598-9118-4347-ac0a-36d9777c35dd} with expiration date 2025-11-16 09:50:12Z as default key.
2025-09-10 13:26:39.118 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-10 13:26:39.121 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-09-10 13:26:39.124 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-10 13:26:39.130 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-09-10 13:26:39.133 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-09-10 13:26:39.135 +01:00 [DBG] Using key {8647a598-9118-4347-ac0a-36d9777c35dd} as the default key.
2025-09-10 13:26:39.137 +01:00 [DBG] Key ring with default key {8647a598-9118-4347-ac0a-36d9777c35dd} was loaded during application startup.
2025-09-10 13:26:39.145 +01:00 [DBG] Middleware loaded
2025-09-10 13:26:39.148 +01:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16497 B).
2025-09-10 13:26:39.149 +01:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-10 13:26:39.275 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-10 13:26:39.277 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-10 13:26:39.298 +01:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-10 13:26:39.423 +01:00 [INF] Now listening on: https://localhost:7258
2025-09-10 13:26:39.426 +01:00 [INF] Now listening on: http://localhost:5191
2025-09-10 13:26:39.427 +01:00 [DBG] Loaded hosting startup assembly CMSApi
2025-09-10 13:26:39.428 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-09-10 13:26:39.429 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-10 13:26:39.430 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-09-10 13:26:39.438 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-10 13:26:39.445 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-10 13:26:39.479 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-10 13:26:39.482 +01:00 [INF] Hosting environment: Development
2025-09-10 13:26:39.484 +01:00 [INF] Content root path: C:\Users\HP\Documents\repos\CMSApi\CMSApi
2025-09-10 13:26:39.485 +01:00 [DBG] Hosting started
2025-09-10 13:39:37.106 +01:00 [DBG] Connection id "0HNFGCSD5PDDF" accepted.
2025-09-10 13:39:37.146 +01:00 [DBG] Connection id "0HNFGCSD5PDDF" started.
2025-09-10 13:39:37.200 +01:00 [DBG] Connection 0HNFGCSD5PDDF established using the following protocol: "Tls13"
2025-09-10 13:39:37.262 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Dept - null null
2025-09-10 13:39:37.307 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept'
2025-09-10 13:39:37.311 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)' with route pattern 'api/Dept' is valid for the request path '/api/Dept'
2025-09-10 13:39:37.314 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)'
2025-09-10 13:39:37.502 +01:00 [DBG] Successfully validated the token.
2025-09-10 13:39:37.506 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 13:39:37.512 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 13:39:37.517 +01:00 [DBG] Authorization was successful.
2025-09-10 13:39:37.520 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)'
2025-09-10 13:39:37.536 +01:00 [INF] Route matched with {action = "GetDepartments", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartments() on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-09-10 13:39:37.542 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 13:39:37.546 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 13:39:37.548 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 13:39:37.551 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 13:39:37.552 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 13:39:37.555 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-10 13:39:37.668 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-10 13:39:38.165 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-09-10 13:39:38.170 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-09-10 13:39:38.296 +01:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2025-09-10 13:39:38.403 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 13:39:38.491 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-10 13:39:38.536 +01:00 [DBG] Compiling query expression: 
'DbSet<Department>()'
2025-09-10 13:39:38.781 +01:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Department>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
        SELECT d.Id, d.CreatedAt, d.DeptName, d.UpdatedAt
        FROM Departments AS d) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
        SELECT d.Id, d.CreatedAt, d.DeptName, d.UpdatedAt
        FROM Departments AS d, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Department entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Department instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Department);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Department.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Department)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]: 
                        {
                            return 
                            {
                                Department instance;
                                instance = new Department();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                instance.<DeptName>k__BackingField = dataReader.GetString(2);
                                instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(3);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Department)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-10 13:39:38.813 +01:00 [DBG] Creating DbConnection.
2025-09-10 13:39:38.835 +01:00 [DBG] Created DbConnection. (19ms).
2025-09-10 13:39:38.840 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:39:39.061 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:39:39.067 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 13:39:39.075 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-10 13:39:39.081 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-09-10 13:39:39.088 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-10 13:39:39.122 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-10 13:39:39.166 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:39:39.193 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:39:39.205 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 72ms reading results.
2025-09-10 13:39:39.213 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:39:39.219 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (6ms).
2025-09-10 13:39:39.242 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:39:39.247 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:39:39.249 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 13:39:39.251 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-10 13:39:39.253 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-10 13:39:39.256 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-10 13:39:39.261 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-09-10 13:39:39.265 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:39:39.267 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:39:39.269 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:39:39.271 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:39:39.273 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:39:39.277 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:39:39.279 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 14ms reading results.
2025-09-10 13:39:39.281 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:39:39.283 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (1ms).
2025-09-10 13:39:39.288 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 13:39:39.293 +01:00 [DBG] No information found on request to perform content negotiation.
2025-09-10 13:39:39.295 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 13:39:39.296 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 13:39:39.298 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 13:39:39.300 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.DeptDto.DepartmentResponseDto'.
2025-09-10 13:39:39.316 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi) in 1758.3223ms
2025-09-10 13:39:39.321 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)'
2025-09-10 13:39:39.329 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 13:39:39.335 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:39:39.341 +01:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-09-10 13:39:39.347 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Dept - 200 null application/json; charset=utf-8 2092.2614ms
2025-09-10 13:47:56.063 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7258/api/Dept - application/json 69
2025-09-10 13:47:56.073 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept'
2025-09-10 13:47:56.075 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)' with route pattern 'api/Dept' is valid for the request path '/api/Dept'
2025-09-10 13:47:56.078 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-09-10 13:47:56.086 +01:00 [INF] No CORS policy found for the specified request.
2025-09-10 13:47:56.090 +01:00 [DBG] Successfully validated the token.
2025-09-10 13:47:56.091 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 13:47:56.094 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 13:47:56.097 +01:00 [DBG] Authorization was successful.
2025-09-10 13:47:56.098 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-09-10 13:47:56.107 +01:00 [INF] Route matched with {action = "CreateDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateDepartment(CMSApi.Application.DTO.DeptDto.CreateDeptDto) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-09-10 13:47:56.112 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 13:47:56.115 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 13:47:56.117 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 13:47:56.119 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 13:47:56.121 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 13:47:56.123 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-10 13:47:56.171 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 13:47:56.178 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-10 13:47:56.191 +01:00 [DBG] Attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' ...
2025-09-10 13:47:56.197 +01:00 [DBG] Attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' using the name '' in request data ...
2025-09-10 13:47:56.201 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-10 13:47:56.209 +01:00 [DBG] Connection id "0HNFGCSD5PDDF", Request id "0HNFGCSD5PDDF:00000003": started reading request body.
2025-09-10 13:47:56.214 +01:00 [DBG] Connection id "0HNFGCSD5PDDF", Request id "0HNFGCSD5PDDF:00000003": done reading request body.
2025-09-10 13:47:56.224 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'
2025-09-10 13:47:56.228 +01:00 [DBG] Done attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-09-10 13:47:56.232 +01:00 [DBG] Done attempting to bind parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-09-10 13:47:56.235 +01:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto' ...
2025-09-10 13:47:56.247 +01:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'CMSApi.Application.DTO.DeptDto.CreateDeptDto'.
2025-09-10 13:47:56.281 +01:00 [DBG] 'CMSDbContext' generated a temporary value for the property 'Department.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:47:56.298 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:47:56.304 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-09-10 13:47:56.310 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-09-10 13:47:56.323 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-09-10 13:47:56.399 +01:00 [DBG] Creating DbConnection.
2025-09-10 13:47:56.401 +01:00 [DBG] Created DbConnection. (1ms).
2025-09-10 13:47:56.405 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:47:56.454 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:47:56.466 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 13:47:56.468 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-10 13:47:56.473 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-09-10 13:47:56.481 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Departments] ([CreatedAt], [DeptName], [UpdatedAt])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-09-10 13:47:56.523 +01:00 [INF] Executed DbCommand (46ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Departments] ([CreatedAt], [DeptName], [UpdatedAt])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-09-10 13:47:56.538 +01:00 [DBG] The foreign key property 'Department.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-10 13:47:56.551 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:47:56.554 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 26ms reading results.
2025-09-10 13:47:56.557 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:47:56.560 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (3ms).
2025-09-10 13:47:56.572 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:47:56.578 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 1 entities written to the database.
2025-09-10 13:47:56.586 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 13:47:56.591 +01:00 [DBG] No information found on request to perform content negotiation.
2025-09-10 13:47:56.592 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 13:47:56.595 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 13:47:56.597 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 13:47:56.598 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'CMSApi.Application.DTO.DeptDto.ResponseDto'.
2025-09-10 13:47:56.621 +01:00 [DBG] Found the endpoints ["CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)"] for address (name=[Health],action=[GetDepartments],controller=[Dept])
2025-09-10 13:47:56.629 +01:00 [DBG] Successfully processed template api/Dept for CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi) resulting in /api/Dept and ?name=Health
2025-09-10 13:47:56.634 +01:00 [DBG] Link generation succeeded for endpoints ["CMSApi.Presentation.Controllers.DeptController.GetDepartments (CMSApi)"] with result /api/Dept?name=Health
2025-09-10 13:47:56.638 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi) in 515.9104ms
2025-09-10 13:47:56.640 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.CreateDepartment (CMSApi)'
2025-09-10 13:47:56.645 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 13:47:56.648 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:47:56.649 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-09-10 13:47:56.652 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7258/api/Dept - 201 null application/json; charset=utf-8 624.4049ms
2025-09-10 13:48:40.853 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7258/api/Dept/2 - application/json 74
2025-09-10 13:48:40.858 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept/2'
2025-09-10 13:48:40.859 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)' with route pattern 'api/Dept/{id}' is valid for the request path '/api/Dept/2'
2025-09-10 13:48:40.862 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-09-10 13:48:40.865 +01:00 [INF] No CORS policy found for the specified request.
2025-09-10 13:48:40.867 +01:00 [DBG] Successfully validated the token.
2025-09-10 13:48:40.868 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 13:48:40.870 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 13:48:40.871 +01:00 [DBG] Authorization was successful.
2025-09-10 13:48:40.872 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-09-10 13:48:40.879 +01:00 [INF] Route matched with {action = "UpdateDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.DeptDto.DepartmentResponseDto]] UpdateDepartment(Int32, CMSApi.Application.DTO.DeptDto.UpdateDept) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-09-10 13:48:40.882 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 13:48:40.884 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 13:48:40.885 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 13:48:40.887 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 13:48:40.889 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 13:48:40.890 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-10 13:48:40.904 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 13:48:40.909 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-10 13:48:40.913 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-09-10 13:48:40.929 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-09-10 13:48:40.933 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-10 13:48:40.935 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-10 13:48:40.937 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-09-10 13:48:40.938 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-09-10 13:48:40.940 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-09-10 13:48:40.941 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' using the name '' in request data ...
2025-09-10 13:48:40.943 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-10 13:48:40.950 +01:00 [DBG] Connection id "0HNFGCSD5PDDF", Request id "0HNFGCSD5PDDF:00000005": started reading request body.
2025-09-10 13:48:40.951 +01:00 [DBG] Connection id "0HNFGCSD5PDDF", Request id "0HNFGCSD5PDDF:00000005": done reading request body.
2025-09-10 13:48:40.954 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.DeptDto.UpdateDept'
2025-09-10 13:48:40.955 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-09-10 13:48:40.956 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-09-10 13:48:40.958 +01:00 [DBG] Attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-09-10 13:48:40.960 +01:00 [DBG] Done attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-09-10 13:48:40.974 +01:00 [DBG] Compiling query expression: 
'DbSet<Department>()
    .SingleOrDefault(x => (long)x.Id == __id_0)'
2025-09-10 13:48:41.047 +01:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Department>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
        SELECT TOP(2) d.Id, d.CreatedAt, d.DeptName, d.UpdatedAt
        FROM Departments AS d
        WHERE CAST(d.Id AS bigint) == @__id_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.CreatedAt (DateTime) Required, 1], [Property: Department.DeptName (string) Required, 2], [Property: Department.UpdatedAt (DateTime) Required, 3] }
        SELECT TOP(2) d.Id, d.CreatedAt, d.DeptName, d.UpdatedAt
        FROM Departments AS d
        WHERE CAST(d.Id AS bigint) == @__id_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Department entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Department instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Department);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Department.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Department)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]: 
                        {
                            return 
                            {
                                Department instance;
                                instance = new Department();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                instance.<DeptName>k__BackingField = dataReader.GetString(2);
                                instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(3);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Department")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Department)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .SingleOrDefault()'
2025-09-10 13:48:41.062 +01:00 [DBG] Creating DbConnection.
2025-09-10 13:48:41.065 +01:00 [DBG] Created DbConnection. (2ms).
2025-09-10 13:48:41.067 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:48:41.069 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:48:41.070 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 13:48:41.072 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-10 13:48:41.073 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-09-10 13:48:41.075 +01:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE CAST([d].[Id] AS bigint) = @__id_0
2025-09-10 13:48:41.081 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE CAST([d].[Id] AS bigint) = @__id_0
2025-09-10 13:48:41.084 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:48:41.085 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-09-10 13:48:41.087 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:48:41.088 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (1ms).
2025-09-10 13:49:28.255 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi) in 47364.2339ms
2025-09-10 13:49:28.258 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-09-10 13:49:28.261 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at CMSApi.Application.Services.DeptService.Update(Int32 id, UpdateDept dto) in C:\Users\HP\Documents\repos\CMSApi\CMSApi\Application\Services\DeptService.cs:line 95
   at CMSApi.Presentation.Controllers.DeptController.UpdateDepartment(Int32 id, UpdateDept department) in C:\Users\HP\Documents\repos\CMSApi\CMSApi\Presentation\Controllers\DeptController.cs:line 58
   at lambda_method121(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-10 13:49:28.313 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 13:49:28.315 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:49:28.317 +01:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-09-10 13:49:28.319 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7258/api/Dept/2 - 500 null text/plain; charset=utf-8 47493.7781ms
2025-09-10 13:49:30.368 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7258/api/Dept/10 - application/json 74
2025-09-10 13:49:30.376 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Dept/10'
2025-09-10 13:49:30.378 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)' with route pattern 'api/Dept/{id}' is valid for the request path '/api/Dept/10'
2025-09-10 13:49:30.380 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-09-10 13:49:30.382 +01:00 [INF] No CORS policy found for the specified request.
2025-09-10 13:49:30.383 +01:00 [DBG] Successfully validated the token.
2025-09-10 13:49:30.384 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 13:49:30.386 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 13:49:30.387 +01:00 [DBG] Authorization was successful.
2025-09-10 13:49:30.388 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-09-10 13:49:30.390 +01:00 [INF] Route matched with {action = "UpdateDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.DeptDto.DepartmentResponseDto]] UpdateDepartment(Int32, CMSApi.Application.DTO.DeptDto.UpdateDept) on controller CMSApi.Presentation.Controllers.DeptController (CMSApi).
2025-09-10 13:49:30.392 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 13:49:30.394 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 13:49:30.396 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 13:49:30.397 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 13:49:30.398 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 13:49:30.400 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-10 13:49:30.402 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 13:49:30.404 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.DeptController (CMSApi)
2025-09-10 13:49:30.405 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-09-10 13:49:30.407 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-09-10 13:49:30.410 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-10 13:49:30.411 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-10 13:49:30.412 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-09-10 13:49:30.414 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-09-10 13:49:30.415 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-09-10 13:49:30.416 +01:00 [DBG] Attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' using the name '' in request data ...
2025-09-10 13:49:30.418 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-10 13:49:30.419 +01:00 [DBG] Connection id "0HNFGCSD5PDDF", Request id "0HNFGCSD5PDDF:00000007": started reading request body.
2025-09-10 13:49:30.421 +01:00 [DBG] Connection id "0HNFGCSD5PDDF", Request id "0HNFGCSD5PDDF:00000007": done reading request body.
2025-09-10 13:49:30.423 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.DeptDto.UpdateDept'
2025-09-10 13:49:30.426 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-09-10 13:49:30.427 +01:00 [DBG] Done attempting to bind parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-09-10 13:49:30.429 +01:00 [DBG] Attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept' ...
2025-09-10 13:49:30.430 +01:00 [DBG] Done attempting to validate the bound parameter 'department' of type 'CMSApi.Application.DTO.DeptDto.UpdateDept'.
2025-09-10 13:49:30.434 +01:00 [DBG] Creating DbConnection.
2025-09-10 13:49:30.435 +01:00 [DBG] Created DbConnection. (0ms).
2025-09-10 13:49:30.436 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:49:30.438 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:49:30.440 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 13:49:30.442 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-10 13:49:30.444 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-10 13:49:30.445 +01:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE CAST([d].[Id] AS bigint) = @__id_0
2025-09-10 13:49:30.448 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE CAST([d].[Id] AS bigint) = @__id_0
2025-09-10 13:49:30.450 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:49:30.452 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:49:30.453 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-09-10 13:49:30.455 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:49:30.457 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (2ms).
2025-09-10 13:49:30.461 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-09-10 13:49:30.462 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-09-10 13:49:30.464 +01:00 [DBG] The unchanged property 'Department.DeptName' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-10 13:49:30.465 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:49:30.467 +01:00 [DBG] The unchanged property 'Department.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-10 13:49:30.469 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-09-10 13:49:30.477 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:49:30.479 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:49:30.481 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 13:49:30.482 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-10 13:49:30.484 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-09-10 13:49:30.485 +01:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Departments] SET [DeptName] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-09-10 13:49:30.494 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Departments] SET [DeptName] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-09-10 13:49:30.498 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:49:30.499 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-09-10 13:49:30.501 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:49:30.502 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (1ms).
2025-09-10 13:49:30.504 +01:00 [DBG] An entity of type 'Department' tracked by 'CMSDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:49:30.508 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 1 entities written to the database.
2025-09-10 13:49:30.510 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 13:49:30.514 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-10 13:49:30.516 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 13:49:30.517 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 13:49:30.518 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 13:49:30.519 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 13:49:30.520 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.DeptDto.DepartmentResponseDto'.
2025-09-10 13:49:30.522 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi) in 122.1126ms
2025-09-10 13:49:30.524 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.DeptController.UpdateDepartment (CMSApi)'
2025-09-10 13:49:30.525 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 13:49:30.528 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:49:30.529 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-09-10 13:49:30.531 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7258/api/Dept/10 - 200 null application/json; charset=utf-8 162.7418ms
2025-09-10 13:53:25.506 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7258/api/Employee/4 - application/json 176
2025-09-10 13:53:25.516 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee/4'
2025-09-10 13:53:25.518 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.UpdateEmployee (CMSApi)' with route pattern 'api/Employee/{Id}' is valid for the request path '/api/Employee/4'
2025-09-10 13:53:25.521 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.UpdateEmployee (CMSApi)'
2025-09-10 13:53:25.523 +01:00 [INF] No CORS policy found for the specified request.
2025-09-10 13:53:25.525 +01:00 [DBG] Successfully validated the token.
2025-09-10 13:53:25.526 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 13:53:25.527 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 13:53:25.528 +01:00 [DBG] Authorization was successful.
2025-09-10 13:53:25.529 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.UpdateEmployee (CMSApi)'
2025-09-10 13:53:25.537 +01:00 [INF] Route matched with {action = "UpdateEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]] UpdateEmployee(Int32, CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 13:53:25.539 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 13:53:25.541 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 13:53:25.543 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 13:53:25.545 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 13:53:25.546 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 13:53:25.548 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 13:53:25.554 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 13:53:25.557 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 13:53:25.558 +01:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2025-09-10 13:53:25.560 +01:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2025-09-10 13:53:25.562 +01:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2025-09-10 13:53:25.563 +01:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2025-09-10 13:53:25.564 +01:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2025-09-10 13:53:25.568 +01:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2025-09-10 13:53:25.570 +01:00 [DBG] Attempting to bind parameter 'employee' of type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto' ...
2025-09-10 13:53:25.572 +01:00 [DBG] Attempting to bind parameter 'employee' of type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto' using the name '' in request data ...
2025-09-10 13:53:25.574 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-10 13:53:25.576 +01:00 [DBG] Connection id "0HNFGCSD5PDDF", Request id "0HNFGCSD5PDDF:00000009": started reading request body.
2025-09-10 13:53:25.577 +01:00 [DBG] Connection id "0HNFGCSD5PDDF", Request id "0HNFGCSD5PDDF:00000009": done reading request body.
2025-09-10 13:53:25.583 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto'
2025-09-10 13:53:25.586 +01:00 [DBG] Done attempting to bind parameter 'employee' of type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto'.
2025-09-10 13:53:25.588 +01:00 [DBG] Done attempting to bind parameter 'employee' of type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto'.
2025-09-10 13:53:25.590 +01:00 [DBG] Attempting to validate the bound parameter 'employee' of type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto' ...
2025-09-10 13:53:25.592 +01:00 [DBG] Done attempting to validate the bound parameter 'employee' of type 'CMSApi.Application.DTO.EmployeeDto.UpdateEmployeeDto'.
2025-09-10 13:53:25.596 +01:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .SingleOrDefault(x => (long)x.Id == __id_0)'
2025-09-10 13:53:25.609 +01:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Employee>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Employee.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.CreatedAt (DateTime) Required, 1], [Property: Employee.DOB (DateOnly) Required, 2], [Property: Employee.DepartmentId (int?) FK Index, 3], [Property: Employee.Email (string) Required, 4], [Property: Employee.Firstname (string) Required, 5], [Property: Employee.Gender (string) Required, 6], [Property: Employee.IsActive (bool) Required, 7], [Property: Employee.Lastname (string) Required, 8], [Property: Employee.Middlename (string), 9], [Property: Employee.Phone (string) Required, 10], [Property: Employee.Role (string) Required, 11], [Property: Employee.UpdatedAt (DateTime) Required, 12] }
        SELECT TOP(2) e.Id, e.CreatedAt, e.DOB, e.DepartmentId, e.Email, e.Firstname, e.Gender, e.IsActive, e.Lastname, e.Middlename, e.Phone, e.Role, e.UpdatedAt
        FROM Employees AS e
        WHERE CAST(e.Id AS bigint) == @__id_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Employee.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.CreatedAt (DateTime) Required, 1], [Property: Employee.DOB (DateOnly) Required, 2], [Property: Employee.DepartmentId (int?) FK Index, 3], [Property: Employee.Email (string) Required, 4], [Property: Employee.Firstname (string) Required, 5], [Property: Employee.Gender (string) Required, 6], [Property: Employee.IsActive (bool) Required, 7], [Property: Employee.Lastname (string) Required, 8], [Property: Employee.Middlename (string), 9], [Property: Employee.Phone (string) Required, 10], [Property: Employee.Role (string) Required, 11], [Property: Employee.UpdatedAt (DateTime) Required, 12] }
        SELECT TOP(2) e.Id, e.CreatedAt, e.DOB, e.DepartmentId, e.Email, e.Firstname, e.Gender, e.IsActive, e.Lastname, e.Middlename, e.Phone, e.Role, e.UpdatedAt
        FROM Employees AS e
        WHERE CAST(e.Id AS bigint) == @__id_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Employee entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Employee instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Employee);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Employee.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Employee").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Employee)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Employee")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Employee")]: 
                        {
                            return 
                            {
                                Employee instance;
                                instance = new Employee();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                instance.<DOB>k__BackingField = dataReader.GetFieldValue<DateOnly>(2);
                                instance.<DepartmentId>k__BackingField = dataReader.IsDBNull(3) ? default(int?) : (int?)dataReader.GetInt32(3);
                                instance.<Email>k__BackingField = dataReader.GetString(4);
                                instance.<Firstname>k__BackingField = dataReader.GetString(5);
                                instance.<Gender>k__BackingField = dataReader.GetString(6);
                                instance.<IsActive>k__BackingField = dataReader.GetBoolean(7);
                                instance.<Lastname>k__BackingField = dataReader.GetString(8);
                                instance.<Middlename>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                instance.<Phone>k__BackingField = dataReader.GetString(10);
                                instance.<Role>k__BackingField = dataReader.GetString(11);
                                instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CMSApi.Domain.Entities.Employee")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Employee)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .SingleOrDefault()'
2025-09-10 13:53:25.617 +01:00 [DBG] Creating DbConnection.
2025-09-10 13:53:25.619 +01:00 [DBG] Created DbConnection. (2ms).
2025-09-10 13:53:25.621 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:53:25.623 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:53:25.625 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 13:53:25.626 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-10 13:53:25.628 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-09-10 13:53:25.629 +01:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[Role], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE CAST([e].[Id] AS bigint) = @__id_0
2025-09-10 13:53:25.635 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[Role], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE CAST([e].[Id] AS bigint) = @__id_0
2025-09-10 13:53:25.642 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:53:25.666 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:53:25.670 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 32ms reading results.
2025-09-10 13:53:25.673 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:53:25.675 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (2ms).
2025-09-10 13:53:25.678 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-09-10 13:53:25.679 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-09-10 13:53:25.688 +01:00 [DBG] The unchanged property 'Employee.DepartmentId' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-10 13:53:25.690 +01:00 [DBG] An entity of type 'Employee' tracked by 'CMSDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:53:25.692 +01:00 [DBG] The foreign key property 'Employee.DepartmentId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-10 13:53:25.696 +01:00 [DBG] The unchanged property 'Employee.Email' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-10 13:53:25.702 +01:00 [DBG] The unchanged property 'Employee.Lastname' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-10 13:53:25.704 +01:00 [DBG] The unchanged property 'Employee.Phone' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-10 13:53:25.705 +01:00 [DBG] The unchanged property 'Employee.Role' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-10 13:53:25.707 +01:00 [DBG] The unchanged property 'Employee.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-10 13:53:25.708 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-09-10 13:53:25.712 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:53:25.713 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:53:25.715 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 13:53:25.717 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-10 13:53:25.719 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-09-10 13:53:25.721 +01:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [DepartmentId] = @p0, [Email] = @p1, [Lastname] = @p2, [Phone] = @p3, [Role] = @p4, [UpdatedAt] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2025-09-10 13:53:25.727 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [DepartmentId] = @p0, [Email] = @p1, [Lastname] = @p2, [Phone] = @p3, [Role] = @p4, [UpdatedAt] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2025-09-10 13:53:25.729 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:53:25.731 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-09-10 13:53:25.734 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:53:25.737 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (2ms).
2025-09-10 13:53:25.740 +01:00 [DBG] An entity of type 'Employee' tracked by 'CMSDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:53:25.742 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 1 entities written to the database.
2025-09-10 13:53:25.743 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-09-10 13:53:25.744 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-09-10 13:53:25.746 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-09-10 13:53:25.747 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 0 entities written to the database.
2025-09-10 13:53:25.753 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 13:53:25.756 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-10 13:53:25.757 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 13:53:25.759 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 13:53:25.760 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 13:53:25.760 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 13:53:25.762 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto'.
2025-09-10 13:53:25.772 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.UpdateEmployee (CMSApi) in 223.386ms
2025-09-10 13:53:25.774 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.UpdateEmployee (CMSApi)'
2025-09-10 13:53:25.775 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 13:53:25.777 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:53:25.778 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-09-10 13:53:25.780 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7258/api/Employee/4 - 200 null application/json; charset=utf-8 274.3629ms
2025-09-10 13:54:29.385 +01:00 [INF] Request starting HTTP/2 PATCH https://localhost:7258/api/Employee/4 - application/json 22
2025-09-10 13:54:29.394 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee/4'
2025-09-10 13:54:29.397 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi)' with route pattern 'api/Employee/{Id}' is valid for the request path '/api/Employee/4'
2025-09-10 13:54:29.399 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi)'
2025-09-10 13:54:29.400 +01:00 [INF] No CORS policy found for the specified request.
2025-09-10 13:54:29.402 +01:00 [DBG] Successfully validated the token.
2025-09-10 13:54:29.402 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 13:54:29.404 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 13:54:29.405 +01:00 [DBG] Authorization was successful.
2025-09-10 13:54:29.406 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi)'
2025-09-10 13:54:29.411 +01:00 [INF] Route matched with {action = "PatchEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]] PatchEmployee(Int32, CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 13:54:29.415 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 13:54:29.419 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 13:54:29.420 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 13:54:29.422 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 13:54:29.424 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 13:54:29.426 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 13:54:29.428 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 13:54:29.432 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 13:54:29.434 +01:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2025-09-10 13:54:29.436 +01:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2025-09-10 13:54:29.437 +01:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2025-09-10 13:54:29.439 +01:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2025-09-10 13:54:29.440 +01:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2025-09-10 13:54:29.441 +01:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2025-09-10 13:54:29.443 +01:00 [DBG] Attempting to bind parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto' ...
2025-09-10 13:54:29.444 +01:00 [DBG] Attempting to bind parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto' using the name '' in request data ...
2025-09-10 13:54:29.446 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-10 13:54:29.453 +01:00 [DBG] Connection id "0HNFGCSD5PDDF", Request id "0HNFGCSD5PDDF:0000000B": started reading request body.
2025-09-10 13:54:29.455 +01:00 [DBG] Connection id "0HNFGCSD5PDDF", Request id "0HNFGCSD5PDDF:0000000B": done reading request body.
2025-09-10 13:54:29.457 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto'
2025-09-10 13:54:29.458 +01:00 [DBG] Done attempting to bind parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto'.
2025-09-10 13:54:29.459 +01:00 [DBG] Done attempting to bind parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto'.
2025-09-10 13:54:29.461 +01:00 [DBG] Attempting to validate the bound parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto' ...
2025-09-10 13:54:29.464 +01:00 [DBG] Done attempting to validate the bound parameter 'employeedto' of type 'CMSApi.Application.DTO.EmployeeDto.PatchEmployeeDto'.
2025-09-10 13:54:29.467 +01:00 [DBG] Creating DbConnection.
2025-09-10 13:54:29.468 +01:00 [DBG] Created DbConnection. (0ms).
2025-09-10 13:54:29.469 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:54:29.470 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:54:29.471 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 13:54:29.472 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-10 13:54:29.473 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-09-10 13:54:29.475 +01:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[Role], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE CAST([e].[Id] AS bigint) = @__id_0
2025-09-10 13:54:29.480 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[Role], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE CAST([e].[Id] AS bigint) = @__id_0
2025-09-10 13:54:29.484 +01:00 [DBG] Context 'CMSDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:54:29.485 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:54:29.487 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-09-10 13:54:29.488 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:54:29.490 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (1ms).
2025-09-10 13:54:29.491 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-09-10 13:54:29.493 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-09-10 13:54:29.494 +01:00 [DBG] The unchanged property 'Employee.IsActive' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-10 13:54:29.496 +01:00 [DBG] An entity of type 'Employee' tracked by 'CMSDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:54:29.499 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-09-10 13:54:29.500 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:54:29.502 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:54:29.503 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 13:54:29.504 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-10 13:54:29.505 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-09-10 13:54:29.507 +01:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [IsActive] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-09-10 13:54:29.511 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [IsActive] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-09-10 13:54:29.514 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:54:29.516 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-09-10 13:54:29.517 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:54:29.519 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (1ms).
2025-09-10 13:54:29.520 +01:00 [DBG] An entity of type 'Employee' tracked by 'CMSDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-10 13:54:29.522 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 1 entities written to the database.
2025-09-10 13:54:29.523 +01:00 [DBG] SaveChanges starting for 'CMSDbContext'.
2025-09-10 13:54:29.524 +01:00 [DBG] DetectChanges starting for 'CMSDbContext'.
2025-09-10 13:54:29.526 +01:00 [DBG] DetectChanges completed for 'CMSDbContext'.
2025-09-10 13:54:29.527 +01:00 [DBG] SaveChanges completed for 'CMSDbContext' with 0 entities written to the database.
2025-09-10 13:54:29.528 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 13:54:29.532 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-10 13:54:29.534 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 13:54:29.535 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 13:54:29.536 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 13:54:29.537 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 13:54:29.538 +01:00 [INF] Executing OkObjectResult, writing value of type 'CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto'.
2025-09-10 13:54:29.539 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi) in 113.5194ms
2025-09-10 13:54:29.541 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.PatchEmployee (CMSApi)'
2025-09-10 13:54:29.542 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 13:54:29.543 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:54:29.545 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-09-10 13:54:29.547 +01:00 [INF] Request finished HTTP/2 PATCH https://localhost:7258/api/Employee/4 - 200 null application/json; charset=utf-8 161.7045ms
2025-09-10 13:56:26.336 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7258/api/Employee?Gender=Female - null null
2025-09-10 13:56:26.342 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2025-09-10 13:56:26.343 +01:00 [DBG] Endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2025-09-10 13:56:26.345 +01:00 [DBG] Request matched endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 13:56:26.347 +01:00 [DBG] Successfully validated the token.
2025-09-10 13:56:26.348 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 13:56:26.349 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-10 13:56:26.352 +01:00 [DBG] Authorization was successful.
2025-09-10 13:56:26.353 +01:00 [INF] Executing endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 13:56:26.359 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto]]] GetAll(CMSApi.Application.DTO.EmployeeDto.Filter) on controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi).
2025-09-10 13:56:26.362 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-10 13:56:26.364 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-10 13:56:26.366 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-10 13:56:26.368 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-10 13:56:26.371 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-10 13:56:26.373 +01:00 [DBG] Executing controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 13:56:26.376 +01:00 [DBG] Entity Framework Core 9.0.8 initialized 'CMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-09-10 13:56:26.378 +01:00 [DBG] Executed controller factory for controller CMSApi.Presentation.Controllers.EmployeeController (CMSApi)
2025-09-10 13:56:26.384 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 13:56:26.387 +01:00 [DBG] Attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' using the name '' in request data ...
2025-09-10 13:56:26.392 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String' using the name 'Gender' in request data ...
2025-09-10 13:56:26.395 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.Gender' of type 'System.String'.
2025-09-10 13:56:26.397 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DepartmentId' of type 'System.Nullable`1[System.Int32]' using the name 'DepartmentId' in request data ...
2025-09-10 13:56:26.399 +01:00 [DBG] Could not find a value in the request with name 'DepartmentId' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.DepartmentId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 13:56:26.403 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.DepartmentId' of type 'System.Nullable`1[System.Int32]'.
2025-09-10 13:56:26.405 +01:00 [DBG] Attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2025-09-10 13:56:26.407 +01:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 13:56:26.409 +01:00 [DBG] Done attempting to bind property 'CMSApi.Application.DTO.EmployeeDto.Filter.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2025-09-10 13:56:26.411 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 13:56:26.412 +01:00 [DBG] Done attempting to bind parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 13:56:26.413 +01:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter' ...
2025-09-10 13:56:26.415 +01:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'CMSApi.Application.DTO.EmployeeDto.Filter'.
2025-09-10 13:56:26.429 +01:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Include(e => e.Department)
    .Where(e => e.Gender == __filter_Gender_0)
    .Select(e => new EmployeeResponseDto{ 
        Id = (int?)e.Id, 
        Fullname = string.Format(
            format: "{0} {1} {2}", 
            arg0: e.Firstname, 
            arg1: e.Middlename, 
            arg2: e.Lastname), 
        Gender = e.Gender, 
        Email = e.Email, 
        Phone = e.Phone, 
        DOB = e.DOB, 
        Role = e.Role, 
        DepartmentId = e.DepartmentId, 
        DeptName = e.Department.DeptName, 
        IsActive = e.IsActive 
    }
    )'
2025-09-10 13:56:26.498 +01:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<EmployeeResponseDto>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
            5 -> 5
            6 -> 6
            7 -> 7
            8 -> 8
            9 -> 9
            10 -> 10
            11 -> 11
        SELECT e.Id, e.Firstname, e.Middlename, e.Lastname, e.Gender, e.Email, e.Phone, e.DOB, e.Role, e.DepartmentId, d.DeptName, e.IsActive
        FROM Employees AS e
        LEFT JOIN Departments AS d ON e.DepartmentId == d.Id
        WHERE e.Gender == @__filter_Gender_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
            5 -> 5
            6 -> 6
            7 -> 7
            8 -> 8
            9 -> 9
            10 -> 10
            11 -> 11
        SELECT e.Id, e.Firstname, e.Middlename, e.Lastname, e.Gender, e.Email, e.Phone, e.DOB, e.Role, e.DepartmentId, d.DeptName, e.IsActive
        FROM Employees AS e
        LEFT JOIN Departments AS d ON e.DepartmentId == d.Id
        WHERE e.Gender == @__filter_Gender_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        int? value1;
        string value2;
        string value3;
        string value4;
        string value5;
        string value6;
        string value7;
        DateOnly? value8;
        string value9;
        int? value10;
        string value11;
        bool? value12;
        value1 = (int?)dataReader.GetInt32(0);
        value2 = dataReader.GetString(1);
        value3 = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
        value4 = dataReader.GetString(3);
        value5 = dataReader.GetString(4);
        value6 = dataReader.GetString(5);
        value7 = dataReader.GetString(6);
        value8 = (DateOnly?)dataReader.GetFieldValue<DateOnly>(7);
        value9 = dataReader.GetString(8);
        value10 = dataReader.IsDBNull(9) ? default(int?) : (int?)dataReader.GetInt32(9);
        value11 = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
        value12 = (bool?)dataReader.GetBoolean(11);
        return new EmployeeResponseDto{ 
            Id = value1, 
            Fullname = string.Format(
                format: "{0} {1} {2}", 
                arg0: value2, 
                arg1: value3, 
                arg2: value4), 
            Gender = value5, 
            Email = value6, 
            Phone = value7, 
            DOB = (DateOnly)value8, 
            Role = value9, 
            DepartmentId = value10, 
            DeptName = value11, 
            IsActive = (bool)value12 
        }
        ;
    }, 
    contextType: CMSApi.Infrastructure.Data.CMSDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-10 13:56:26.511 +01:00 [DBG] Creating DbConnection.
2025-09-10 13:56:26.513 +01:00 [DBG] Created DbConnection. (2ms).
2025-09-10 13:56:26.515 +01:00 [DBG] Opening connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:56:26.518 +01:00 [DBG] Opened connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:56:26.520 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-10 13:56:26.522 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-10 13:56:26.523 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-10 13:56:26.525 +01:00 [DBG] Executing DbCommand [Parameters=[@__filter_Gender_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DepartmentId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DepartmentId] = [d].[Id]
WHERE [e].[Gender] = @__filter_Gender_0
2025-09-10 13:56:26.532 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__filter_Gender_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [e].[Role], [e].[DepartmentId], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
LEFT JOIN [Departments] AS [d] ON [e].[DepartmentId] = [d].[Id]
WHERE [e].[Gender] = @__filter_Gender_0
2025-09-10 13:56:26.540 +01:00 [DBG] Closing data reader to 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:56:26.542 +01:00 [DBG] A data reader for 'CMSDb' on server 'localhost\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-09-10 13:56:26.545 +01:00 [DBG] Closing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:56:26.546 +01:00 [DBG] Closed connection to database 'CMSDb' on server 'localhost\SQLEXPRESS' (1ms).
2025-09-10 13:56:26.549 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-10 13:56:26.552 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-10 13:56:26.554 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-10 13:56:26.556 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-10 13:56:26.557 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-10 13:56:26.558 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-10 13:56:26.559 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CMSApi.Application.DTO.EmployeeDto.EmployeeResponseDto, CMSApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-10 13:56:26.561 +01:00 [INF] Executed action CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi) in 188.3314ms
2025-09-10 13:56:26.562 +01:00 [INF] Executed endpoint 'CMSApi.Presentation.Controllers.EmployeeController.GetAll (CMSApi)'
2025-09-10 13:56:26.564 +01:00 [DBG] 'CMSDbContext' disposed.
2025-09-10 13:56:26.565 +01:00 [DBG] Disposing connection to database 'CMSDb' on server 'localhost\SQLEXPRESS'.
2025-09-10 13:56:26.566 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-09-10 13:56:26.569 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7258/api/Employee?Gender=Female - 200 null application/json; charset=utf-8 267.899ms
2025-09-10 13:58:26.251 +01:00 [DBG] Connection id "0HNFGCSD5PDDF" received FIN.
2025-09-10 13:58:26.287 +01:00 [DBG] Connection id "0HNFGCSD5PDDF" is closed. The last processed stream ID was 13.
2025-09-10 13:58:26.288 +01:00 [DBG] The connection queue processing loop for 0HNFGCSD5PDDF completed.
2025-09-10 13:58:26.293 +01:00 [DBG] Connection id "0HNFGCSD5PDDF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-10 13:58:26.308 +01:00 [DBG] Connection id "0HNFGCSD5PDDF" stopped.
